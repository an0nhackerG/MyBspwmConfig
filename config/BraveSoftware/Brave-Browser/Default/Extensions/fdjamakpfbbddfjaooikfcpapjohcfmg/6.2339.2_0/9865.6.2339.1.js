"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[9865],{313661:(e,t,s)=>{s.d(t,{Z:()=>g});var i=s(696832),a=s(554712),n=s(383849),l=s.n(n),r=s(526849),o=s(769183),d=s(317894),h=s.n(d),p=s(111768),c=s(654),u=s(83126);const m=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))};class g extends i.Component{constructor(e){super(e),this.field=void 0,this.handleChange=e=>{this.setState({selectionRangeStart:e.target.selectionStart,selectionRangeEnd:e.target.selectionEnd}),this.props.onChange&&this.props.onChange(e)},this.state={fieldHtmlId:(0,o.Z)(),selectionRangeStart:null,selectionRangeEnd:null}}componentDidUpdate(){null!==this.state.selectionRangeStart&&null!==this.state.selectionRangeEnd&&this.field.setSelectionRange(this.state.selectionRangeStart,this.state.selectionRangeEnd)}shouldComponentUpdate(e,t){return!((0,r.equals)(this.props.value,e.value)&&(0,r.equals)(this.props.error,e.error)&&(0,r.equals)(this.props.mask,e.mask)&&(0,r.equals)(this.props.label,e.label)&&(0,r.equals)(this.state.selectionRangeStart,t.selectionRangeStart)&&(0,r.equals)(this.state.selectionRangeEnd,t.selectionRangeEnd))}getValue(){return this.field.value}focus(){this.field.focus()}getTextarea(){var e;return(0,p.tZ)(a.Z,{inputRef:e=>{this.field=e},id:this.state.fieldHtmlId,disabled:this.props.disabled,value:null!=(e=this.props.value)?e:"",name:this.props.name,"data-name":this.props.dataName,sx:{borderColor:this.props.error&&"ds.border.danger.standard.idle"},className:u.Z.textarea,placeholder:this.props.placeholder,onBlur:this.props.handleFieldBlur,onKeyDown:this.props.onFieldKeyDown,onChange:this.handleChange})}getInput(){var e;const t={onBlur:this.props.handleFieldBlur,onChange:this.handleChange,disabled:this.props.disabled,readOnly:this.props.readOnly,value:null!=(e=this.props.value)?e:""},s={ref:e=>{this.field=e},id:this.state.fieldHtmlId,autoComplete:"off",className:l()(u.Z.input,{[u.Z.error]:Boolean(this.props.error)}),sx:{...this.props.error&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:this.props.error?"ds.border.danger.standard.idle":"transparent"},name:this.props.name,"data-name":this.props.dataName,type:this.props.type||"text",placeholder:this.props.placeholder,onKeyDown:this.props.onFieldKeyDown};return this.props.mask?(0,p.tZ)(h(),{...t,...this.props.maskProps,mask:this.props.mask,onCopy:()=>m(t.value),onCut:()=>m(t.value)},(e=>(0,p.tZ)("input",{...s,...e}))):(0,p.tZ)("div",{className:u.Z.inputRow},(0,p.tZ)("input",{...s,...t}),(0,p.tZ)("div",{hidden:!this.props.error||"string"!=typeof this.props.error,sx:{color:"ds.text.danger.quiet"},className:u.Z.errorMessage},this.props.error))}render(){const e="password"!==this.props.type?this.props.value||this.props.placeholder:"";return(0,p.tZ)("div",{className:l()(u.Z.container,this.props.multiLine?u.Z.containerMultiLine:null)},this.props.label&&(0,p.tZ)("label",{className:u.Z.label,sx:{color:"ds.text.neutral.catchy"},htmlFor:this.state.fieldHtmlId},(0,p.tZ)("span",{className:u.Z.text,title:this.props.label},this.props.label)),(0,p.tZ)(c.Z,{tooltipText:e,className:l()(u.Z.value,{[u.Z.placeholder]:!this.props.value,[u.Z.multiline]:this.props.multiLine})},this.props.multiLine?this.getTextarea():this.getInput()))}}g.defaultProps={maskProps:{maskChar:""}}},702394:(e,t,s)=>{s.d(t,{Z:()=>h,h:()=>d});var i=s(696832),a=s(111768),n=s(159515),l=s(151796),r=s(201389),o=s(177704);const d=({closeConfirmDeleteDialog:e,onDeleteConfirm:t,translations:s})=>{const{translate:n}=(0,r.Z)(),{confirmDeleteSubtitle:l,confirmDeleteTitle:d,confirmDeleteDismiss:h,confirmDeleteConfirm:p}=s;return i.createElement(a.Vq,{title:d,onClose:e,isOpen:!0,dialogClassName:o.Ht,closeActionLabel:n("_common_dialog_dismiss_button"),isDestructive:!0,actions:{primary:{children:p,onClick:t,id:"deletion-dialog-confirm-button"},secondary:{children:h,onClick:e,autoFocus:!0,id:"deletion-dialog-dismiss-button"}}},l)},h=({reason:e,translations:t,goToSharingAccess:s,closeCantDeleteDialog:o})=>{const{translate:d}=(0,r.Z)(),h=((e,t)=>{const{groupSharingTitle:s,lastAdminTitle:i,genericErrorTitle:a}=e;switch(t){case n.J.LastAdmin:return i;case n.J.GroupSharing:return s;case n.J.Generic:return a;default:return(0,l.U)(t)}})(t,e),p=((e,t)=>{const{groupSharingSubtitle:s,lastAdminSubtitle:i,genericErrorSubtitle:a}=e;switch(t){case n.J.LastAdmin:return i;case n.J.GroupSharing:return s;case n.J.Generic:return a;default:return(0,l.U)(t)}})(t,e);return i.createElement(a.Vq,{isOpen:!0,onClose:o,title:null!=h?h:"",closeActionLabel:d("_common_dialog_dismiss_button"),actions:e===n.J.LastAdmin?{primary:{children:t.lastAdminActionLabel,onClick:s}}:void 0},p)}},919551:(e,t,s)=>{s.d(t,{Jh:()=>r,UE:()=>n,ZP:()=>o});var i=s(696832),a=s(526849);const n=(0,a.compose)(a.not,a.isEmpty,a.trim,(0,a.defaultTo)("")),l=/.+@.+\..+/,r=e=>l.test(e.trim());class o extends i.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:s}=this.props,i={...this.state.values,...e};this.setState({values:i},(()=>{t&&t(this.hasFormBeenEdited()),s&&s(i)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const s=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(s)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,a.reduce)(((t,s)=>(t[s]=e[s]?(0,a.compose)(a.not,e[s]):()=>!1,t)),{},Object.keys(this.state.values)),s=(0,a.evolve)(t,this.state.values);return this.setState({errors:s}),(0,a.all)((0,a.equals)(!1),(0,a.values)(s))},this.hasFormBeenEdited=()=>!(0,a.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,a.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},159515:(e,t,s)=>{let i;s.d(t,{J:()=>i}),function(e){e[e.LastAdmin=0]="LastAdmin",e[e.GroupSharing=1]="GroupSharing",e[e.Generic=2]="Generic"}(i||(i={}))},72320:(e,t,s)=>{s.d(t,{Y:()=>g});var i=s(696832),a=s(453576),n=s(592233),l=s(796446),r=s(487322),o=s(635164),d=s(702394),h=s(66941),p=s(418402),c=s.n(p),u=s(62429);const m={DELETE_CONFIRM:"webapp_personal_info_edition_delete_confirm",DELETE_DISMISS:"webapp_personal_info_edition_delete_dismiss",DELETE_SUBTITLE:"webapp_personal_info_edition_delete_subtitle"};function g(e){const{getItemTypeDescription:t,getDeleteTitle:s,getTitle:p,iconType:g,kwType:f,renderForm:D}=e;return class extends i.Component{constructor(...e){super(...e),this.form=(0,i.createRef)(),this.getFormValues=()=>{var e;return null!=(e=this.form.current?.getValues())?e:null},this.isFormValid=()=>{var e;return null!=(e=this.form.current?.isFormValid())&&e},this.state={hasDataBeenModified:!1,displayConfirmDeleteDialog:!1},this.componentDidMount=()=>{const e={[a.DataModelType.KWAddress]:n.PageView.ItemAddressDetails,[a.DataModelType.KWCompany]:n.PageView.ItemCompanyDetails,[a.DataModelType.KWEmail]:n.PageView.ItemEmailDetails,[a.DataModelType.KWIdentity]:n.PageView.ItemIdentityDetails,[a.DataModelType.KWPhone]:n.PageView.ItemPhoneDetails,[a.DataModelType.KWPersonalWebsite]:n.PageView.ItemWebsiteDetails};(0,u.Nc)(e[f])},this.showListView=()=>{(0,u.Nc)(n.PageView.ItemPersonalInfoList),(0,o.uX)(this.props.lee.routes.userPersonalInfo)},this.handleEditedForm=()=>this.setState({hasDataBeenModified:!0}),this.handleNavigateOut=()=>{this.showListView()},this.handleClickDelete=()=>this.setState({displayConfirmDeleteDialog:!0}),this.closeConfirmDeleteDialog=()=>this.setState({displayConfirmDeleteDialog:!1}),this.handleDeleteConfirm=()=>{const{item:e}=this.props;e?.id&&(h.C.removePersonalDataItem({id:e.id}),this.showListView())},this.handleSubmit=async()=>{const{item:e}=this.props;if(!e?.id)return;if(!this.isFormValid())return;const t=this.getFormValues(),s={kwType:f,origin:a.SaveOrigin.MANUAL,content:{...t,id:e.id}};await h.C.savePersonalDataItem(s),this.showListView()},this.render=()=>{const{item:e,lee:{translate:a}}=this.props,{displayConfirmDeleteDialog:n,hasDataBeenModified:o}=this.state,h=Boolean(this.props.match.params?.uuid),u=e?p(e,a):"",f=s(a),C=t(a),E=i.createElement(r.ZP,{iconSize:r.Jh.headerEditPanelIcon,iconType:g}),v={confirmDeleteConfirm:a(m.DELETE_CONFIRM),confirmDeleteDismiss:a(m.DELETE_DISMISS),confirmDeleteSubtitle:a(m.DELETE_SUBTITLE),confirmDeleteTitle:f};return i.createElement(l.zI,{isViewingExistingItem:h,itemHasBeenEdited:o,onNavigateOut:this.handleNavigateOut,onSubmit:this.handleSubmit,onClickDelete:this.handleClickDelete,ignoreCloseOnEscape:n,formId:"edit_personalinfo_panel",header:i.createElement(l.V9,{icon:E,iconBackgroundColor:c()["--dash-green-00"],title:u,titleDescription:C})},e?D(this.props.lee,e,this.form,this.handleEditedForm):"",n?i.createElement(d.h,{closeConfirmDeleteDialog:this.closeConfirmDeleteDialog,onDeleteConfirm:this.handleDeleteConfirm,translations:v}):null)}}}}},83126:(e,t,s)=>{s.d(t,{Z:()=>i});const i={container:"container--Qypu77vxOn",containerMultiLine:"containerMultiLine--ncWYFwQEnR",_field:"_field--KII5X4xmLN",input:"input--Iq10hxAz32 _field--KII5X4xmLN",inputRow:"inputRow--gdD_j5S1R8",textarea:"textarea--VpIWTZemV2 _field--KII5X4xmLN",label:"label--Ww_r49kt_J",text:"text--oXyCzpUMwG",value:"value--aD7nWEqBIq",multiline:"multiline--fdPM1KFHPT"}}}]);