"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[5496],{765499:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(696832),i=a(635164),s=a(19835);function o({path:e}){return n.createElement(i.GB,{exact:!0,path:[e,`${e}/create`,`${e}/create/confirm`]},n.createElement(i.rs,null,n.createElement(i.l_,{exact:!0,from:`${e}/`,to:`${e}/create`}),n.createElement(s.Z,{path:`${e}/create`,options:{flowIndicator:"memberAccount"}})))}},106826:(e,t,a)=>{a.d(t,{t:()=>o});var n=a(696832),i=a(201389);const s=({title:e,description:t,example:a})=>n.createElement("section",null,n.createElement("h3",{className:"tipTitle--E1xwuwFYGQ"},e),n.createElement("div",{className:"tipDescription--F8jzGudxgL"},t),a?n.createElement("p",{className:"tipExample--OSKD8mHhgv"},a):null),o=()=>{const{translate:e}=(0,i.Z)();return n.createElement(n.Fragment,null,n.createElement(s,{title:e("webapp_account_security_settings_passwordtips_general_rules_title"),description:n.createElement("ul",null,n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_1")),n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_2")),n.createElement("li",null,e("webapp_account_security_settings_passwordtips_general_rules_description_3")))}),n.createElement(s,{title:e("webapp_account_security_settings_passwordtips_story_method_title"),description:e("webapp_account_security_settings_passwordtips_story_method_description"),example:e("webapp_account_security_settings_passwordtips_story_method_example")}),n.createElement(s,{title:e("webapp_account_security_settings_passwordtips_series_words_title"),description:e("webapp_account_security_settings_passwordtips_series_words_description"),example:e("webapp_account_security_settings_passwordtips_series_words_example")}),n.createElement(s,{title:e("webapp_account_security_settings_passwordtips_letters_numbers_title"),description:e("webapp_account_security_settings_passwordtips_letters_numbers_description"),example:e("webapp_account_security_settings_passwordtips_letters_numbers_example")}))}},139576:(e,t,a)=>{var n=a(593564),i=a(974769),s=a(106487),o=a(696832),r=a(688167),l=a(130502),c=a(600385),d=a(420145),u=a(748085),_=a(826411),m=a(362688),p=(a(664562),a(241901)),g=a(583266),y=a(403092),b=a(140),h=a.n(b);const x=(0,a(577037).Z)("STATE_IN_URL",{}),S=(e,t)=>{if(t.length>0){const a=t[0];return a in e||(e[a]={}),S(e[a],t.slice(1))}return e},f=x.registerAction("RESTORE_DATA",((e,t)=>{const a={};return Object.keys(t).forEach((e=>{const n=e.split(".");S(a,n.slice(0,n.length-1))[n[n.length-1]]=t[e]})),h()({},e,a)})),{apply:v}=x,C=v,E=function(e,t){const a=(0,y.parse)(e);return Object.keys(t).filter((e=>e in a)).map((e=>({urlValue:a[e],userValue:t[e]}))).map((({urlValue:e,userValue:t})=>"string"==typeof t?{[t]:e}:t(e)||{})).reduce(((e,t)=>(Object.keys(t).forEach((t=>{if(t in e)throw new Error("Some URL options conflict")})),Object.assign(e,t))),{})};var Z=a(635164),N=a(373880),T=a(158649),D=a(554452),M=a(335396),I=a(249808),A=a(263907),w=a(182422),k=a(680930),O=a(374479),L=a(312706),z=a(330135),j=a(648106),R=a(671699),P=a(944991),U=a(6128),B=a(617770),G=a(625119),F=a(760946),V=a(364075),$=a(158432),q=a(524179);let W;function H(){return W||(W=function(e){const t=[];s.bq&&t.push((0,q.createLogger)({timestamp:!1,collapsed:!0,diff:!0}));const a=(0,w.compose)((0,w.applyMiddleware)(...t),(window.devToolsExtension,e=>e))(w.createStore)(function(e){const t=(0,$.RC)(e);return function(e,a){return e=(0,w.combineReducers)({initialSyncProgress:V.Z.apply,notifications:O.Z.apply,carbon:k.ZP.apply,directorySyncKey:G.ZP.apply,cursor:(e={})=>e,locale:z.ZP.apply,logs:L.Z.apply,user:j.ZP.apply,webapp:P.ZP.apply,dialog:U.Z.apply,afterLogin:B.Z.apply,ieNotifications:F.Z.apply})(e,a),e=t(e,a),e=(0,R.Z)(e,a),C(e,a)}}(e));return a}(A.Z)),W}var K,Q=a(160399);const Y=a(851285),X=document.getElementById("app"),J=window.location.host,ee=null!=(K=X?.getAttribute("data-base"))?K:"",te=(X?.getAttribute("data-build-type"),(0,p.q_)({basename:"/",hashType:"slash"}));let ae;(0,Z.JB)(te);const ne="graphene-background-port";async function ie(e,t){const a=await async function(e){return await async function(e){await(0,c.X)(e),(0,l.Z)(e),(0,u.CA)(e),function(e,t,a,n){const i=Object.assign(E("",n),E(t,n));Object.keys(i).length>0&&a.dispatch(f(i))}(0,(0,Z.NW)(),e,{login:e=>"dummy"===e?{"user.session.login":"dummy-login@example.com","user.session.uki":"dummy-uki","user.password":null}:{"user.session.login":e},password:"user.session.password",showBillingAdmin:"cursor.app.team.account.billing.admin._.showConfirm",uki:"user.session.uki"})}(e),await(0,m.yd)(e),new I.G(ne)}(e),{client:n}=(0,N.X)({appDefinition:M.R,channels:{background:new T.N(a)},channelsListener:D.y}),i=n["carbon-legacy"].queries.carbonState({path:"userSession.sync.status"});return await(0,Q.z)(i),n}var se=a(739844);((e,t)=>{a(928058),a(455733),a(794383),(0,s.ZP)();const n=(0,se.r9)(e);(async(e,t)=>{const a=H();!function(e,t){e.addEventListener("error",(e=>{e.preventDefault(),"ResizeObserver loop limit exceeded"!==e.message?t.dispatch((0,g.Z)(e.message,e.error)):e.stopPropagation()})),e.onunhandledrejection=e=>{e.preventDefault&&e.preventDefault();const a=e.reason,n=a instanceof Error?a:new Error('Promise rejection reason is not an error, but is "'+JSON.stringify(a)+'" instead');t.dispatch((0,g.Z)(`Unhandled promise rejection: ${n}`,n))}}(window,a);const n=await(0,d.eG)(a);if(ae||(ae=await ie(a),(0,_.Q)(ae)),!ae)throw new Error;Y.render(o.createElement(r.Z,{host:J,basePath:ee,history:te,store:a,translate:n,namedRoutes:t,routes:e,coreClient:ae}),X)})(t(n,e),n),(()=>{const e=document.querySelectorAll("link.light-scheme-favicon"),t=document.querySelectorAll("link.dark-scheme-favicon"),a=window.matchMedia("(prefers-color-scheme: dark)");function n(){a.matches?(e.forEach((e=>e.remove())),t.forEach((e=>document.head.append(e)))):(t.forEach((e=>e.remove())),e.forEach((e=>document.head.append(e))))}a.addEventListener?a.addEventListener("change",n):a.addListener(n),n()})()})(i.vX.CLIENT,n.t)},106487:(e,t,a)=>{a.d(t,{ZP:()=>o,bq:()=>s,sY:()=>i});var n=a(403092);let i=!1,s=!1;function o(){const e="kw_verbose";"verbose"in(0,n.parseLocationParams)(window.location)&&sessionStorage.setItem(e,"true");const t="true"===sessionStorage.getItem(e);t&&console.info("~~~ Logs activated ~~~"),i=t,s=t,window.KW_LOG=i}},948143:(e,t,a)=>{a.d(t,{j:()=>_});var n=a(696832),i=a(441217),s=a(447725),o=a(635164),r=a(201389),l=a(145623);const c="activateSSOText--uGZ1mGdPI0";var d,u;const _=({activateLink:e,onClose:t,localSsoRedirect:a,isNitroSSO:_,nitroLoginCommand:m})=>{const{translate:p}=(0,r.Z)(),[g,y]=n.useState(!0);return n.createElement(i.VqE,{closeIconName:p("_common_dialog_dismiss_button"),isOpen:g,onClose:()=>{y(!1),t()},disableOutsideClickClose:!0},n.createElement("div",{className:"dialogContainer--R1vvi6YG8s"},n.createElement(i.$N8,null,d||(d=n.createElement(i.HeP,{size:90})),n.createElement("h2",{className:"activateSSOTitle--TSG6RZuM4T"},p("activate_sso_popup_title"))),n.createElement(i.a7O,null,n.createElement("p",{className:c},p("activate_sso_popup_body")),n.createElement("p",{className:c},p("activate_sso_popup_body_secondary"))),n.createElement(i.cNS,{primaryButtonOnClick:async()=>{if(a)return(0,o.uX)(e);_?m():(0,s.nL)(e)},primaryButtonTitle:p("activate_sso_popup_primary_button"),secondaryButtonOnClick:()=>(0,s.Yo)(l.n0),secondaryButtonTitle:n.createElement(n.Fragment,null,u||(u=n.createElement(i.RTC,{size:20})),n.createElement("p",{className:"activateSSOTextWithIcon--p3VZNI9NKb"},p("activate_sso_popup_secondary_button")))})))}},808537:(e,t,a)=>{a.d(t,{S:()=>W});var n=a(696832),i=a(339227),s=(a(517274),a(148038)),o=a(238250),r=a(929986),l=a(799852),c=a(176034),d=a(421548),u=a(121911),_=a(930336),m=a(355612),p=a(201389),g=a(66941),y=a(447725),b=a(51662),h=a(635164),x=a(974769),S=a(955370),f=a(145623),v=a(295946),C=a(355053);let E;!function(e){e.ASK_FOR_MP="ASK_FOR_MP",e.ACCOUNT_CREATION="ACCOUNT_CREATION",e.D_SPINNER="D_SPINNER",e.CHANGE_MP_PROGRESS="CHANGE_MP_PROGRESS"}(E||(E={}));var Z=a(891424),N=a(441309);var T;const D=({dispatchGlobal:e,onSubmit:t})=>n.createElement("div",{className:"panelsContainer--jB02U43E37"},T||(T=n.createElement(Z.w,null)),n.createElement(N.R,{dispatchGlobal:e,onSubmit:t}));var M=a(441217);const I=({animation:e,shouldLoopAnimation:t=!1,progressValue:a=0})=>{const{translate:i}=(0,p.Z)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"logo--zwQR6n8P2E"},n.createElement(M.D1W,{color:M.vei.DashGreen,size:M.r1z.Size39,title:i("_common_dashlane_logo_title")})),n.createElement("div",{className:"progressContainer--uN3zEbYKRy"},n.createElement("div",{className:"content--g692RTJxEb"},n.createElement(u.Z,{height:96,width:96,animationParams:{renderer:"svg",animationData:e,loop:t,autoplay:!0}}),n.createElement("p",{className:"progressValue--EWZwTNi5yM"},i("_common_generic_percentage",{number:a})),n.createElement("h2",{className:"description--urcB98N4_F"},i("webapp_sso_changemp_loading_desc")),n.createElement("p",{className:"subDescription--dtFN1rQZIb"},i("webapp_sso_changemp_loading_warning")))))};var A=a(111768),w=a(812585),k=a(383849),O=a.n(k),L=a(358389),z=a(332794),j=a(754674),R=a(583988);const P="disclaimerCheckboxWrapper--H9bH4mWFEN",U="visible--tgv48_Tn6M",B="disclaimerCheckbox--I9w4KoQzGz";var G;const F=({error:e,isEu:t,memberEmail:a,onSubmit:i})=>{const s=null===t,o=n.useCallback((()=>Boolean(!!s||t)),[t,s]),{translate:r}=(0,p.Z)(),[l,c]=(0,n.useState)(!o()),[d,u]=(0,n.useState)(!1),[_,m]=(0,n.useState)(!1),g=n.createRef();(0,n.useEffect)((()=>{c(!o())}),[c,o]);const y=o()?r("member_account_creation_info_tips_and_offers_label"):r("member_account_creation_i_want_to_receive_spam_and_ads");return n.createElement("div",{className:"inner--PRBfrJ8ztr"},n.createElement("h1",{className:O()("heading--xkXNXFnweh _headingBase--w98gFdP6ar","acceptHeading--bN5eLgP37u")},r("member_account_creation_accept_content_heading")),s?G||(G=n.createElement(R.Z,{size:40})):n.createElement("form",{className:"form--mbE1UdEyiO"},n.createElement(L.n,{isDisabled:!0,placeholder:r("member_account_creation_email_hint_text"),labelText:r("member_account_creation_email_floating_label"),ref:g,defaultValue:a}),e?n.createElement("div",{className:"errorText--kkUVthMMSK"},e):null,n.createElement("div",{className:O()(P,U,"consentCheckbox--OxdBTmWrRI")},n.createElement(z.Z,{label:y,labelClass:B,name:"emailsTipsAndOffers",onCheck:()=>{c(!l)},checked:l})),o()&&n.createElement("div",{className:O()(P,U)},n.createElement(z.Z,{label:n.createElement(n.Fragment,null,r.markup("account_creation_confirm_terms_of_service_markup")),labelClass:B,name:"termsAndConditions",onCheck:()=>{u(!d)},checked:d})),n.createElement("div",{className:"formAction--_jE50Dey_6"},n.createElement(j.Z,{size:"large",label:r("member_account_creation_accept_next"),disabled:Boolean(o()&&!d),onClick:()=>{const e={privacyPolicyAndToS:d,subscribed:l,isEu:o(),setIsLoading:m};i(e)},loading:_,classNames:["nextButton--v8loMwl8E9"]})),o()?null:n.createElement("p",{className:"disclaimer--HdF8Agopgb"},r.markup("member_account_creation_accept_tos_markup",{},{linkTarget:"_blank"}))))},V=e=>{const{...t}=e,a={standardHeader:"standardHeader--mQMlxYDQNk",logoContainer:"logoContainer--U1og3U_Xxu",logo:"logo--I6WuRV58HI"},n=(0,A.tZ)("div",{onClick:()=>(0,h.uX)(x.SF)});return(0,A.tZ)("div",{className:"wrapper--wU7M482wCS"},(0,A.tZ)(w.A,{classes:a,logoComponent:n}),(0,A.tZ)("div",{className:"content--HXxzOJoWsC"},(0,A.tZ)(F,{...t})))},$="webapp_login_form_regsiter_fallback_browser_name",q=e=>{const t=(0,h.Xo)(),{login:a,ssoToken:i,key:Z,exists:N,currentAuths:T,expectedAuths:M,inStore:A}=(0,C.Ae)(e),{lee:w}=e,k="true"===N,[O,L]=(0,n.useState)(k?E.D_SPINNER:E.ACCOUNT_CREATION),{translate:z}=(0,p.Z)(),[j,R]=(0,n.useState)(""),[P,U]=(0,n.useState)(0),B=(0,c.f)(),G=(0,l.k)(r.V,"getSsoUserSettings"),F=(0,b.vV)(a)?a:"",q=(0,s.K_)({live:g.C.liveChangeMasterPasswordStatus},[]);(0,n.useEffect)((()=>{A||F.length&&Z.length&&i.length||(0,h.uX)(x.TT)}),[A,F,Z,i]),(0,n.useEffect)((()=>{k&&G.status===s.rq.Success&&B.status===s.rq.Success&&(async()=>{T===o.SsoMigrationServerMethod.MP&&M===o.SsoMigrationServerMethod.SSO&&L(E.CHANGE_MP_PROGRESS);const n=e.lee.carbon.localAccounts?.find((e=>e.login===a&&"sso"===e.rememberMeType)),r=G.status===s.rq.Success&&G.data.rememberMeForSSOPreference||"true"===localStorage.getItem(_.MG),l=!n&&r&&B.status===s.rq.Success&&!B.data,c={deviceName:(0,S.M)(z($)),exist:!0,ssoServiceProviderKey:Z,login:F,ssoToken:i,currentAuths:T,expectedAuths:M,inStore:A,requiredPermissions:(0,C.ox)(),shouldRememberMeForSSO:l};n&&t.store.dispatch((0,m.zi)(x.sL)),(await g.C.loginViaSSO(c)).success?M===o.SsoMigrationServerMethod.MP&&L(E.ASK_FOR_MP):(0,h.uX)(x.TT)})()}),[k,G.status,B.status]),(0,n.useEffect)((()=>{if(q.status!==s.iD.Received||!q.data)return;const{value:e}=q.data;U(e)}),[q]);const W=async({password:e})=>{const t={newPassword:e,flow:o.ChangeMPFlowPath.SSO_TO_MP};await(async e=>{if(L(E.CHANGE_MP_PROGRESS),!(await g.C.changeMasterPassword(e)).success)return(0,h.uX)(x.TT)})(t)},H=async({isEu:e,privacyPolicyAndToS:t,setIsLoading:a,subscribed:n})=>{var s;if(e&&!t){const e=new Error("termsOfService set to false on accept submit");w.reportError(e),(0,h.uX)(x.rM)}a(!0);const r=[];if(e){const e={consentType:"privacyPolicyAndToS",status:t};r.push(e)}const l={consentType:"emailsOffersAndTips",status:n};r.push(l);const c={consents:r,deviceName:(0,S.M)(z($)),exist:!1,ssoServiceProviderKey:Z,login:F,ssoToken:i,currentAuths:T,expectedAuths:M,inStore:!1,requiredPermissions:(0,C.ox)(),anonymousUserId:(0,v.n5)(w.globalState),shouldRememberMeForSSO:"true"===localStorage.getItem(_.MG)};localStorage.removeItem(_.MG);const d=await g.C.loginViaSSO(c);if(a(!1),d.success){R("");let e=f.BJ;e=`${f.Mv}?email=${F}`,(0,y.nL)(e)}else{const e=F.slice(F.indexOf("@")+1);d.error.code===o.LoginViaSsoCode.SSO_VERIFICATION_FAILED?R(z("webapp_sso_page_create_account_error",{domain:e})):R(null!=(s=d.error.message)?s:"")}},{isEu:K}=w.carbon.currentLocation;switch(O){case E.ACCOUNT_CREATION:return n.createElement(V,{isEu:K,onSubmit:H,memberEmail:F,error:j});case E.ASK_FOR_MP:return n.createElement(D,{onSubmit:W,dispatchGlobal:w.dispatchGlobal});case E.CHANGE_MP_PROGRESS:return n.createElement(I,{animation:d,shouldLoopAnimation:!0,progressValue:P});case E.D_SPINNER:default:return n.createElement("div",{className:"loadingContainer--z9wx9Wo1ko"},n.createElement(u.Z,{height:150,width:150,animationParams:{renderer:"svg",animationData:d,loop:!0,autoplay:!0}}))}},W=e=>{const{loading:t}=(0,i.G)();return t?null:n.createElement(q,{...e})}},355053:(e,t,a)=>{a.d(t,{$9:()=>o,Ae:()=>s,ox:()=>r});var n=a(342868),i=a(238250);const s=e=>{const{location:{search:t}}=e,a={login:"",ssoToken:"",key:"",exists:"",currentAuths:i.SsoMigrationServerMethod.SSO,expectedAuths:i.SsoMigrationServerMethod.SSO,inStore:!1};try{if(t?.includes("ssoToken"))return{...a,...(0,n.parse)(t)}}catch(e){return a}return a},o=()=>`/sso?${(0,n.stringify)({ssoToken:"inStore",key:"inStore",currentAuths:i.SsoMigrationServerMethod.MP,expectedAuths:i.SsoMigrationServerMethod.SSO,exists:!0,inStore:!0})}`,r=()=>window.location.host.startsWith("console")?"BILLING":null},577037:(e,t,a)=>{function n(e,t){const a={};return{apply:function(e=t,n){return a[n.type]?a[n.type](e,n.params):e},registerAction:function(t,n){const i=`${e}/${t}`;return a[i]=n,function(e){return{type:i,params:e}}}}}a.d(t,{Z:()=>n})},777216:(e,t,a)=>{a.d(t,{Ww:()=>s,ZP:()=>o});var n=a(233377);const i=(0,a(158432).SP)("account",{planName:n.Maybe.nothing()},[]),s=(i.action("credit-card-deleted",(()=>({billingType:n.Maybe.nothing(),creditCardLastDigits:n.Maybe.nothing()}))),i.action("credit-card-updated",(({param:e})=>({billingType:n.Maybe.just("stripe"),creditCardLastDigits:n.Maybe.maybe(e)}))),i.action("premium-details-loaded",(({param:e})=>({endDate:n.Maybe.maybe(e.endDate),planName:n.Maybe.maybe(e.planName)})))),o=i},28509:(e,t,a)=>{a.d(t,{C:()=>c});var n=a(803843),i=a(148038),s=a(66941),o=a(772257),r=a(861927),l=a(696832);const c=({b2c:e,handleCardUpdate:t,pollInterval:a=2e3,timeoutAmount:c=6e5})=>{const[d,u]=(0,l.useState)(!1),[_,m]=(0,l.useState)({}),p=(0,o.Z)(),g=p.status!==i.rq.Success||!p.data,y=p?.status===i.rq.Success&&p.data?p.data[e?"b2cSubscription":"b2bSubscription"]?.billingInformation:void 0,b=!(!y?.exp_year||!y?.exp_month)&&(0,n.Z)(new Date(y.exp_year,y.exp_month,0)),h=y?.last4?Number(y.last4).toLocaleString("en-US",{minimumIntegerDigits:4,useGrouping:!1}):void 0,x=y?.type?(0,r.v)(y.type):void 0,S=y?.exp_year,f=y?.exp_month,v=S&&f?`${f}/${S.toString().substring(2)}`:"",[C,E]=(0,l.useState)(),Z=(0,l.useCallback)((()=>{d&&u(!1),C&&clearTimeout(C)}),[d,C]);return(0,l.useEffect)((()=>Z),[]),(0,l.useEffect)((()=>{if(d){const e=setInterval((()=>{s.C.refreshSubscriptionInformation()}),a);if(!C){const e=window.setTimeout(Z,c);E(e)}return()=>clearInterval(e)}}),[a,d,Z,c,C]),(0,l.useEffect)((()=>{if(d&&_&&(_.last4DigitsFormatted!==h||_.expFormatted!==v)&&(Z(),t)){const e=!_.last4DigitsFormatted;t(e)}}),[d,h,v,_,_.expFormatted,_.last4DigitsFormatted,Z,t]),{loading:g,billingInformation:y,hasCreditCardPaymentMethod:y&&!!y.last4,last4Digits:y?.last4,last4DigitsFormatted:h,cardSvg:x,isExpired:b,expYear:y?.exp_year,expMonth:y?.exp_month,expFormatted:v,pollUntilCardUpdate:()=>{u(!0),m({last4DigitsFormatted:h,expFormatted:v})}}}},736111:(e,t,a)=>{a.d(t,{Z:()=>n});const n=(0,a(158432).SP)("master-password-reset-requests",{})},973883:(e,t,a)=>{a.d(t,{$l:()=>s,AS:()=>o,Jx:()=>n,Qf:()=>i,f:()=>l,sK:()=>r});const n=({offer:e,currentSeats:t=0,additionalSeats:a=0})=>{const n=[...e.priceRanges].sort(((e,t)=>e.startMembers-t.startMembers)),i=t+a;return n.reduce(((e,t)=>t.startMembers<i&&t.startMembers>e.startMembers?t:e),n[0])},i=({offer:e,currentSeats:t,additionalSeats:a,priceTarget:i="price"})=>n({offer:e,currentSeats:t,additionalSeats:a})[i]/(e.duration.includes("y")?12:1),s=({offer:e,currentSeats:t,additionalSeats:a})=>{const i=n({offer:e,currentSeats:t,additionalSeats:a}).price;return e.duration.includes("y")?i:12*i},o=e=>!!e.name.match(/_team_/u),r=e=>!!e.name.match(/_business_/u),l=e=>e?e.priceRanges[1].startMembers-1:0},625119:(e,t,a)=>{a.d(t,{HK:()=>p,M2:()=>u,Qz:()=>d,ZP:()=>y,b3:()=>_,er:()=>g,vg:()=>m});var n=a(526849);const i=(0,a(577037).Z)("directory-sync-key",{displayDialog:!1,checkDirectorySyncKeyRequest:null,validationPostponed:!1});function s(e){return{...e,displayDialog:!1}}function o(e){return{...e,displayDialog:!0}}function r(e){return{...e,validationPostponed:!1}}function l(e,t){return{...e,checkDirectorySyncKeyRequest:t}}function c(e){return l(e,null)}const d=i.registerAction("CHECK_DIRECTORY_SYNC_KEY_REQUEST",((e,t)=>{if(!t)return e;const a=l(e,t);return e.validationPostponed?a:o(a)})),u=i.registerAction("KEY_VALIDATION_POSTPONED",(0,n.pipe)(s,(function(e){return{...e,validationPostponed:!0}}))),_=i.registerAction("REOPEN_DIALOG",(0,n.pipe)(o,r)),m=i.registerAction("CLOSE_NOTIFICATION",r),p=(i.registerAction("KEY_VALIDATED",(0,n.pipe)(s,r,c)),i.registerAction("KEY_REJECTED",(0,n.pipe)(s,r,c)),i.registerAction("HIDE_DIALOG",s)),g=i.registerAction("TERMINATE_REQUEST",(0,n.pipe)(r,c)),y=i},754505:(e,t,a)=>{a.d(t,{LD:()=>C,DX:()=>f,Bf:()=>Z,p_:()=>v,tb:()=>T});var n=a(696832),i=a(148038),s=a(27302),o=a(799852),r=a(482598),l=a(133354),c=a(57904);const d=e=>{const{data:t,status:a}=(0,o.k)(c.h,"hasSeenNotification",{notification:e}),{markNotificationAsSeen:n}=(0,r.u)(c.h);return{status:a,hasSeenNotification:a===l.rq.Success?t:null,markNotificationAsSeen:()=>{n({notification:e})}}};var u=a(111768),_=a(582028),m=a(187981),p=a(201389),g=a(635164),y=a(416088),b=a(351551);const h=(e,t=!1)=>{const a=(0,g.k6)(),s=(0,g.Xo)(),{translate:o}=(0,p.Z)(),{showToast:r,closeToast:c}=(0,u.pm)(),d=(0,m.v)(),h=d.status!==l.rq.Success,{onboarding_web_tacgetstarted:x=!1}=h?{}:d.data,{interacted:S,status:f}=(0,b.d)(_.NotificationName.TacGetStartedDismissPage),{isTeamAdmin:v,status:C}=(()=>{const[e,t]=(0,n.useState)(null),a=(0,y.E)();if(a.status===i.rq.Success){var s;const n=null!=(s=a.data.some((e=>e.isTeamAdmin)))&&s;n!==e&&t(n)}return{status:a.status,isTeamAdmin:e}})(),E=C===l.rq.Success&&f===l.rq.Success&&!h;return{showNotification:(0,n.useCallback)((()=>{E&&v&&!S&&x&&r({isManualDismiss:!0,description:o(e),closeActionLabel:o("team_get_started_notification_close_label"),action:t?{label:o("team_get_started_notification_action_go_to_get_started"),onClick:e=>{c(e),a.push(s.routes.teamGetStartedRoutePath)}}:void 0})}),[E,v,S,x]),hasDataLoaded:E}};var x=a(771906),S=a(177960);const f=()=>{const e=x.G.CHECK_PASSWORD_HEALTH,{showNotification:t,hasDataLoaded:a}=h("team_get_started_notification_content_check_password_health",!0),{status:o,hasSeenNotification:r,markNotificationAsSeen:l}=d(e),{hasSecurityScore:c,status:u}=(0,s.h)(),_=a&&u===i.rq.Success&&o===i.rq.Success;(0,n.useEffect)((()=>{_&&!r&&c&&(t(),l(),(0,S.c)(S.O.VisitDashboardPasswordHealth))}),[c,r,_])},v=()=>{const e=x.G.INVITE_MEMBERS,{showNotification:t,hasDataLoaded:a}=h("team_get_started_notification_content_invite_members",!0),{status:o,hasSeenNotification:r,markNotificationAsSeen:l}=d(e),{hasMinimumMemberCount:c,status:u}=(0,s.h)(),_=a&&u===i.rq.Success&&o===i.rq.Success;(0,n.useEffect)((()=>{_&&!r&&c&&(t(),l(),(0,S.c)(S.O.InvitePlanMembers))}),[c,r,_])},C=()=>{const e=x.G.ASSIGN_ADMIN,{showNotification:t,hasDataLoaded:a}=h("team_get_started_notification_content_assign_admin",!0),{status:o,hasSeenNotification:r,markNotificationAsSeen:l}=d(e),{hasMoreThanOneAdmin:c,status:u}=(0,s.h)(),_=a&&u===i.rq.Success&&o===i.rq.Success;(0,n.useEffect)((()=>{_&&!r&&c&&(t(),l(),(0,S.c)(S.O.AssignNewAdmin))}),[c,r,_])};var E=a(459199);const Z=()=>{const e=x.G.CREATE_SHARING_GROUP,{showNotification:t,hasDataLoaded:a}=h("team_get_started_notification_content_create_sharing_group",!0),{status:o,hasSeenNotification:r,markNotificationAsSeen:l}=d(e),{isSharingDisabled:c,status:u}=(0,s.h)(),{hasSharedGroupWithMembers:_=!1,status:m}=(0,E.A)(),p=a&&u===i.rq.Success&&o===i.rq.Success&&m===i.rq.Success;(0,n.useEffect)((()=>{p&&!r&&!c&&_&&(t(),l(),(0,S.c)(S.O.CreateSharingGroup))}),[c,r,_,p])};var N=a(743265);const T=()=>{const e=x.G.SHARE_ITEM,{showNotification:t,hasDataLoaded:a}=h("team_get_started_notification_content_share_item",!0),{status:o,hasSeenNotification:r,markNotificationAsSeen:l}=d(e),{isSharingDisabled:c,status:u}=(0,s.h)(),{hasSharedAnItemWithAGroup:_=!1,status:m}=(0,N.W)(),p=a&&u===i.rq.Success&&o===i.rq.Success&&m===i.rq.Success;(0,n.useEffect)((()=>{p&&!r&&!c&&_&&(t(),l(),(0,S.c)(S.O.ShareItem))}),[c,r,_,p])}},177960:(e,t,a)=>{a.d(t,{O:()=>n.OnboardingTask,c:()=>s});var n=a(592233),i=a(62429);const s=e=>{(0,i.Kz)(new n.UserCompleteOnboardingTaskEvent({onboardingTask:e}))}},743265:(e,t,a)=>{a.d(t,{W:()=>o});var n=a(133354),i=a(352116),s=a(675542);const o=()=>{const{currentSpaceId:e}=(0,i.fV)(),t=(0,s.c)("ascend",e);return t.status!==n.rq.Success?{status:t.status}:{status:n.rq.Success,hasSharedAnItemWithAGroup:!!t.data.items?.find((e=>e.itemCount>0))}}},459199:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(148038),i=a(133354),s=a(66941);const o=()=>{const e=(0,n.qr)({queryConfig:{query:s.C.getAdministrableUserGroups},liveConfig:{live:s.C.liveAdministrableUserGroups}},[]);return e.status!==i.rq.Success?e:{status:i.rq.Success,hasSharedGroupWithMembers:!!e.data.find((e=>e.users.length>0))}}},195764:(e,t,a)=>{a.d(t,{V:()=>r});var n=a(799852),i=a(482598),s=a(133354),o=a(57904);const r=()=>{const{data:e,status:t}=(0,n.k)(o.h,"hasVisitedVault"),{markVaultAsVisited:a}=(0,i.u)(o.h);return{status:t,hasVisitedVault:t===s.rq.Success?e:null,markVaultAsVisited:()=>{a(void 0)}}}},796365:(e,t,a)=>{a.d(t,{m:()=>o});var n=a(799852),i=a(133354),s=a(57904);const o=()=>{const{data:e,status:t}=(0,n.k)(s.h,"isTeamCreator");return{status:t,isTeamCreator:t===i.rq.Success?e:null}}},27302:(e,t,a)=>{a.d(t,{h:()=>o});var n=a(799852),i=a(133354),s=a(57904);const o=()=>{const{data:e,status:t}=(0,n.k)(s.h,"teamTasksCompletion");return t!==i.rq.Success?{status:t,hasMinimumMemberCount:!1,hasMoreThanOneAdmin:!1,hasSecurityScore:!1,hasOnlyOneMember:!1,isSharingDisabled:!1}:{status:t,...e}}},771906:(e,t,a)=>{let n;a.d(t,{G:()=>n}),function(e){e.CREATE_ACCOUNT="createAccount",e.VISIT_VAULT="visitVault",e.INVITE_MEMBERS="inviteMembers",e.ASSIGN_ADMIN="assignAdmin",e.CREATE_SHARING_GROUP="createSharingGroup",e.SHARE_ITEM="shareItem",e.CHECK_PASSWORD_HEALTH="checkPasswordHealth"}(n||(n={}))},760946:(e,t,a)=>{a.d(t,{Z:()=>s,w:()=>i});const n=(0,a(577037).Z)("ie-drop-notification",{displayIeDropNotification:!0}),i=n.registerAction("IE_DROP_NOTIFICATION",(()=>({displayIeDropNotification:!1}))),s=n},985548:(e,t,a)=>{a.d(t,{q:()=>l});var n=a(696832),i=a(111768),s=a(500275),o=a(201389),r=a(601765);const l=()=>{const{translate:e}=(0,o.Z)(),{teamOffers:t}=(0,s.a)({}),a=(0,r.t)();if(!t||!a.hasLimitedOffer)return null;const{translatedEquivalentPrice:l,translatedPrice:c}=a;return(0,i.tZ)(i.ke,{title:e("team_dashboard_upgrade_tile_infobox_title"),description:(0,i.tZ)(n.Fragment,null,(0,i.tZ)(i.X6,{as:"h5",textStyle:"ds.title.block.small",color:"ds.text.brand.standard",sx:{marginBottom:"4px"}},(0,i.tZ)("span",{sx:{textDecoration:"line-through"}},l)," ",c," ",e("team_dashboard_upgrade_tile_infobox_price")),(0,i.tZ)(i.nv,{textStyle:"ds.body.helper.regular",color:"ds.text.brand.standard"},e("team_dashboard_upgrade_tile_infobox_description"))),mood:"brand"})}},601765:(e,t,a)=>{a.d(t,{t:()=>c});var n=a(148038),i=a(467387),s=a(38025),o=a(500275),r=a(201389),l=a(973883);const c=()=>{const{translate:e}=(0,r.Z)(),t=(0,s.Y)(),{teamOffers:a}=(0,o.a)({});if(!a||t.status!==n.rq.Success)return{hasLimitedOffer:!1};const c=!(0,i.NG)(t.data),{businessOffer:d}=a,u=(0,l.Qf)({offer:d}),_=(0,l.Qf)({offer:d,priceTarget:"equivalentPrice"});return{hasLimitedOffer:c&&u!==_,translatedPrice:e.price(d.currency,u/100,{notation:"compact"}),translatedEquivalentPrice:e.price(d.currency,_/100,{notation:"compact"})}}},156652:(e,t,a)=>{a.d(t,{Jo:()=>y,Rb:()=>g,S2:()=>d,VW:()=>_,Wq:()=>l,ZP:()=>h,bh:()=>c,bj:()=>u,eY:()=>b,lp:()=>p,vE:()=>m,xF:()=>r});var n=a(233377),i=a(158432),s=a(438042);const o=(0,i.SP)("members",{members:n.Maybe.nothing(),totalSeatCount:n.Maybe.nothing(),isFreeTrial:n.Maybe.nothing(),teamName:n.Maybe.nothing(),teamSecurityScore:n.Maybe.nothing()}),r=o.action("status-loaded",(({param:e})=>({isFreeTrial:n.Maybe.just(e.isFreeTrial),totalSeatCount:n.Maybe.just(e.membersNumber+e.extraFreeSlots),teamName:n.Maybe.maybe(e.teamName),teamSecurityScore:n.Maybe.maybe(e.teamSecurityScore)}))),l=o.action("members-loaded",(({param:e})=>({members:n.Maybe.just(e.members)}))),c=o.action("user-resent-invitation",(({param:e,state:t})=>({members:t.members.map((t=>t.map((t=>t.login===e.login?Object.assign({},t,{status:"pending",isChecked:!1,isTeamCaptain:!1,isGroupManager:!1}):t))))}))),d=o.action("user-resent-invitation-failed",(({param:e,state:t})=>({members:t.members.map((t=>t.map((t=>t.login===e.login?e:t))))}))),u=o.action("user-demoted-captain",(({state:e,param:t})=>({members:e.members.fmap((e=>e.map((e=>Object.assign({},e,{isTeamCaptain:e.login!==t.login&&e.isTeamCaptain})))))}))),_=o.action("user-promoted-captain",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>Object.assign({},e,{isTeamCaptain:e.login===t.login||e.isTeamCaptain})))))}))),m=o.action("user-removed-group-manager",(({state:e,param:t})=>({members:e.members.fmap((e=>e.map((e=>Object.assign({},e,{isGroupManager:e.login!==t.login&&e.isGroupManager})))))}))),p=o.action("user-added-group-manager",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>Object.assign({},e,{isGroupManager:e.login===t.login||e.isGroupManager})))))}))),g=o.action("user-revoked-single-member",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>e.login===t.login?Object.assign({},e,{revokedDateUnix:(0,s.Z)(new Date),status:"removed"}):e)).filter((e=>Boolean(e)))))}))),y=o.action("user-revoked-single-member-failed",(({state:e,param:t})=>({members:e.members.map((e=>[...e.filter((e=>e.login!==t.login)),t]))}))),b=o.action("members-proposed",(({state:e,param:t})=>({members:n.Maybe.just(e.members.valueOr([]).concat(t.map((e=>({login:e,status:"pending",isTeamCaptain:!1,isGroupManager:!1,lastUpdateDateUnix:(0,s.Z)(new Date)}))))),totalSeatCount:e.totalSeatCount.map((a=>Math.max(a,t.length+e.members.valueOr([]).filter((e=>"removed"!==e.status)).length)))}))),h=o},1294:(e,t,a)=>{a.d(t,{Z:()=>_});var n=a(158432),i=a(777216),s=a(816694),o=a(597198),r=a(986081),l=a(901500),c=a(156652),d=a(622880),u=a(736111);const _=(0,n.SP)("team",{},[i.ZP,s.ZP,o.Z,r.ZP,l.ZP,c.ZP,d.Z,u.Z])},433892:(e,t,a)=>{a.d(t,{Z:()=>Xh});var n=a(696832),i=a(974769),s=a(635164),o=a(592233),r=a(148038),l=a(25576),c=a(5727),d=a(441217),u=a(38025),_=a(174183),m=a(500275),p=a(201389),g=a(895576),y=a(111768),b=a(28509);const h=()=>{const{translate:e}=(0,p.Z)(),{loading:t,last4DigitsFormatted:a,expFormatted:n,cardSvg:i}=(0,b.C)({});return t?(0,y.tZ)(d.HoD,{color:d.colors.midGreen00}):(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",borderRadius:"4px"}},(0,y.tZ)(d.X6q,{size:"small"},e("team_account_addseats_success_credit_card_header")),(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,y.tZ)(d.Ejs,{alignItems:"center",gap:"8px"},i,(0,y.tZ)(d.nvN,{color:"ds.text.neutral.standard"},"•••• ",a)),(0,y.tZ)(d.Ejs,null,(0,y.tZ)(d.nvN,{color:"ds.text.neutral.standard"},e("team_account_addseats_success_credit_card_expires",{expirationDate:n})))))};var x=a(772257);const S=()=>{const e=(0,x.Z)(),t=e.status!==r.rq.Success||!e.data,a=e?.status===r.rq.Success?e?.data?.b2bSubscription?.billingInformation:null,n=a?.country;return{loading:t,billingCountry:n}};var f=a(139378),v=a(75034),C=a(582234),E=a(281088),Z=a(963834);const N=({children:e})=>n.createElement("header",{className:"header--XgLmMKYqmY"},e),T={LAYOUT_CONTAINER:{display:"flex",flexDirection:"column",overflowY:"hidden"},MAIN_AREA:{display:"flex",backgroundColor:"#f5f7f7",height:" 100vh",position:"relative",overflowY:"hidden",width:"100vw"},CONTENT:{width:"100%",overflowY:"auto"},SIDE_NAV:{backgroundColor:"#0e353d"}},D=e=>{const{brand:t,children:a,header:n,sideNav:i,banner:s,dialog:o}=e;return(0,y.tZ)("div",{sx:T.LAYOUT_CONTAINER},(0,y.tZ)("div",{sx:T.MAIN_AREA},(0,y.tZ)("div",{sx:T.SIDE_NAV},(0,y.tZ)("div",null,t),(0,y.tZ)("div",null,i)),(0,y.tZ)("div",{sx:T.CONTENT},s?(0,y.tZ)("div",null,s):null,(0,y.tZ)("div",null,n),(0,y.tZ)("div",null,a)),o?(0,y.tZ)("div",null,o," "):null))};var M=a(383849),I=a.n(M),A=a(467387),w=a(887239),k=a(287834),O=a(447725),L=a(326061),z=a(62429),j=a(222924),R=a(65255),P=a(915970),U=a(542293);const B=n.createContext(null),G="NETWORK ERROR",F=({globalReportError:e,children:t})=>{const[a,i]=n.useState([]),{translate:s}=(0,p.Z)(),o=e=>{a.find((t=>t.title===e.title&&t.message===e.message))||i((t=>[...t,e]))};return n.createElement(B.Provider,{value:{queue:a,addAlertToQueue:o,popAlertFromQueue:()=>{i((e=>e.slice(1)))},reportTACError:(t,a)=>{t.message.toUpperCase()===G&&o({title:s("_common_alert_network_error_title"),message:s("_common_alert_network_error_message")}),e(t,a)}}},t)},V=()=>{const e=n.useContext(B);if(!e)throw new Error("useAlertQueue must be called from within an AlertQueueProvider");return e},$="text--SF6xWDSFRD",q="error--Pyuel29pVU",W="team_feedback_dialog_button_ok",H="team_feedback_dialog_error_markup",K=({lee:e,onDismiss:t,onFeedbackSent:a})=>{const[i,s]=(0,n.useState)(!0),[r,l]=(0,n.useState)(!1),[u,_]=(0,n.useState)(!1),m=(0,P.w)(R.w.ItadminTacPhonesupport),{translate:g}=(0,p.Z)(),{reportTACError:y}=V(),b=(0,n.useRef)();(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacAccountSendFeedback,o.BrowseComponent.Tac)}),[]);const h=()=>{(0,z.Kz)(new o.UserCallToActionEvent({hasChosenNoAction:!0})),t()};function x(e){const{value:t}=e.target;s(!t)}async function S(){l(!0),_(!1);try{var t;await(e.apiMiddleware.feedback?.send({body:null!=(t=b.current?.value)?t:""})),(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.SendEmail],chosenAction:o.CallToAction.SendEmail,hasChosenNoAction:!1})),a()}catch(e){var n,i;const t=new Error(null!=(n=null!=(i=e.message)?i:e)?n:"unknown error in _sendFeedback");y(t),l(!1),_(!0)}}return m?(0,c.tZ)(U.o,{isOpen:!0,onRequestClose:h,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:g(W),primaryButtonOnClick:()=>S(),primaryButtonProps:{disabled:i||r}}),title:g("team_feedback_dialog_upd_title"),showCloseIcon:!0},(0,c.tZ)("div",{className:$},g.markup("team_feedback_dialog_upd_text_markup",{},{linkTarget:"_blank"})),(0,c.tZ)(d.oil,{sx:{resize:"vertical",maxHeight:"300px"},fullWidth:!0,ref:b,multiline:!0,placeholder:g("team_feedback_dialog_upd_textarea_label"),onChange:x.bind(void 0)}),u?(0,c.tZ)("div",{className:q},g.markup(H)):null):(0,c.tZ)(U.o,{isOpen:!0,onRequestClose:h,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:g(W),primaryButtonOnClick:()=>S(),primaryButtonProps:{disabled:i||r},secondaryButtonTitle:g("team_feedback_dialog_button_cancel"),secondaryButtonOnClick:h}),title:g("team_feedback_dialog_title")},(0,c.tZ)("div",{className:$},g.markup("team_feedback_dialog_text_markup",{},{linkTarget:"_blank"})),(0,c.tZ)(d.oil,{sx:{resize:"vertical",maxHeight:"300px"},fullWidth:!0,ref:b,multiline:!0,placeholder:g("team_feedback_dialog_textarea_label"),onChange:x.bind(void 0)}),u?(0,c.tZ)("div",{className:q},g.markup(H)):null)},Q=({onDismiss:e})=>{const{translate:t}=(0,p.Z)();return n.createElement("div",null,n.createElement(U.o,{isOpen:!0,onRequestClose:e,title:t("team_feedback_result_dialog_title")},n.createElement("div",{className:"container--qOtqKRdBaF"},n.createElement("h1",null,t("team_feedback_result_body_title")),n.createElement("p",{className:"text--chLJWXuATn"},t("team_feedback_result_body_text")))))};var Y;!function(e){e[e.FeedbackPopup=0]="FeedbackPopup",e[e.ResultPopup=1]="ResultPopup",e[e.Done=2]="Done"}(Y||(Y={}));const X=({lee:e,onDismiss:t,onSend:a})=>{const[i,s]=(0,n.useState)(Y.FeedbackPopup);let o;const r=()=>{clearTimeout(o),s(Y.Done),a()};return(0,c.tZ)("div",null,i===Y.FeedbackPopup&&(0,c.tZ)(K,{lee:e,onDismiss:t,onFeedbackSent:()=>{s(Y.ResultPopup),o=window.setTimeout((()=>{r()}),1e4)}}),i===Y.ResultPopup&&(0,c.tZ)(Q,{onDismiss:r}))};var J=a(186865),ee=a(760797);const te={CONTAINER:{display:"flex",padding:"16px 8px",justifyContent:"space-between",alignItems:"center"},ITEM:{display:"flex",gap:"16px",alignItems:"flex-start"}},ae=({title:e,description:t,iconName:a,button:n})=>{const{content:i,onClick:s,isUpgradeButton:o,isRoleLink:r}=n;return(0,y.tZ)("div",{sx:te.CONTAINER},(0,y.tZ)("div",{sx:te.ITEM},(0,y.tZ)(y.JO,{name:a,size:"large",color:"ds.text.neutral.standard"}),(0,y.tZ)("div",{sx:{gap:" 4px",maxWidth:"320px"}},(0,y.tZ)(y.nv,{textStyle:"ds.title.block.small",color:"ds.text.neutral.catchy"},e),(0,y.tZ)(y.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet"},t))),(0,y.tZ)(y.zx,{mood:o?"brand":"neutral",intensity:"quiet",icon:o?"PremiumOutlined":void 0,layout:o?"iconLeading":void 0,role:r?"link":void 0,onClick:s,size:"small"},i))},ne=()=>(0,y.tZ)("hr",{sx:{border:"0",borderTop:"1px solid ds.border.neutral.quiet.idle",height:"1px",width:"100%",mt:"8px",mb:"8px"}});var ie=a(145623);let se;!function(e){e.SECURITY_GUIDANCE="security_guidance",e.TRAINING="training",e.SEND_MESSAGE="send_message"}(se||(se={}));const oe={[se.SECURITY_GUIDANCE]:ie.mA,[se.TRAINING]:ie.J0,[se.SEND_MESSAGE]:ie.hc},re={[se.SECURITY_GUIDANCE]:o.CallToAction.RequestDemo,[se.TRAINING]:o.CallToAction.RegisterWebinar,[se.SEND_MESSAGE]:o.CallToAction.SendEmail},le=(e,t)=>{const a=[o.CallToAction.SendEmail,o.CallToAction.RequestDemo,o.CallToAction.RegisterWebinar,o.CallToAction.Dismiss];a.push(t?o.CallToAction.ContactPhoneSupport:o.CallToAction.RequestUpgrade),(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:a,chosenAction:re[e],hasChosenNoAction:!1})),(0,O.Yo)(oe[e])};var ce,de,ue,_e;const me=({onDismiss:e})=>{const{translate:t}=(0,p.Z)(),{routes:a}=(0,s.Xo)(),i=(0,w.B)(),r=(0,J.C)(),[l,c]=(0,n.useState)(null),u=null===l||null===r;return(0,n.useEffect)((()=>{(async()=>{const e=await(0,ee.I)();c(e.capabilities.phoneSupport.enabled)})()}),[]),(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacModalContactSupport)}),[]),(0,y.tZ)(y.Vq,{isOpen:!0,onClose:()=>((e,t)=>{const a=[o.CallToAction.SendEmail,o.CallToAction.RequestDemo,o.CallToAction.RegisterWebinar,o.CallToAction.Dismiss];a.push(t?o.CallToAction.ContactPhoneSupport:o.CallToAction.RequestUpgrade),(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:a,hasChosenNoAction:!0})),e()})(e,l),closeActionLabel:t("_common_dialog_dismiss_button"),title:t("team_contact_support_dialog_title")},u?(0,y.tZ)(y.nv,{sx:{textAlign:"center"}},ce||(ce=(0,y.tZ)(d.HoD,{color:"primaries.5",size:44}))):(0,y.tZ)(n.Fragment,null,(0,y.tZ)(y.nv,{sx:{marginBottom:"16px"}},t("team_contact_support_dialog_text")),(0,y.tZ)("div",{sx:{gap:"8px"}},(0,y.tZ)(ae,{title:t("team_contact_support_phone_support_title"),description:t("team_contact_support_phone_support_subtitle"),iconName:"ItemPhoneHomeOutlined",button:{content:t(l?"team_contact_support_request_call":"team_contact_support_upgrade_to_business_cta"),onClick:()=>((e,t,a,n,i)=>{const r=[o.CallToAction.SendEmail,o.CallToAction.RequestDemo,o.CallToAction.RegisterWebinar,o.CallToAction.Dismiss];return e?(r.push(o.CallToAction.ContactPhoneSupport),(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:r,chosenAction:o.CallToAction.ContactPhoneSupport,hasChosenNoAction:!1})),void(0,O.Yo)(ie.$b)):e||!a&&!n?(r.push(o.CallToAction.RequestUpgrade),(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:r,chosenAction:o.CallToAction.RequestUpgrade,hasChosenNoAction:!1})),(0,s.uX)(`${t.teamAccountChangePlanRoutePath}?plan=business`)):(r.push(o.CallToAction.RequestUpgrade),(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:r,chosenAction:o.CallToAction.RequestUpgrade,hasChosenNoAction:!1})),void(0,O.Yo)(`${ie.ub}?plan=business&subCode=${null!=i?i:""}&utm_source=button:upgrade_business_tier+origin_page:tac/modal_contact_support+origin_component:main_app`))})(l,a,r?.isFreeTrial,r?.isGracePeriod,i?.subscriptionCode),isUpgradeButton:!l,isRoleLink:l||r?.isFreeTrial||r?.isGracePeriod}}),de||(de=(0,y.tZ)(ne,null)),(0,y.tZ)(ae,{title:t("team_contact_support_security_guidance_title"),description:t("team_contact_support_security_guidance_subtitle"),iconName:"ProtectionOutlined",button:{content:t("team_contact_support_request_demo"),onClick:()=>le(se.SECURITY_GUIDANCE,l),isRoleLink:!0}}),ue||(ue=(0,y.tZ)(ne,null)),(0,y.tZ)(ae,{title:t("team_contact_support_training_title"),description:t("team_contact_support_training_subtitle"),iconName:"AccountSettingsOutlined",button:{content:t("team_contact_support_register_for_webinar"),onClick:()=>le(se.TRAINING,l),isRoleLink:!0}}),_e||(_e=(0,y.tZ)(ne,null)),(0,y.tZ)(ae,{title:t("team_contact_support_help_customer_support_title"),description:t("team_contact_support_help_customer_support_subtitle"),iconName:"ItemEmailOutlined",button:{content:t("team_contact_support_send_message"),onClick:()=>le(se.SEND_MESSAGE,l),isRoleLink:!0}}))))};var pe;const ge=({showVaultNavigationModal:e,setShowVaultNavigationModal:t,onBeforeNavigate:a})=>{const{translate:i}=(0,p.Z)();return(0,y.tZ)(d.VqE,{closeIconName:i("_common_dialog_dismiss_button"),isOpen:e,onClose:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Skip,o.CallToAction.InstallExtension],hasChosenNoAction:!0})),t(!1)}},(0,y.tZ)(d.$N8,{title:(0,y.tZ)("span",{color:"ds.text.neutral.catchy",sx:{margin:"0px 15px",fontSize:"25px",fontWeight:"800",display:"block"}},i("team_vault_navigation_dialog_title"))}),(0,y.tZ)(d.a7O,null,(0,y.tZ)(y.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},i("team_vault_navigation_dialog_paragrah")),(0,y.tZ)(y.nv,{sx:{margin:"15px",fontSiz:"16px"},color:"ds.text.neutral.standard"},i("team_vault_navigation_dialog_paragrah_two"))),(0,y.tZ)(d.cNS,{primaryButtonTitle:(0,y.tZ)(n.Fragment,null,(0,y.tZ)("span",{sx:{marginRight:"8px"}},i("team_vault_navigation_dialog_install_cta")),pe||(pe=(0,y.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.inverse.catchy"}))),primaryButtonOnClick:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Skip,o.CallToAction.InstallExtension],chosenAction:o.CallToAction.InstallExtension,hasChosenNoAction:!1})),a?.(),(0,O.Yo)(ie.yi)},primaryButtonProps:{type:"button"},secondaryButtonTitle:i("team_vault_navigation_dialog_skip_btn"),secondaryButtonOnClick:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Skip,o.CallToAction.InstallExtension],chosenAction:o.CallToAction.Skip,hasChosenNoAction:!1})),a?.(),(0,s.uX)("/"),t(!1)}}))},ye=n.createContext({isVaultNavigationModalOpen:!1,setIsVaultNavigationModalOpen:()=>{},setOnBeforeNavigateCallback:()=>{}}),be=({children:e})=>{const[t,a]=n.useState(!1),[i,s]=n.useState(void 0);return n.createElement(ye.Provider,{value:{isVaultNavigationModalOpen:t,setIsVaultNavigationModalOpen:a,setOnBeforeNavigateCallback:s}},e,t?n.createElement(ge,{showVaultNavigationModal:t,setShowVaultNavigationModal:a,onBeforeNavigate:i}):null)};var he=a(581598),xe=a(242714),Se=a(64183);const fe=R.w.EcommerceWebB2cTrialBanner,ve=()=>{const e=(0,xe.o)(fe),t=(0,J.C)(),{isTeamSoftDiscontinued:a}=(0,Se.l)(),{translate:n}=(0,p.Z)();if(!e||!t||null==a)return null;if(a)return null;const i=t.daysLeftInTrial,s=t.spaceTier===he.lD.Team,o=t.isGracePeriod;return(0,y.tZ)(y.Ct,{label:o?n("free_trial_expired_badge"):n(s?"team_trial_days_left_badge":"business_trial_days_left_badge",{count:i}),mood:o?"warning":"brand",layout:"labelOnly",intensity:o?"catchy":"quiet",sx:{marginTop:"3px"}})};var Ce,Ee,Ze;const Ne=({lee:e})=>{const[t,a]=(0,n.useState)(!1),[i,r]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),u=(0,w.B)(),{translate:_}=(0,p.Z)(),m=(0,L.a)(e.dispatchGlobal),g=(0,j.wR)(),{setIsVaultNavigationModalOpen:b}=(0,n.useContext)(ye),{routes:h}=(0,s.Xo)(),x=(e,t,a)=>e=>{a(e)},S=({className:e,...t})=>(0,y.tZ)(d.zxk,{type:"button",nature:"ghost",className:I()("dropdownElement--fRxFyumXai",e),...t}),f=i?(0,y.tZ)(X,{lee:e,onDismiss:()=>r(!1),onSend:()=>r(!1)}):null,v=l?(0,y.tZ)(me,{onDismiss:()=>c(!1)}):null,C=u?.premiumStatus&&!(0,A.wt)(u?.premiumStatus)&&((0,A.pq)(u?.premiumStatus)||(0,A.f1)(u?.premiumStatus)),E=u?.premiumStatus&&(0,A.pq)(u?.premiumStatus)?"team":"business",Z=u?.premiumStatus&&(0,A.wt)(u?.premiumStatus),N=e.permission.adminAccess.hasBillingAccess,T=`button:buy_dashlane+click_origin:account_dropdown+origin_page:${g||void 0}+origin_component:main_app`,D=`${ie.ub}?plan=${E}&subCode=${u?.subscriptionCode}&utm_source=${T}`;return(0,y.tZ)(n.Fragment,null,(0,y.tZ)("div",{className:"teamAccountDropdown--XD04fGIw1S"},(0,y.tZ)(k.Lt,{alignment:k.oA.End,position:k.ir.Bottom,onToggle:()=>{a(!t)},withBackdrop:!1,renderRoot:e=>(e=>(0,y.tZ)(d.zxk,{type:"button",className:I()("teamAccountDropdownButton--SOE8XwpPlO",{"teamAccountDropdownOpened--h4AYTHtMVq":t}),nature:"ghost",onClick:e},_("team_account"),(0,y.tZ)("span",{className:"dropdownButtonIcon--OG7Ht_fAFB"},Ce||(Ce=(0,y.tZ)(d.veu,null)))))(e)},(0,y.tZ)("div",{className:"dropdownMenu--Uz1kni0KIt"},N?(0,y.tZ)(S,{onClick:x(0,0,(()=>{(0,s.uX)(h.teamAccountRoutePath)}))},_("team_plan")):null,(0,y.tZ)(S,{onClick:x(0,0,(()=>{(0,s.uX)("/")}))},_("team_webapp")),Z&&N?(0,y.tZ)(S,{onClick:x(0,0,(()=>((0,z.Kz)(new o.UserClickEvent({button:o.Button.BuyDashlane,clickOrigin:o.ClickOrigin.AccountDropdown})),void(0,O.Yo)(D))))},(0,y.tZ)("div",null,_("team_buy_dashlane"),Ee||(Ee=(0,y.tZ)(ve,null)))):null,C&&N?(0,y.tZ)(S,{onClick:x(0,0,(()=>(0,s.uX)(`${h.teamAccountChangePlanRoutePath}`)))},_("team_upgrade")):null,(0,y.tZ)(S,{onClick:x(0,0,(()=>(0,O.Yo)(ie.Pr)))},_("team_service_status")),(0,y.tZ)(S,{onClick:x(0,0,(()=>(0,O.Yo)(ie.FX)))},_("team_support")),N?(0,y.tZ)(S,{onClick:()=>c(!0)},_("team_contact_support_menu_item")):null,(0,y.tZ)(S,{onClick:x(0,0,(()=>r(!0)))},_("team_feedback")),Ze||(Ze=(0,y.tZ)("hr",null)),(0,y.tZ)(S,{onClick:x(0,0,(()=>{m()})),className:"logout--x9WN8NkY4R"},_("team_logout"))))),f,v)};var Te=a(238250);let De;!function(e){e.POLICIES="policies",e.DUO="duo",e.DIRECTORY_SYNC="directory-sync",e.ACCOUNT_RECOVERY="account-recovery",e.SSO="sso"}(De||(De={}));var Me=a(140857),Ie=a(351551);const Ae=n.createContext(null),we=({children:e})=>{const[t,a]=n.useState(!1);return n.createElement(Ae.Provider,{value:{hasNewBreaches:t,setHasNewBreaches:a}},e)},ke=()=>{const e=n.useContext(Ae);if(!e)throw new Error("useSideNavNotification must be called from within an SideNavNotificationProvider");return e},Oe=R.w.EcommerceWebPaywallUpdate;function Le(e){var t,a;const n=(0,w.B)(),i=(0,xe.o)(Oe),s=(0,J.C)();if(!s||null==i)return null;let o;return o="hasFullAccess"in e&&e.hasFullAccess||e.hasBillingAccess,{shouldShowBuyOrUpgradePaywall:null!=(t=i&&o)&&t,isTrialOrGracePeriod:s.isFreeTrial||s.isGracePeriod,planType:s.spaceTier,accountSubscriptionCode:null!=(a=n?.subscriptionCode)?a:""}}var ze=a(15192),je=a(582028),Re=a(133354),Pe=a(817559);const Ue=({isSidenavCollapsed:e,settingsRoute:t,children:a})=>{const{translate:n}=(0,p.Z)(),i=(0,ze.k6)(),s=(0,Pe.h)(),{unseen:o,setAsSeen:r}=(0,Ie.m)(je.NotificationName.AccountRecoveryAvailableAdminTooltip);return!o||s.status!==Re.rq.Success||s.data?(0,c.tZ)("div",null,a):(0,c.tZ)("div",{sx:{position:"relative"}},(0,c.tZ)(d.ua7,{sx:{width:"312px",minWidth:"312px",textAlign:"left",top:e?0:"-100px"},trigger:"persist",placement:"left",offset:[0,30],arrowSize:12,content:(0,c.tZ)(d.Ejs,{gap:"8px",sx:{padding:"8px"}},(0,c.tZ)(d.nvN,{size:"large",as:"h3",sx:{fontWeight:600,color:"ds.text.inverse.catchy"}},n("team_account_recovery_popover_title")),(0,c.tZ)(d.nvN,{color:"white",size:"x-small"},n("team_account_recovery_popover_description")),(0,c.tZ)(d.Ejs,{gap:"8px",justifyContent:"flex-end",sx:{width:"100%",marginTop:"8px"}},(0,c.tZ)(y.zx,{type:"button",mood:"neutral",size:"small","data-testid":"ar-tooltip-dismiss",onClick:()=>r()},n("team_account_recovery_popover_dismiss")),(0,c.tZ)(y.zx,{type:"button",mood:"brand",size:"small","data-testid":"ar-tooltip-go-to-settings",onClick:()=>{r(),i.push(t)}},n("team_account_recovery_popover_go_to_settings"))))},(0,c.tZ)("div",{sx:{position:"relative"}}," ",a)))},Be={collapsedLogo:"collapsedLogo--BjOqWIOARt",settingsMenuContainer:"settingsMenuContainer--EascJOgBpz",settingsHoverContainer:"settingsHoverContainer--z9ins4al2D",iconContainer:"iconContainer--E97FJLapaB",tooltipMenuOption:"tooltipMenuOption--uuMY2Xcfk0",accordionLinkWithBadge:"accordionLinkWithBadge--j4Qg9gk9xp",securityCategory:"securityCategory--Clfv_8oKCw",categoryTitle:"categoryTitle--krvL3iQ_mG"};var Ge,Fe,Ve,$e,qe,We,He,Ke,Qe,Ye,Xe,Je,et,tt,at=a(187981),nt=a(796365);const{dashGreen00:it,dashGreen04:st}=d.colors,ot="team_settings_menu_title_account_recovery",rt="team_settings_menu_title_directory_sync",lt="team_settings_tab_duo",ct="team_settings_menu_title_policies",dt="team_settings",ut="team_settings_menu_title_single_sign_on",_t="webapp_sidemenu_open_vault_cta",mt="team_new_label",pt="team_upgrade_label",gt=(e,t)=>{var a;return(null!=(a=t?.[e].length)?a:0)>0},yt=({isCollapsed:e=!1,permissionChecker:t,routes:a,selectedTab:l,teamNotifications:u,teamSettings:_})=>{var m;const{translate:g}=(0,p.Z)(),b={DIRECTORY_SYNC:`${a.teamSettingsRoutePath}${i.B9.DIRECTORY_SYNC}`,DUO:`${a.teamSettingsRoutePath}${i.B9.DUO}`,MASTER_PASSWORD_POLICIES:`${a.teamSettingsRoutePath}${i.B9.MASTER_PASSWORD_POLICIES}`,POLICIES:`${a.teamSettingsRoutePath}${i.B9.POLICIES}`,SSO:`${a.teamSettingsRoutePath}${i.B9.SSO}`},{setIsVaultNavigationModalOpen:h}=(0,n.useContext)(ye),{unseen:x}=(0,Ie.m)(Te.NotificationName.TacDarkWebInsightsNewBadge),{hasNewBreaches:S}=ke(),f=(0,at.v)(),v=f.status!==r.rq.Success,{interacted:C,status:E}=(0,Ie.d)(Te.NotificationName.TacGetStartedDismissPage),{shouldShowBuyOrUpgradePaywall:Z,planType:N}=null!=(m=Le(t.adminAccess))?m:{},{isTeamCreator:T,status:D}=(0,nt.m)(),{"BBCOM-238-duo":M=!1,onboarding_web_tacgetstarted:A=!1}=v?{}:f.data,w=E===r.rq.Loading||D===r.rq.Loading||v,k=Z&&(N===he.lD.Team||N===he.lD.Starter),L=_&&!_.ssoEnabled&&!k&&void 0!==k,j=({requiredPermission:e,children:a,...n})=>t.adminAccess.hasPermissionLevel(e)?(0,c.tZ)(d.KJW,{...n},a):null;return(0,c.tZ)(d.t7v,{collapsed:e},(0,c.tZ)(d.sMA,{sx:{pointerEvents:v?"none":"auto",visibility:w?"hidden":"visible"}},A&&!C&&T?(0,c.tZ)(j,{requiredPermission:"FULL",collapsed:e},(0,c.tZ)(s.rU,{to:a.teamGetStartedRoutePath},(0,c.tZ)(d.zdj,{collapsed:e,icon:Ge||(Ge=(0,c.tZ)(y.JO,{name:"TipOutlined"})),label:g("team_get_started"),selected:l===Me.$.GET_STARTED}))):null,(0,c.tZ)(j,{requiredPermission:"FULL",collapsed:e},(0,c.tZ)(s.rU,{to:a.teamDashboardRoutePath},(0,c.tZ)(d.zdj,{collapsed:e,icon:Fe||(Fe=(0,c.tZ)(d.QGC,null)),label:g("team_general"),selected:l===Me.$.DASHBOARD}))),(0,c.tZ)(j,{requiredPermission:"FULL",collapsed:e},(0,c.tZ)(s.rU,{to:a.teamMembersRoutePath},(0,c.tZ)(d.zdj,{collapsed:e,icon:Ve||(Ve=(0,c.tZ)(d.lMe,null)),label:g("team_members"),selected:l===Me.$.MEMBERS}))),(0,c.tZ)(j,{requiredPermission:"GROUP_READ",collapsed:e},(0,c.tZ)(s.rU,{to:a.teamGroupsRoutePath},(0,c.tZ)(d.zdj,{collapsed:e,icon:$e||($e=(0,c.tZ)(d.c6E,null)),label:g("team_groups"),selected:l===Me.$.GROUPS}))),(0,c.tZ)(j,{requiredPermission:"FULL",collapsed:e},(0,c.tZ)(s.rU,{to:a.teamActivityRoutePath},(0,c.tZ)(d.zdj,{collapsed:e,hasNotification:gt("accountRecoveryRequests",u),icon:qe||(qe=(0,c.tZ)(d.X4t,null)),label:g("team_activity"),selected:l===Me.$.ACTIVITY}))),(0,c.tZ)(j,{requiredPermission:"FULL",collapsed:e},(0,c.tZ)(Ue,{isSidenavCollapsed:e,settingsRoute:b.MASTER_PASSWORD_POLICIES},e?(0,c.tZ)(d.ua7,{placement:"right",offset:[0,15],hoverCloseDelay:500,sx:{padding:"4px 0"},content:(0,c.tZ)("div",{sx:{width:L?"180px":"148px"}},(0,c.tZ)(s.rU,{to:b.POLICIES},(0,c.tZ)("div",{className:Be.tooltipMenuOption},g(ct))),(0,c.tZ)(s.rU,{to:b.SSO},(0,c.tZ)("div",{className:I()(Be.tooltipMenuOption,{[Be.tooltipMenuOptionWithBadge]:L})},g(ut),L||k?(0,c.tZ)(y.Ct,{mood:"brand",intensity:"catchy",label:g(L?mt:pt),layout:"iconLeading",iconName:k?"PremiumOutlined":void 0}):null)),(0,c.tZ)(s.rU,{to:b.DIRECTORY_SYNC},(0,c.tZ)("div",{className:Be.tooltipMenuOption},g(rt))),(0,c.tZ)(s.rU,{to:b.MASTER_PASSWORD_POLICIES},(0,c.tZ)("div",{className:Be.tooltipMenuOption},g(ot))),M?(0,c.tZ)(s.rU,{to:b.DUO},(0,c.tZ)("div",{className:Be.tooltipMenuOption},g(lt))):null)},(0,c.tZ)("div",{tabIndex:0},(0,c.tZ)(d.zdj,{collapsed:e,icon:We||(We=(0,c.tZ)(d.ewm,null)),label:g(dt),selected:l===Me.$.SETTINGS}))):(0,c.tZ)(d.UlM,{size:"large",open:!0,sx:{backgroundColor:it,span:{color:st},"> summary":{padding:"16px 0"},"&[open]":{padding:0},"&[open] > summary":{padding:"16px 0"},"&[open] > div:nth-of-type(1)":{pointerEvents:v?"none":"auto",padding:0},"svg, svg:hover":{fill:st}}},(0,c.tZ)(d._Oh,null,(0,c.tZ)("span",{className:Be.settingsMenuContainer},(0,c.tZ)("span",{className:Be.iconContainer},He||(He=(0,c.tZ)(d.ewm,null))),(0,c.tZ)(d.nvN,{size:"medium",bold:!0,as:"span"},g(dt)))),(0,c.tZ)(d.rN7,null,(0,c.tZ)(s.rU,{to:b.POLICIES},(0,c.tZ)(d.zdj,{icon:Ke||(Ke=(0,c.tZ)("span",null)),label:g(ct),selected:l===De.POLICIES})),(0,c.tZ)(s.rU,{to:b.SSO},(0,c.tZ)(d.zdj,{icon:Qe||(Qe=(0,c.tZ)("span",null)),label:g(ut),endAdornment:L||k?(0,c.tZ)(y.Ct,{mood:"brand",intensity:"catchy",label:g(L?mt:pt),layout:"iconLeading",iconName:k?"PremiumOutlined":void 0}):null,selected:l===De.SSO})),(0,c.tZ)(s.rU,{to:b.DIRECTORY_SYNC},(0,c.tZ)(d.zdj,{icon:Ye||(Ye=(0,c.tZ)("span",null)),label:g(rt),selected:l===De.DIRECTORY_SYNC})),(0,c.tZ)(s.rU,{to:b.MASTER_PASSWORD_POLICIES},(0,c.tZ)(d.zdj,{icon:Xe||(Xe=(0,c.tZ)("span",null)),label:g(ot),selected:l===De.ACCOUNT_RECOVERY})),M?(0,c.tZ)(s.rU,{to:b.DUO},(0,c.tZ)(d.zdj,{icon:Je||(Je=(0,c.tZ)("span",null)),label:g(lt),selected:l===De.DUO})):null)))),t.adminAccess.hasFullAccess?(0,c.tZ)("div",{className:Be.securityCategory},(0,c.tZ)("div",{className:Be.categoryTitle},(0,c.tZ)(d.nvN,{color:d.colors.dashGreen02,caps:!0,size:"x-small"},g("webapp_sidemenu_category_maintenance"))),(0,c.tZ)(j,{requiredPermission:"FULL",collapsed:e},(0,c.tZ)(s.rU,{to:a.teamDarkWebInsightsRoutePath,onClick:()=>{(0,z.Kz)(new o.UserOpenDomainDarkWebMonitoringEvent({accessPath:o.AccessPath.NavLeftMenuButton,isFirstVisit:x}))}},(0,c.tZ)(d.zdj,{collapsed:e,icon:et||(et=(0,c.tZ)(y.JO,{name:"FeatureDarkWebMonitoringOutlined"})),label:g("team_dashboard_dark_web_insights_heading"),selected:l===Me.$.DARK_WEB_INSIGHTS,hasNotification:S})))):null,(0,c.tZ)("div",{sx:{display:"flex",justifyContent:"center",borderTop:"1px solid",position:"fixed",bottom:"0",borderTopColor:d.colors.dashGreen01,marginLeft:"-8px",width:e?"96px":"256px",backgroundColor:it}},(0,c.tZ)(d.KJW,{collapsed:e},(0,c.tZ)("div",{sx:{display:"flex",justifyContent:"center"}},(0,c.tZ)(y.zx,{layout:e?"iconOnly":"iconLeading","aria-label":g(_t),fullsize:!e,sx:{margin:e?"20px 25px":"20px 4px"},icon:tt||(tt=(0,c.tZ)(y.JO,{name:"VaultOutlined",size:"large",color:"ds.text.inverse.catchy"})),mood:"brand",intensity:"catchy",onClick:()=>{(0,O.nL)(ie.F1)}},g(_t)))))))};var bt=a(418402),ht=a.n(bt);const xt=({isCollapsed:e})=>{const{translate:t}=(0,p.Z)(),a=e||!1;return(0,y.tZ)(d.t7v,{collapsed:a},(0,y.tZ)(d.QUQ,{"data-testid":"logo-header",sx:{padding:"32px !important"}},a?(0,y.tZ)("div",{className:Be.collapsedLogo},(0,y.tZ)(d.NJ6,{color:ht()["--white"],height:39,width:39})):(0,y.tZ)(d.D1W,{color:d.vei.White,size:d.r1z.Size39,title:t("_common_dashlane_logo_title")})))};var St,ft;const vt=()=>document.documentElement.clientWidth<1371,Ct=n.createContext({navBarChildren:null,setNavBarChildren:()=>{}}),Et=({selectedTab:e,children:t,lee:a})=>{const[i,o]=(0,n.useState)(vt()),[r,l]=(0,n.useState)(),{routes:c}=(0,s.Xo)(),d=a.permission.adminAccess,u=(0,Z.a)(d)&&e!==Me.$.GET_STARTED,_=d.hasBillingAccess||d.hasFullAccess;(0,n.useEffect)((()=>{const e=(0,f.throttle)((()=>{const e=vt();e&&!i?o(!0):!e&&i&&o(!1)}),100);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[i]);const m=(0,v.kA)(a.globalState),p=(0,v.xO)(a.globalState),g=n.createElement(N,null,r,n.createElement(Ne,{lee:a})),y=n.createElement(xt,{isCollapsed:i}),b=n.createElement(yt,{isCollapsed:i,permissionChecker:a.permission,routes:c,selectedTab:e,teamNotifications:m?.notifications,teamSettings:p?.details.info}),h={navBarChildren:r,setNavBarChildren:l},x=u?St||(St=n.createElement(E.b,null)):null,S=_?ft||(ft=n.createElement(C.XA,null)):null;return n.createElement(Ct.Provider,{value:h},n.createElement(D,{brand:y,header:g,sideNav:b,banner:x,dialog:S},t))};var Zt,Nt,Tt,Dt;const Mt=({plan:e,handleSelectClick:t,selected:a})=>{const{translate:n}=(0,p.Z)(),{currentPlan:i,limitedOffer:s,heading:o,price:r,equivalentPrice:l,planName:c,footer:u,priceDescription1:_,priceDescription2:m,features:g}=e;return(0,y.tZ)(d.Ejs,{flexDirection:"column",sx:{minHeight:"480px",display:"flex",flexDirection:"column",borderRadius:"4px",border:`1px solid ${i?"transparent":y.O9.lightTheme.ds.border.neutral.quiet.idle}`,flexGrow:"1",flexShrink:0,width:"188px",backgroundColor:i?y.O9.lightTheme.ds.container.expressive.neutral.supershy.hover:null,padding:"16px",gap:"24px"}},(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"16px"},(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,y.tZ)("div",{sx:{minHeight:"16px"}},i?(0,y.tZ)(y.Ct,{label:n("team_account_teamplan_changeplan_plans_plan_current")}):null,s?(0,y.tZ)(y.Ct,{mood:"brand",intensity:"catchy",label:n("team_account_teamplan_changeplan_plans_plan_limited_offer")}):null),(0,y.tZ)(d.nvN,{bold:!0,size:"medium"},n(o.key))),(0,y.tZ)(d.Ejs,{flexDirection:"column"},(0,y.tZ)(d.Ejs,{gap:"4px"},r?(0,y.tZ)(d.X6q,{as:"p",size:"large"},r):(0,y.tZ)(d.HoD,{size:44,color:y.O9.lightTheme.ds.text.neutral.standard}),l?(0,y.tZ)(y.nv,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.quiet",sx:{whiteSpace:"break-spaces"}},n("team_account_teamplan_changeplan_plans_previous_price"),Zt||(Zt=(0,y.tZ)("br",null)),(0,y.tZ)("span",{sx:{textDecoration:"line-through"}},l)):null),(0,y.tZ)(d.Ejs,{flexDirection:"column",sx:{height:"48px"}},(0,y.tZ)(d.nvN,{size:"x-small",color:y.O9.lightTheme.ds.text.neutral.quiet},n(_.key,_.variables)),(0,y.tZ)(d.nvN,{size:"x-small",color:y.O9.lightTheme.ds.text.neutral.quiet},n(m.key,m.variables))))),a?(0,y.tZ)(y.zx,{disabled:!0,mood:"brand",size:"small",type:"button",fullsize:!0,icon:Nt||(Nt=(0,y.tZ)(d.nQG,null))},n("team_account_teamplan_changeplan_plans_selected")):t?(0,y.tZ)(y.zx,{mood:"brand",size:"small",onClick:t,fullsize:!0,"data-testid":`btn-${c}-select`},n("team_account_teamplan_changeplan_plans_select")):(0,y.tZ)("div",{style:{height:"32px",width:"100%"}}),(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"6px"},g.map((({key:e,icon:t,variables:a,loading:s})=>(0,y.tZ)(d.Ejs,{key:e,sx:{display:"flex",alignItems:"center",gap:"9px",flexWrap:"nowrap",strong:{color:i?null:y.O9.lightTheme.ds.text.neutral.catchy}}},(0,y.tZ)(d.k$b,{sx:{width:"10px"}},"check"===t?Tt||(Tt=(0,y.tZ)(d.nQG,{size:14})):"add"===t?Dt||(Dt=(0,y.tZ)(d.dtP,{size:12})):null),s?(0,y.tZ)(d.k$b,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:"1"}},(0,y.tZ)(d.HoD,{size:32,color:y.O9.lightTheme.ds.text.neutral.catchy})):(0,y.tZ)(d.nvN,{color:y.O9.lightTheme.ds.text.neutral.quiet,size:"x-small"},e.includes("markup")?n.markup(e,a):n(e,a)))))),s?(0,y.tZ)(y.ke,{mood:"brand",title:n("team_account_teamplan_changeplan_plans_limited_price_infobox")}):null,u?(0,y.tZ)(d.Ejs,{alignItems:"center",gap:"9px",sx:{paddingLeft:"20px"}},(0,y.tZ)(d.nvN,{color:y.O9.lightTheme.ds.text.neutral.quiet,size:"x-small"},u.key.includes("markup")?n.markup(u.key):n(u.key))):null)},It=({title:e,children:t,sx:a})=>n.createElement(d.Zbd,{sx:(0,d.jMf)([{display:"flex",flexDirection:"column",padding:"24px",gap:"16px",backgroundColor:d.colors.white,borderRadius:"4px",border:`1px solid ${d.colors.dashGreen05}`},...a?[a]:[]])},n.createElement(d.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",height:"100%"}},e?"string"==typeof e?n.createElement(d.X6q,{size:"small"},e):e:null,n.createElement(d.k$b,{flex:"1"},t)));var At,wt,kt,Ot=a(973883),Lt=a(601765);const zt=({handleSelectClick:e,selected:t,businessOffer:a})=>{const{translate:n}=(0,p.Z)(),i=(0,Lt.t)(),s=a?(0,Ot.Qf)({offer:a}):null;return(0,y.tZ)(d.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",width:"367px",padding:"18px 28px 32px",border:`1px solid ${d.colors.dashGreen05}`,borderRadius:"4px",gap:"18px"}},i.hasLimitedOffer?(0,y.tZ)(y.Ct,{mood:"brand",intensity:"catchy",label:n("team_account_teamplan_changeplan_plans_plan_limited_offer")}):(0,y.tZ)(y.Ct,{mood:"brand",intensity:"quiet",label:n("team_account_teamplan_changeplan_plans_plan_recommended")}),(0,y.tZ)(d.Ejs,{fullWidth:!0,gap:"12px"},(0,y.tZ)(d.Ejs,{fullWidth:!0},(0,y.tZ)(d.Ejs,{sx:{display:"flex",alignItems:"center",flex:1}},(0,y.tZ)(d.X6q,{size:"x-small"},n("team_account_teamplan_changeplan_plans_business_name"))),(0,y.tZ)(d.k$b,null,a?.currency&&s?(0,y.tZ)(d.Ejs,{flexDirection:"column",alignItems:"flex-end"},(0,y.tZ)(d.Ejs,{alignItems:"flex-end",gap:"0",flexDirection:"column"},(0,y.tZ)(d.nvN,{size:"small"},n.price(a.currency,s/100,{notation:"compact"})," ",n("team_account_teamplan_changeplan_plans_seat")),i.hasLimitedOffer?(0,y.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},n("team_account_teamplan_changeplan_plans_previous_price")," ",(0,y.tZ)("span",{sx:{textDecoration:"line-through"}},i.translatedEquivalentPrice)):null),(0,y.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"x-small"},n("team_account_teamplan_changeplan_plans_billed_anually"))):(0,y.tZ)(d.HoD,{size:16,color:d.colors.black}))),(0,y.tZ)("hr",{style:{width:"100%",borderTop:`1px solid ${d.colors.grey02}`,borderBottom:"0",margin:"0"}})),(0,y.tZ)(d.k$b,{flex:"1"},(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"6px"},(0,y.tZ)(d.nvN,{color:d.colors.grey00,size:"x-small"},n("team_account_teamplan_changeplan_plans_business_header")),(0,y.tZ)(d.Ejs,{alignItems:"center",gap:"9px",sx:{display:"flex",alignItems:"center",gap:"9px",marginTop:"10px"}},At||(At=(0,y.tZ)(d.dtP,{size:8})),(0,y.tZ)(d.nvN,{size:"x-small",color:d.colors.black},n.markup("team_account_teamplan_changeplan_plans_business_saml_markup",{ssoUrl:"https://support.dashlane.com/hc/articles/360015111019-SSO-FAQ"},{linkTarget:"_blank"},{color:d.colors.black}))),(0,y.tZ)(d.Ejs,{alignItems:"center",gap:"9px"},wt||(wt=(0,y.tZ)(d.dtP,{size:8})),(0,y.tZ)(d.nvN,{size:"x-small"},(0,y.tZ)(d.rUS,{rel:"noopener noreferrer",href:"https://blog.dashlane.com/how-admins-can-simplify-provisioning/",target:"_blank"},n("team_account_teamplan_changeplan_plans_business_scim_provisioning")))),(0,y.tZ)(d.Ejs,{alignItems:"center",gap:"9px"},kt||(kt=(0,y.tZ)(d.dtP,{size:8})),(0,y.tZ)(d.nvN,{size:"x-small",color:d.colors.black},n.markup("team_account_teamplan_changeplan_plans_business_free_family_plan_markup",{familyPlanUrl:"https://support.dashlane.com/hc/articles/360015393479-Getting-Premium-Family-with-Dashlane-Business"},{linkTarget:"_blank"},{color:d.colors.black}))))),i.hasLimitedOffer?(0,y.tZ)(y.ke,{title:n("team_account_teamplan_changeplan_plans_limited_price_infobox"),mood:"brand"}):null,a?t?(0,y.tZ)(d.zxk,{sx:{width:"100%"},disabled:!0,nature:"secondary",size:"small",type:"button"},n("team_account_teamplan_changeplan_plans_selected")):(0,y.tZ)(d.zxk,{"data-testid":"btn-business-select",sx:{width:"100%"},size:"small",type:"button",onClick:e},n("team_account_teamplan_changeplan_plans_select")):(0,y.tZ)(d.Ejs,{justifyContent:"center",fullWidth:!0},(0,y.tZ)(d.HoD,{size:30,color:d.colors.black})))};var jt;const Rt=["team_account_teamplan_changeplan_plans_team_security_dashboard","team_account_teamplan_changeplan_plans_team_policy_management","team_account_teamplan_changeplan_plans_team_advanced_reporting","team_account_teamplan_changeplan_plans_team_group_sharing","team_account_teamplan_changeplan_plans_team_active_directory_integration","team_account_teamplan_changeplan_plans_team_dark_web_insights","team_account_teamplan_changeplan_plans_team_vpn_via_hotspot_shield","team_account_teamplan_changeplan_plans_team_audit_logs"],Pt=()=>{const{translate:e}=(0,p.Z)();return n.createElement(d.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",gap:"12px",height:"fit-content",minWidth:"223px",width:"fit-content",backgroundColor:d.colors.grey06,padding:"16px"}},n.createElement(d.Ejs,null,n.createElement(d.Ejs,{sx:{borderRadius:"1px",border:`1px solid ${d.colors.midGreen03}`,padding:"1px",lineHeight:"10px"}},n.createElement(d.j49,{size:"small"},e("team_account_teamplan_changeplan_plans_plan_current")))),n.createElement(d.X6q,{color:d.colors.grey00,size:"x-small"},e("team_account_teamplan_changeplan_plans_team_name"))," ",n.createElement("hr",{style:{width:"100%",borderTop:`1px solid ${d.colors.grey02}`,borderBottom:"0",margin:"0"}}),n.createElement(d.Ejs,{flexDirection:"column",gap:"6px"},Rt.map((t=>n.createElement(d.Ejs,{key:t,alignItems:"center",gap:"9px"},jt||(jt=n.createElement(d.nQG,{size:8})),n.createElement(d.nvN,{color:d.colors.grey00,size:"x-small"},e(t)))))))};var Ut,Bt;const Gt=({selectedOffer:e,handleSelection:t,teamOffers:a})=>{const{translate:i}=(0,p.Z)(),s=(0,u.Y)(),o=((e,t)=>{const{translate:a}=(0,p.Z)(),n=e?.businessOffer?.currency,i=e?.businessOffer?(0,Ot.Qf)({offer:e.businessOffer}):null,s=e?.teamOffer?(0,Ot.Qf)({offer:e.teamOffer}):null,o=e?.starterOffer?(0,Ot.Qf)({offer:e.starterOffer}):null,r=(0,Ot.f)(e?.starterOffer),l=e?.starterOffer&&o?r*o:0;return{starter:{currentPlan:!0,planName:"starter",price:o&&n?a.price(n,o/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_starter_name"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_monthly_at",variables:{numberSeats:r,monthlyPrice:o&&n?a.price(n,l/100,{notation:"compact"}):null}},features:[{key:"team_account_teamplan_changeplan_plans_seats_flat_rate_markup",icon:"check",loading:!o,variables:{numberSeats:r,monthlyPrice:o&&n?a.price(n,l/100,{notation:"compact"}):null}},{icon:"check",key:"team_account_teamplan_changeplan_plans_unlimited_passwords"},{icon:"check",key:"team_account_teamplan_changeplan_plans_secure_sharing"},{icon:"check",key:"team_account_teamplan_changeplan_plans_business_and_personal_spaces"},{icon:"check",key:"team_account_teamplan_changeplan_plans_audit_logs"},{icon:"check",key:"team_account_teamplan_changeplan_plans_dark_web_insights"}],footer:{key:"team_account_teamplan_changeplan_plans_starter_footer_markup"}},team:{recommended:!t.hasLimitedOffer,planName:"team",price:s&&n?a.price(n,s/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_name_V2"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_anually"},features:[{key:"team_account_teamplan_changeplan_plans_everything_in_starter_markup",icon:"check"},{key:"team_account_teamplan_changeplan_plans_unlimited_seats",icon:"add"},{key:"team_account_teamplan_changeplan_plans_vpn_for_wifi_protection",icon:"add"}]},business:{planName:"business",price:i&&n?a.price(n,i/100,{notation:"compact"}):null,equivalentPrice:t.hasLimitedOffer&&i&&n?t.translatedEquivalentPrice:null,limitedOffer:t.hasLimitedOffer,heading:{key:"team_account_teamplan_changeplan_plans_business_name_V2"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_anually"},features:[{key:"team_account_teamplan_changeplan_plans_everything_in_team_markup",icon:"check"},{icon:"add",key:"team_account_teamplan_changeplan_plans_sso_integration"},{icon:"add",key:"team_account_teamplan_changeplan_plans_scim_provisioning"},{icon:"add",key:"team_account_teamplan_changeplan_plans_free_friends_family_plan"},{icon:"add",key:"team_account_teamplan_changeplan_plans_phone_support"}]}}})(a,(0,Lt.t)()),l=s.status!==r.rq.Success||!s.data,c=s.status===r.rq.Success&&"2022_team_starter_tier"===s.data.planName,{businessOffer:_,teamOffer:m}=null!=a?a:{};return n.createElement(It,{title:i("team_account_teamplan_changeplan_plans")},l?Ut||(Ut=n.createElement(d.Ejs,{alignItems:"center",justifyContent:"center"},n.createElement(d.HoD,{size:30,color:"black"}))):c?n.createElement(d.Ejs,{sx:{height:"100%",display:"flex",gap:"16px",paddingTop:"8px"}},n.createElement(Mt,{plan:o.starter}),n.createElement(Mt,{plan:o.team,handleSelectClick:m?()=>t(m):void 0,selected:!!m&&e?.name===m?.name}),n.createElement(Mt,{plan:o.business,handleSelectClick:_?()=>t(_):void 0,selected:!!_&&e?.name===_?.name})):n.createElement(d.Ejs,{alignItems:"center",flexWrap:"unset"},Bt||(Bt=n.createElement(Pt,null)),n.createElement(zt,{businessOffer:_,selected:!!_&&e?.name===_?.name,handleSelectClick:_?()=>t(_):void 0})))};var Ft=a(952284);const Vt=()=>n.createElement("hr",{style:{width:"100%",borderTop:`1px solid ${d.colors.grey02}`,borderBottom:"0",margin:"0"}}),$t=({label:e,value:t})=>(0,c.tZ)(d.Ejs,{justifyContent:"flex-end",sx:{display:"flex",justifyContent:"flexEnd",padding:"0 10px"}},e?(0,c.tZ)(d.k$b,{flex:"1",sx:{display:"flex",alignItems:"center"}},e):null,t?(0,c.tZ)(d.k$b,{sx:{display:"flex",alignItems:"center"}},t):null);var qt;const Wt=({currency:e,costData:t,isProratedDiscountLoading:a,isTaxLoading:i,selectedOffer:s,setAdditionalSeats:o})=>{const{translate:r}=(0,p.Z)(),{loading:l,billingCountry:u}=S();if(l)return(0,c.tZ)(d.HoD,{color:d.colors.midGreen00});const _="US"===u?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat";return(0,c.tZ)(n.Fragment,null,s&&e?(0,c.tZ)(n.Fragment,null,(0,c.tZ)($t,{label:(0,c.tZ)(d.nvN,{bold:!0,size:"medium"},r("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})),value:(0,c.tZ)(d.k$b,{sx:{width:"146px"}},(0,c.tZ)(Ft.w,{id:"test",inputWidth:"66px",label:"",minValue:0,onChange:o,defaultValue:0}))}),(0,c.tZ)($t,{label:(0,c.tZ)(d.nvN,{bold:!0,size:"small"},r("team_account_teamplan_changeplan_order_summary_seats_upgraded",{upgradedSeats:t.currentSeats})),value:(0,c.tZ)(d.nvN,{bold:!0,size:"small"},r.price(e,t.upgradedSeatsPrice/100))}),t.additionalSeats?(0,c.tZ)($t,{label:(0,c.tZ)(d.nvN,{bold:!0,size:"small"},r("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:t.additionalSeats})),value:(0,c.tZ)(d.nvN,{bold:!0,size:"small"},r.price(e,t.additionalSeatsPrice/100))}):null,qt||(qt=(0,c.tZ)(Vt,null)),(0,c.tZ)($t,{label:(0,c.tZ)(d.nvN,{bold:!0,size:"small"},r("team_account_teamplan_changeplan_order_summary_subtotal")),value:e?(0,c.tZ)(d.nvN,{bold:!0,size:"small"},r.price(e,t.subtotal/100)):null}),t?.proratedDiscount?(0,c.tZ)($t,{label:(0,c.tZ)(d.Ejs,{alignItems:"center",gap:"5px"},(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00},r("team_account_teamplan_changeplan_order_summary_prorated_discount")),(0,c.tZ)(d.ua7,{content:r("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},(0,c.tZ)(d.uMt,{size:16,color:d.colors.grey00}))),value:a?(0,c.tZ)(d.HoD,{color:d.colors.black,size:13}):t.proratedDiscount&&e?(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00},r.price(e,t.proratedDiscount/100)):null}):null,t.tax?(0,c.tZ)($t,{label:(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00},r(_)),value:i?(0,c.tZ)(d.HoD,{color:d.colors.black,size:13}):(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00},r.price(e,t.tax/100))}):null):null)};var Ht=a(210994),Kt=a(241185),Qt=a(66941);function Yt({total:e,onError:t}){const[a,i]=(0,n.useState)(),[s,o]=(0,n.useState)(!1),[r,l]=(0,n.useState)();return e&&e!==a&&(i(e),o(!0),(async()=>{if(e&&e<=0)o(!1),l({expectedTaxesInCents:0});else if(e){const a=await Qt.C.getExpectedTaxInformation({priceInCents:e});if(o(!1),!a.success)return void(t&&t());l((()=>a.data))}})()),{isLoading:s,expectedTaxInformation:r}}const Xt=({selectedOffer:e,hasPromo:t,currentSeats:a,additionalSeats:n,planChangeStep:i})=>{const s=(0,u.Y)(),l=s.status===r.rq.Success&&"2022_team_starter_tier"===s.data.planName?o.B2bPlanTier.StarterTeam:o.B2bPlanTier.Team;return{logChangePlanEvent:s=>{const r=s||e,c=r?(0,Ot.sK)(r)?o.B2bPlanTier.Business:o.B2bPlanTier.Team:l;(0,z.Kz)(new o.UserChangeTeamPlanTierEvent({currentBillingPlanTier:l,currentPlanPaidSeatsCount:a,hasPromo:t,nextBillingPlanTier:c,planChangeStep:i,seatAddedCount:n}))}}},Jt=({selectedOffer:e,costData:t})=>{const{translate:a}=(0,p.Z)();return(0,c.tZ)(n.Fragment,null,e?(0,c.tZ)(n.Fragment,null,(0,c.tZ)($t,{label:(0,c.tZ)(d.Ejs,{gap:"5px"},(0,c.tZ)(d.nvN,{bold:!0,size:"medium"},a("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})),(0,c.tZ)(d.nvN,{bold:!0,size:"medium"},"(",a("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:t.additionalSeats}),")"))}),(0,c.tZ)(d.vDh,{severity:"subtle",size:"small",title:a("team_account_teamplan_changeplan_order_summary_invoice_info")})):null,(0,c.tZ)(d.zxk,{"data-testid":"btn-request-a-quote",size:"large",sx:{width:"100%"},type:"button",disabled:!e,onClick:()=>{window.open(ie.vS,"_blank")}},a("team_account_teamplan_changeplan_order_summary_request_an_upgrade")))};var ea=a(819923);const ta=({selectedOffer:e,currency:t,costData:a})=>{const{translate:n}=(0,p.Z)(),{isLoading:i,expectedTaxInformation:s}=Yt({total:a.renewalPrice}),{loading:r,billingCountry:l}=S();if(r)return(0,c.tZ)(d.HoD,{color:d.colors.midGreen00});const u="US"===l?"team_account_teamplan_changeplan_order_summary_footer_renewal":"team_account_teamplan_changeplan_order_summary_renewal_vat",_=!i&&void 0!==s?.expectedTaxesInCents&&s?.expectedTaxesInCents>0,m=_&&s?.expectedTaxesInCents?a.renewalPrice+s.expectedTaxesInCents:void 0,g=_?u:"team_account_teamplan_changeplan_order_summary_footer_header",y=_?m:a.renewalPrice;return(0,c.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:"12px",padding:"16px",backgroundColor:d.colors.grey06}},e&&t&&y?(0,c.tZ)(d.nvN,{bold:!0,size:"small",color:d.colors.grey00},n(g,{price:n.price(t,y/100),date:n.shortDate(a.renewalDate,ea.qG.ll)})):null,(0,c.tZ)(d.nvN,{size:"x-small",color:d.colors.grey00},n.markup("team_account_teamplan_changeplan_order_summary_footer_markup",{privacyPolicyUrl:ie.Bz,termsUrl:ie.sz},{linkTarget:"_blank",onLinkClicked:e=>{e===ie.Bz?(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.PrivacyPolicy],chosenAction:o.CallToAction.PrivacyPolicy,hasChosenNoAction:!1})):e===ie.sz&&(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.TermsOfService],chosenAction:o.CallToAction.TermsOfService,hasChosenNoAction:!1}))}})))},aa={display:"flex",alignItems:"center",padding:"12px 10px",justifyContent:"space-between",backgroundColor:d.colors.dashGreen06},na=({selectedOffer:e,currency:t,costData:a})=>{const{translate:n}=(0,p.Z)();return e&&t?(0,c.tZ)("div",{sx:aa,"data-testid":"order-summary-plan-name"},(0,c.tZ)(d.nvN,{bold:!0,color:d.colors.dashGreen01},(0,Ot.sK)(e)?n("team_account_teamplan_changeplan_plans_business_name"):n("team_account_teamplan_changeplan_plans_team_name")),(0,c.tZ)(d.nvN,{color:d.colors.dashGreen01},n("team_account_teamplan_changeplan_order_summary_seat_year",{cost:n.price(t,a.seatPrice/100,{notation:"compact"})}))):(0,c.tZ)("div",{sx:aa},(0,c.tZ)(d.nvN,{color:d.colors.dashGreen01},n("team_account_teamplan_changeplan_order_summary_select_plan")))};var ia;const sa=({onDismiss:e,value:t,buttonProps:a})=>(0,c.tZ)(d.Ejs,{alignItems:"center",gap:"6px"},(0,c.tZ)(d.Ejs,{sx:{backgroundColor:d.colors.midGreen05,padding:"4px 8px",borderRadius:"4px"}},"string"==typeof t?(0,c.tZ)(d.nvN,{size:"x-small"},t):{value:t}),e?(0,c.tZ)(d.zxk,{size:"small",type:"button",nature:"ghost",onClick:e,sx:{padding:0,minWidth:0},...a},ia||(ia=(0,c.tZ)(d.Two,{size:18}))):null);var oa,ra;const la=({currency:e,promoPrice:t,promoCode:a,hasError:n,isLoading:i,showInput:s,setShowInput:o,onSubmit:r,onCancel:l,onChange:u,onClear:_})=>{const{translate:m}=(0,p.Z)();return s?(0,c.tZ)(d.Ejs,{gap:"6px",fullWidth:!0,sx:{padding:"0 10px"}},(0,c.tZ)(d.k$b,{flex:"1"},(0,c.tZ)(d.oil,{fullWidth:!0,value:a,placeholder:m("team_account_teamplan_changeplan_order_summary_promo_code_cta"),feedbackText:n?m("team_account_teamplan_changeplan_order_summary_promo_code_error"):null,feedbackType:n?"error":void 0,onChange:u?e=>u(e?.target?.value):void 0})),(0,c.tZ)(d.zxk,{disabled:i,"data-testid":"promo_code_button_submit",type:"button",nature:"secondary",onClick:async()=>{r&&await r()}},i?(0,c.tZ)(d.HoD,{size:20,color:d.colors.black}):oa||(oa=(0,c.tZ)(d.nQG,{size:20}))),(0,c.tZ)(d.zxk,{"data-testid":"promo_code_button_cancel",type:"button",nature:"ghost",onClick:()=>{l&&l()}},ra||(ra=(0,c.tZ)(d.Two,{size:20})))):a?(0,c.tZ)(d.Ejs,{gap:"4px",fullWidth:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"0 10px"}},(0,c.tZ)(d.Ejs,{sx:{display:"flex",alignItems:"center",gap:"4px"}},(0,c.tZ)(d.nvN,{size:"small",color:d.colors.black},m("team_account_teamplan_changeplan_order_summary_promo_code")),(0,c.tZ)(sa,{value:a,onDismiss:_,buttonProps:{"data-testid":"promo_code_button_clear"}})),(0,c.tZ)(d.k$b,null,t&&e?(0,c.tZ)(d.nvN,{size:"small",color:d.colors.black},m.price(e,(e=>e?-e/100:0)(t))):null)):(0,c.tZ)(d.Ejs,{sx:{padding:"0 10px"}},(0,c.tZ)(d.zxk,{"data-testid":"promo_code_button_enter",size:"small",type:"button",nature:"ghost",onClick:()=>o?o(!0):null,sx:{margin:0,padding:0,minWidth:0},"aria-label":m("team_account_teamplan_changeplan_order_summary_promo_code_cta")},(0,c.tZ)(d.rUS,null,(0,c.tZ)(d.nvN,{size:"x-small",color:d.colors.midGreen00},m("team_account_teamplan_changeplan_order_summary_promo_code_cta")))))};var ca,da;const ua=({currency:e,currentSeats:t,additionalSeats:a,selectedOffer:i,email:s,emailValid:_,onSuccess:m,onError:g,setAdditionalSeats:y,setOrderSummaryData:b})=>{const{translate:h}=(0,p.Z)(),x=(0,u.Y)(),S=x.status===r.rq.Success&&x.data?.planType===l.PlanType.Invoice,{promoCode:f,currentPromoCode:v,showInput:C,isLoading:E,setShowInput:Z,setCurrentPromoCode:N,validatePromoCode:T,clearPromoCode:D,cancelPromoCode:M,hasError:I,teamOffers:A}=function({selectedOffer:e,currentSeats:t,additionalSeats:a}){const[i,s]=(0,n.useState)(""),[o,r]=(0,n.useState)(""),[l,c]=(0,n.useState)(),[d,u]=(0,n.useState)(!1),[_,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[y,b]=(0,n.useState)(a),[h,x]=(0,n.useState)(e),S=(0,n.useCallback)((async()=>{if(!o)return!1;g(!0);const n=await Qt.C.getTeamOffers({couponCode:o});if(!n.success)return g(!1),u(!0),m(!0),!1;const i=(0,Ot.Jx)({offer:n.data.businessOffer,currentSeats:t,additionalSeats:a}),r=i.price!==i.equivalentPrice,l=(0,Ot.Jx)({offer:n.data.teamOffer,currentSeats:t,additionalSeats:a}),d=l.price!==l.equivalentPrice;return(e&&(0,Ot.sK)(e)?r:d)?(g(!1),s(o),c((()=>n.data)),u(!1),m(!1),!0):(g(!1),u(!0),m(!0),!1)}),[t,a,o,e]);return(0,n.useEffect)((()=>{a!==y&&(b(a),S())}),[y,a,S]),(0,n.useEffect)((()=>{e?.name!==h?.name&&(x(e),S())}),[e,h,S]),{promoCode:i,currentPromoCode:o,setCurrentPromoCode:r,validatePromoCode:S,clearPromoCode:()=>{s(""),r(""),c(void 0),u(!1)},cancelPromoCode:()=>{d?(s(""),r("")):r(i),u(!1),m(!1)},showInput:_,setShowInput:m,hasError:d,teamOffers:l,isLoading:p,setIsLoading:g}}({selectedOffer:i,additionalSeats:a,currentSeats:t}),{isSaving:w,costData:k,changeTierMidCycle:O,isTaxLoading:L,isProratedDiscountLoading:z}=function({selectedOffer:e,currentSeats:t,additionalSeats:a,discountedTeamOffers:i,promoCode:s,email:o,onSuccess:r,onError:l}){var c,d;const[u,_]=(0,n.useState)(!1),m=!!s,p=!!e&&(0,Ot.sK)(e),g=!!e&&(0,Ot.AS)(e),y=i&&e?p?i.businessOffer:g?i.teamOffer:i.starterOffer:e,{isLoading:b,midCycleTierUpgradePrice:h}=function({seats:e,planName:t,onError:a}){const[i,s]=(0,n.useState)(0),[o,r]=(0,n.useState)(),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)();return(e!==i||t&&t!==o)&&(s(e),r(t),c(!0),(async()=>{if(void 0!==e&&t){const n=await Qt.C.getMidCycleTierUpgradePrice({numberOfSeats:e,newPlan:t});if(c(!1),!n.success)return void(a&&a());u((()=>n.data))}})()),{isLoading:l,midCycleTierUpgradePrice:d}}({seats:a,planName:y?.name}),x=y?(0,Ot.Jx)({offer:y,currentSeats:t,additionalSeats:a}):null,S=null!=(c=x?.equivalentPrice)?c:0,f=null!=(d=x?.price)?d:0,v=m?S:f,C=t+a,E=a*v,Z=t*v,N=C*v,T=N-(f?C*f:N),D=h?.discountAmount?N+h?.discountAmount:void 0,M=D?D-T:D,I=h?.nextBillingDateUnix?(0,Ht.Z)(h?.nextBillingDateUnix):(0,Kt.Z)(new Date,1),{isLoading:A,expectedTaxInformation:w}=Yt({total:M}),k=A||void 0===w?.expectedTaxesInCents?0:w.expectedTaxesInCents,O=A||void 0===w?.expectedTaxesInCents||void 0===M?void 0:M+k;return{isSaving:u,changeTierMidCycle:async e=>{if(!(M&&w&&y))return void l();_((()=>!0));const t=await Qt.C.changeTierMidCycle({amountToPay:M,taxes:k,planId:y.name,couponCode:e||s,seatsToAdd:a,billingContactEmail:""!==o?o:void 0});_((()=>!1)),t.success?r():l()},isProratedDiscountLoading:b,isTaxLoading:A,costData:{seatPrice:v,additionalSeats:a,currentSeats:t,totalSeats:C,upgradedSeatsPrice:Z,additionalSeatsPrice:E,subtotal:N,proratedDiscount:h?.discountAmount,tax:k,pretaxTotal:D,promoPrice:T,total:O,renewalPrice:N,renewalDate:I}}}({selectedOffer:i,discountedTeamOffers:A,currentSeats:t,additionalSeats:a,promoCode:f,email:s,onSuccess:m,onError:g}),{logChangePlanEvent:j}=Xt({selectedOffer:i,hasPromo:!!f,currentSeats:t,additionalSeats:a,planChangeStep:o.PlanChangeStep.ConfirmAndPayCta});return(0,c.tZ)(It,{title:h("team_account_teamplan_changeplan_order_summary_header")},(0,c.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"}},(0,c.tZ)(na,{selectedOffer:i,currency:e,costData:k}),S?(0,c.tZ)(Jt,{selectedOffer:i,costData:k}):(0,c.tZ)(n.Fragment,null,(0,c.tZ)(Wt,{currency:e,costData:k,isProratedDiscountLoading:z,isTaxLoading:L,selectedOffer:i,setAdditionalSeats:y}),i&&e?(0,c.tZ)(la,{currency:e,promoCode:v,promoPrice:k?.promoPrice,hasError:I,showInput:C,isLoading:E,setShowInput:Z,onSubmit:T,onChange:N,onCancel:M,onClear:D}):null,ca||(ca=(0,c.tZ)(Vt,null)),(0,c.tZ)($t,{label:(0,c.tZ)(d.nvN,{bold:!0,size:"large"},h("team_account_teamplan_changeplan_order_summary_due_today_V2")),value:!e||L||z?(0,c.tZ)(d.HoD,{size:23,color:d.colors.black}):i?k.total?(0,c.tZ)(d.nvN,{bold:!0,size:"large"},h.price(e,k.total/100)):null:(0,c.tZ)(d.nvN,{bold:!0,size:"large"},`${h.priceSymbol(e)}--.--`)}),w?(0,c.tZ)(d.zxk,{size:"large",sx:{width:"100%"},type:"button",disabled:!0},da||(da=(0,c.tZ)(d.HoD,null))):(0,c.tZ)(d.zxk,{"data-testid":"btn-confirm-and-pay",size:"large",sx:{width:"100%"},type:"button",disabled:!i||!_||E,onClick:async()=>{(!I&&f===v||await T())&&(j(),O(v),b(k))}},h("team_account_teamplan_changeplan_order_summary_confirm_and_pay"))),(0,c.tZ)(ta,{selectedOffer:i,currency:e,costData:k})))};var _a,ma=a(990340),pa=a(51662);const ga=({email:e,emailValid:t,setEmail:a,setEmailValid:i})=>{const{translate:s}=(0,p.Z)(),o=(0,ma.G)(),[r,l]=n.useState(!1);return o?.email?n.createElement(It,{title:s("team_account_teamplan_changeplan_billing_contact_header")},_a||(_a=n.createElement("br",null)),n.createElement(d.nvN,{size:"medium",color:d.colors.grey00},s.markup("team_account_teamplan_changeplan_billing_contact_copy_markup",{billContactEmail:o.email})),n.createElement("div",{style:{margin:"20px 0px"}},n.createElement(d.XZJ,{"data-testid":"additionalEmailCheckbox",label:s("team_account_teamplan_changeplan_billing_contact_checkbox_label"),checked:r,onChange:e=>{a(""),i(!0),l(e.currentTarget.checked)}})),r?n.createElement(d.oil,{"data-testid":"additionalEmailInput",type:"text",onChange:e=>a(e.currentTarget.value),onBlur:e=>(e=>{(0,pa.vV)(e.currentTarget.value)?i(!0):i(!1)})(e),value:e,feedbackType:t?void 0:"error",feedbackText:t?"":s("team_account_teamplan_changeplan_billing_contact_input_warning"),autoFocus:!0}):null):null},ya=()=>{const{translate:e}=(0,p.Z)();return n.createElement(It,{title:n.createElement(d.nvN,{bold:!0,size:"large"},e("team_account_teamplan_changeplan_questions_header"))},n.createElement(d.nvN,{color:d.colors.grey00,size:"small",style:{marginBottom:"10px"}},e.markup("team_account_teamplan_changeplan_questions_help_center_markup",{helpCenterUrl:ie.Vr},{linkTarget:"_blank",onLinkClicked:()=>{(0,z.Kz)(new o.UserOpenHelpCenterEvent({helpCenterArticleCta:o.HelpCenterArticleCta.HelpCenter}))}})),n.createElement(d.nvN,{size:"small",color:d.colors.grey00},e.markup("team_account_teamplan_changeplan_questions_customer_support_markup",{customerSupportUrl:ie.to},{linkTarget:"_blank",onLinkClicked:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.ContactCustomerSupport],chosenAction:o.CallToAction.ContactCustomerSupport,hasChosenNoAction:!1}))}})))};var ba,ha,xa,Sa,fa,va;const Ca=({targetPlan:e})=>{const{translate:t}=(0,p.Z)(),{data:a}=(({targetPlan:e})=>{const{routes:t}=(0,s.Xo)(),a={DIRECTORY_SYNC:`${t.teamSettingsRoutePath}${i.B9.DIRECTORY_SYNC}`,POLICIES:`${t.teamSettingsRoutePath}${i.B9.POLICIES}`,SSO:`${t.teamSettingsRoutePath}${i.B9.SSO}`};return{data:{team:{header:"team_account_teamplan_changeplan_success_team_header",description:"team_account_teamplan_changeplan_success_team_description",alert:"team_account_teamplan_changeplan_success_team_alert",features:[{header:"team_account_teamplan_changeplan_success_features_vpn_header",description:"team_account_teamplan_changeplan_success_features_vpn_description",icon:ba||(ba=(0,y.tZ)(d.Qut,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_turn_on_vpn_access",link:a.POLICIES},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360000037900#title1"}]},{header:"team_account_teamplan_changeplan_success_features_protection_header",description:"team_account_teamplan_changeplan_success_features_protection_description",icon:ha||(ha=(0,y.tZ)(d.c6E,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_add_seats",link:`${t.teamAccountRoutePath}?showSeatsDialog=true`}]}]},business:{header:"team_account_teamplan_changeplan_success_business_header",description:"team_account_teamplan_changeplan_success_business_description",alert:"team_account_teamplan_changeplan_success_business_alert",features:[{header:"team_account_teamplan_changeplan_success_sso_header",description:"team_account_teamplan_changeplan_success_sso_copy",icon:xa||(xa=(0,y.tZ)(d.oEX,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_start_setup",link:a.SSO},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360015973719-Set-up-SSO-and-SCIM-with-Azure-AD"}]},{header:"team_account_teamplan_changeplan_success_features_scim_header",description:"team_account_teamplan_changeplan_success_features_scim_description",icon:Sa||(Sa=(0,y.tZ)(d.kpp,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_start_setup",link:a.DIRECTORY_SYNC},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360015973719#h_01FTXPSRCV3CY1QVY1B5S5TD0J"}]},{header:"team_account_teamplan_changeplan_success_features_friends_and_family_header",description:"team_account_teamplan_changeplan_success_features_friends_and_family_description",icon:fa||(fa=(0,y.tZ)(d.c6E,{size:24})),actions:[{external:!0,mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_learn_more",link:"https://www.dashlane.com/plans/family"}]},{header:"team_account_teamplan_changeplan_success_features_phone_support_header",description:"team_account_teamplan_changeplan_success_features_phone_support_description",icon:va||(va=(0,y.tZ)(d.qWc,{size:24})),actions:[{external:!0,mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_schedule_a_call",link:"https://calendly.com/dashlane-support/call_back_form",logEvent:new o.UserCallToActionEvent({callToActionList:[o.CallToAction.ContactPhoneSupport],chosenAction:o.CallToAction.ContactPhoneSupport,hasChosenNoAction:!1})}]}]}}[e]}})({targetPlan:e}),{alert:r,show:l}=(0,d.VYq)({message:t(a.alert),severity:d.BLW.SUCCESS,size:d.k3y.SMALL,dismissDelay:5e3});return(0,n.useEffect)((()=>{l()}),[]),(0,y.tZ)(n.Fragment,null,(0,y.tZ)("div",{style:{bottom:"12px",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,width:"600px"}},r),(0,y.tZ)(It,{title:t(a.header),sx:{width:"632px",padding:"32px"}},(0,y.tZ)("div",{style:{marginTop:"8px"}},(0,y.tZ)(d.nvN,{size:"medium",color:y.O9.lightTheme.ds.text.neutral.quiet},t(a.description))),(0,y.tZ)(d.Ejs,{sx:{marginTop:"32px",display:"flex",flexDirection:"column",borderBottom:`1px solid ${y.O9.lightTheme.ds.border.neutral.quiet.idle}`}},a.features.map((e=>(0,y.tZ)(d.Ejs,{key:e.header,flexDirection:"column",sx:{display:"flex",flexDirection:"column",borderTop:`1px solid ${y.O9.lightTheme.ds.border.neutral.quiet.idle}`,padding:"32px 0"}},(0,y.tZ)(d.Ejs,{flexDirection:"row",gap:"16px",flexWrap:"nowrap"},(0,y.tZ)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"40px",height:"40px",borderRadius:"8px",backgroundColor:y.O9.lightTheme.ds.container.expressive.brand.quiet.idle}},e.icon),(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,y.tZ)(d.nvN,{bold:!0,color:y.O9.lightTheme.ds.text.neutral.catchy},t(e.header)),(0,y.tZ)(d.nvN,{size:"x-small",color:y.O9.lightTheme.ds.text.neutral.quiet},t(e.description)),(0,y.tZ)(d.Ejs,{gap:"8px"},e.actions.map((e=>e.external?(0,y.tZ)("a",{href:e.link,key:e.content,target:"_blank",rel:"noopener noreferrer"},(0,y.tZ)(y.zx,{mood:e.mood,intensity:e.intensity,size:"small",type:"button",onClick:()=>{e.logEvent&&(0,z.Kz)(e.logEvent)}},t(e.content))):(0,y.tZ)(s.rU,{to:e.link,key:e.content},(0,y.tZ)(y.zx,{mood:e.mood,intensity:e.intensity,size:"small",type:"button"},t(e.content))))))))))))))};var Ea;const Za=({currentSeats:e,teamOffers:t})=>{const{translate:a}=(0,p.Z)(),n=(0,u.Y)(),i=n.status===r.rq.Success&&(0,A.f1)(n.data),s=n.status===r.rq.Success&&(0,A.pq)(n.data),o=n.status===r.rq.Success&&(0,A.NG)(n.data),l=t?.businessOffer?.currency,_=t?.businessOffer?(0,Ot.$l)({offer:t.businessOffer}):null,m=t?.teamOffer?(0,Ot.$l)({offer:t.teamOffer}):null,g=t?.starterOffer?(0,Ot.$l)({offer:t.starterOffer}):null,y=(0,Ot.f)(t?.starterOffer),b=i&&g&&l?a.price(l,g*y/100,{notation:"compact"}):s&&m&&l?a.price(l,m*e/100,{notation:"compact"}):o&&_&&l?a.price(l,_*e/100,{notation:"compact"}):null;return(0,c.tZ)(It,{title:a("team_account_teamplan_changeplan_current_plan_header")},(0,c.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"}},(0,c.tZ)("div",{sx:{display:"flex",alignItems:"center",padding:"12px 10px",justifyContent:"space-between",backgroundColor:"ds.container.agnostic.neutral.quiet"}},(0,c.tZ)(d.nvN,{bold:!0,color:"ds.text.neutral.standard"},i?a("team_account_teamplan_changeplan_current_plan_starter"):s?a("manage_subscription_plan_name_dashlane_team"):o?a("manage_subscription_plan_name_dashlane_business"):Ea||(Ea=(0,c.tZ)(d.HoD,{size:30,color:"ds.text.neutral.standard"}))),(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard"},b?a("team_account_teamplan_changeplan_current_plan_per_year",{cost:b}):null))))};var Na,Ta,Da=a(307973);const Ma=({currency:e,selectedOffer:t,costData:a})=>{const{translate:i}=(0,p.Z)(),{loading:s,billingCountry:o}=S();if(s)return n.createElement(d.HoD,{color:d.colors.midGreen00});const r="US"===o?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat";return n.createElement(d.Ejs,{flexDirection:"column",gap:"32px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",borderRadius:"4px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px"}},n.createElement($t,{label:n.createElement(d.X6q,{size:"small"},i("team_account_teamplan_changeplan_order_summary_header")),value:n.createElement(d.nvN,{color:"ds.text.neutral.quiet"},(0,Da.Z)(new Date,"MM/dd/yyyy"))}),n.createElement(d.Ejs,{flexDirection:"column",gap:"16px",sx:{padding:"32px 0"}},n.createElement(na,{selectedOffer:t,currency:e,costData:a})),n.createElement(d.Ejs,{flexDirection:"column",gap:"16px"},n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.catchy",sx:{padding:"0 10px",fontWeight:"light"}},i("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:a.totalSeats})),n.createElement($t,{label:n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.standard"},i("team_account_teamplan_changeplan_order_summary_subtotal")),value:e?n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.standard"},i.price(e,a.subtotal/100)):null}),a.tax&&e?n.createElement($t,{label:n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i(r)),value:n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i.price(e,a.tax/100))}):null,a?.proratedDiscount?n.createElement($t,{label:n.createElement(d.Ejs,{alignItems:"center",gap:"5px"},n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i("team_account_teamplan_changeplan_order_summary_prorated_discount")),n.createElement(d.ua7,{content:i("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},Na||(Na=n.createElement(d.uMt,{size:16,color:"ds.text.neutral.quiet"})))),value:e?n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i.price(e,a.proratedDiscount/100)):null}):null,a?.promoPrice?n.createElement($t,{label:n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},i("team_account_teamplan_upgrade_premium_coupon")),value:e?n.createElement(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},"-",i.price(e,a.promoPrice/100)):null}):null,Ta||(Ta=n.createElement(Vt,null)),a?.total?n.createElement($t,{label:n.createElement(d.nvN,{bold:!0,size:"large"},i("team_account_teamplan_total")),value:e?n.createElement(d.nvN,{bold:!0,size:"large"},i.price(e,a.total/100)):null}):null))},Ia=()=>{const{translate:e}=(0,p.Z)();return n.createElement(It,{title:e("team_account_teamplan_changeplan_payment_method_header")},n.createElement(d.Ejs,{sx:{display:"flex",gap:"6px",marginTop:"16px"}},n.createElement(d.UXA,{size:16,color:d.colors.grey00}),n.createElement(d.nvN,{size:"medium",color:d.colors.grey00},e("team_account_teamplan_changeplan_payment_method_invoice_body"))))};var Aa=a(788355),wa=a(482598),ka=a(925930),Oa=a(787268);const La=/^((AT)(U\d{8})|(BE)(0\d{9}|\d{10})|(BG)(\d{9,10})|(CHE)(\d{9})|(CY)(\d{8}[LX])|(CZ)(\d{8,10})|(DE)(\d{9})|(DK)(\d{8})|(EE)(\d{9})|(EL|GR|GB)(\d{9})|(ES)([\dA-Z]\d{7}[\dA-Z])|(FI)(\d{8})|(FR)([\dA-Z]{2}\d{9})|(HU)(\d{8})|(HR)(\d{11})|(IE)(\d{7}[A-Z]{2})|(IT)(\d{11})|(LT)(\d{9}|\d{12})|(LU)(\d{8})|(LV)(\d{11})|(MT)(\d{8})|(NL)(\d{9}(B\d{2}|BO2))|(PL)(\d{10})|(PT)(\d{9})|(RO)(\d{2,10})|(SE)(\d{12})|(SI)(\d{8})|(SK)(\d{10})|(\d{9}MVA))$/i,za="team_account_vat_number";var ja,Ra;!function(e){e[e.ADD=0]="ADD",e[e.UPDATE=1]="UPDATE"}(ja||(ja={})),function(e){e.INITIAL_VIEW="initialView",e.EDIT="edit",e.SAVE="save",e.SAVING="saving"}(Ra||(Ra={}));const Pa=({isInAccountSummary:e})=>{const{translate:t}=(0,p.Z)(),[a,i]=(0,n.useState)(""),[s,o]=(0,n.useState)("cancel"),[r,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(ja.ADD),[_,m]=(0,n.useState)(Ra.INITIAL_VIEW),g=(0,Oa.V)(),{deleteTeamVat:b,getTeamVat:h,upsertTeamVat:x}=(0,wa.u)(ka.a);(0,n.useEffect)((()=>{(async()=>{const e=await h();"success"===e.tag?(i(e.data?.vatNumber),o("delete"),m(Ra.EDIT)):m(Ra.INITIAL_VIEW)})()}),[h]);const S=async()=>{"success"===(await b()).tag&&(i(""),m(Ra.INITIAL_VIEW),o("cancel"),u(ja.ADD),g.showAlert(t("team_account_vat_number_delete_success_alert"),d.BLW.SUCCESS))},f=e=>e&&!(e=>{const t=e.replaceAll(/\./g,"");return La.test(t)})(e)?t("team_account_vat_number_invalid"):null,v={vatNumber:a},C=c===ja.ADD?"team_account_vat_number_add_success":"team_account_vat_number_update_success";return(0,y.tZ)(n.Fragment,null,""===a&&(0,y.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:e?"small":"medium"},t("team_account_vat_number_add_description")),_===Ra.INITIAL_VIEW?(0,y.tZ)("div",{sx:{marginTop:"16px"}},(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",icon:"ActionAddOutlined",layout:"iconLeading",onClick:()=>{m(Ra.SAVE)}},t("team_account_vat_number_add_label"))):(0,y.tZ)("div",{sx:{marginTop:"16px"}},(0,y.tZ)(Aa.J9,{initialValues:v,onSubmit:_===Ra.SAVE?async e=>{m(Ra.SAVING),"success"===(await x({newVATNumber:e.vatNumber})).tag&&(i(e.vatNumber),l(!0),m(Ra.EDIT),o("delete"),setTimeout((()=>{l(!1)}),2e3))}:_===Ra.EDIT?()=>{l(!1),m(Ra.SAVE),u(ja.UPDATE)}:()=>{}},(({errors:e,resetForm:a,touched:n,values:i})=>(0,y.tZ)(Aa.l0,null,(0,y.tZ)(d.T5p,{gap:"16px",gridTemplateColumns:"2fr 0.25fr 1fr"},(0,y.tZ)(d.dDn,{gridColumn:"1 / 2"},(0,y.tZ)(Aa.gN,{name:"vatNumber",validate:f},(({field:{onChange:e,...a}})=>(0,y.tZ)(y.oi,{label:t(za),disabled:_===Ra.EDIT,onChange:t=>{e(t),_===Ra.EDIT&&(m(Ra.SAVE),l(!1))},...a,sx:{input:{textTransform:"uppercase"}}}))),e.vatNumber&&n.vatNumber&&(0,y.tZ)(d.nvN,{color:"ds.text.danger.quiet",size:"x-small"},e.vatNumber)),(0,y.tZ)(d.dDn,{gridColumn:"2 / 3",sx:{marginTop:"16px"}},_===Ra.SAVING?(0,y.tZ)(y.zx,{intensity:"catchy",layout:"labelOnly",disabled:!0,type:"submit"},t("team_account_name_saving_label")):_===Ra.SAVE?(0,y.tZ)(y.zx,{intensity:"catchy",layout:"labelOnly",disabled:""===i.vatNumber,type:"submit"},t("team_settings_button_save_label")):(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",icon:"ActionEditOutlined",layout:"iconLeading",disabled:""===i.vatNumber,type:"submit"},t("team_account_name_edit_label"))),(0,y.tZ)(d.dDn,{gridColumn:"3 / 4",sx:{marginTop:"16px"}},"cancel"===s?(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",layout:"labelOnly",disabled:_===Ra.SAVING,onClick:()=>m(Ra.INITIAL_VIEW)},t("_common_action_cancel")):(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",icon:"ActionDeleteOutlined",layout:"iconLeading",disabled:_===Ra.SAVING,onClick:()=>{a({values:v}),S()}},t("team_account_delete_label")))))))),r&&(0,y.tZ)(d.nvN,{color:"ds.text.positive.quiet",size:"x-small"},t(C)))},Ua=({isInAccountSummary:e})=>{const{translate:t}=(0,p.Z)();return(0,y.tZ)("div",null,e?(0,y.tZ)("div",{sx:{marginTop:"24px"}},(0,y.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},t(za)),(0,y.tZ)("div",{sx:{marginTop:"16px"}},(0,y.tZ)(Pa,{isInAccountSummary:e}))):(0,y.tZ)(It,{title:t(za)},(0,y.tZ)("div",{sx:{marginTop:"16px"}},(0,y.tZ)(Pa,{isInAccountSummary:e}))))};let Ba,Ga;var Fa,Va,$a,qa,Wa,Ha;!function(e){e.FREE="free",e.BUSINESS="business",e.TEAM="team"}(Ba||(Ba={})),function(e){e.FORM="form",e.SUCCESS="success"}(Ga||(Ga={}));const Ka=()=>{const{translate:e}=(0,p.Z)(),{routes:t}=(0,s.Xo)();return(0,c.tZ)(d.k$b,null,(0,c.tZ)(d.zxk,{type:"button",nature:"ghost",onClick:()=>(0,s.uX)(t.teamAccountRoutePath)},(0,c.tZ)(d.Ejs,{alignItems:"center"},Fa||(Fa=(0,c.tZ)(d.xCe,{size:14})),(0,c.tZ)(d.nvN,{bold:!0,sx:{marginLeft:"14px",color:d.colors.dashGreen00}},e("team_account_teamplan_changeplan_back")))))};var Qa,Ya=a(279684),Xa=a(955370),Ja=a(104227),en=a(905083),tn=a(295946),an=a(447041),nn=a(119452);!function(e){e[e.DUPLICATE=0]="DUPLICATE",e[e.SOMETHING_WRONG=1]="SOMETHING_WRONG",e[e.EMPTY=2]="EMPTY",e[e.MALFORMED=3]="MALFORMED"}(Qa||(Qa={}));const sn=(e,t)=>{switch(t){case Qa.DUPLICATE:return e("team_account_name_already_exists");case Qa.SOMETHING_WRONG:return e("team_account_name_error_something_wrong");case Qa.EMPTY:return e("team_account_name_is_empty");case Qa.MALFORMED:return e("team_account_name_is_malformed");default:return e("team_account_name_error_something_wrong")}};var on=a(646577);const rn="col1--a1XY6sTFa0",ln="col2--K8GKZ0pbNU";var cn;const dn=({lee:e,handleSave:t,defaultValue:a})=>{const{translate:n}=(0,p.Z)();return(0,c.tZ)("div",null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large",sx:{mb:"1em"}},n("team_account_heading_team_name")),e.permission.adminAccess.hasFullAccess?(0,c.tZ)("div",null,(0,c.tZ)(on.X,{defaultValue:a,saveBtnLabel:n("team_account_name_save_label"),savingBtnLabel:n("team_account_name_saving_label"),editBtnLabel:n("team_account_name_edit_label"),placeholder:n("team_account_name_add_your_team_name"),successMessage:n("team_account_name_add_your_team_success"),textFieldClassName:rn,buttonClassName:ln,onSave:t,layout:"iconLeading",icon:cn||(cn=(0,c.tZ)(y.JO,{name:"ActionEditOutlined"}))})):a)};var un=a(667355);const _n="team_account_teamplan_buy_more",mn=({isFreeTrial:e,isGracePeriod:t,isStarter:a,onClick:n,licenseCount:i})=>{const{translate:s}=(0,p.Z)();return a?null:t&&!e?(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",title:s("team_account_teamplan_hint_cannot_add_seats"),disabled:!0},s(_n)):e?(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",onClick:n,disabled:!1},s("team_account_teamplan_upgrade_button")):(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",onClick:n,disabled:!i},s(_n))},pn={width:"300px"},gn={width:"220px",marginLeft:"10px"},yn=({style:e,licenseCount:t,onRequestTeamUpgrade:a,onRequestBuyMoreSeats:i})=>{const{routes:r}=(0,s.Xo)(),{translate:l}=(0,p.Z)(),u=(0,J.C)(),_=(0,xe.o)("ecommerce_web_offerToExtend_phase1"),[m,g]=(0,n.useState)(!1),b=!!u&&u.spaceTier===he.lD.Starter,h=!!u&&u.spaceTier===he.lD.Team,x=!!u&&u.spaceTier===he.lD.Business,S=!!u?.isFreeTrial,f=(0,n.useMemo)((()=>{let e;return e=l(b?"team_account_teamplan_changeplan_plans_starter_name":h?"team_account_teamplan_team":"team_account_teamplan_business"),S?l("team_account_teamplan_trial",{planName:e}):`Dashlane ${e}`}),[b,h,S,l]),{logChangePlanEvent:v}=Xt({hasPromo:!1,currentSeats:t,additionalSeats:0,planChangeStep:o.PlanChangeStep.ChangePlanCta});if(!u)return null;const E=u.isGracePeriod,Z=0===u.daysLeftInTrial;return S?(0,c.tZ)(n.Fragment,null,(0,c.tZ)("div",{style:e},(0,c.tZ)("div",{className:"licenseStatusContainer--CehGjXAffX"},(0,c.tZ)("div",{className:rn},(0,c.tZ)("span",{className:"licenseCountText--hXtj4u8ji3"},f)),(0,c.tZ)("div",{className:I()(ln,"actionButtons--fylFoFIVJz")},(0,c.tZ)(mn,{isGracePeriod:E,isFreeTrial:S,isStarter:b,onClick:()=>a(o.ClickOrigin.AccountStatus),licenseCount:t}),!E&&Z&&_?(0,c.tZ)(y.zx,{mood:"brand",intensity:"supershy",layout:"labelOnly",onClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.ExtendTrial,clickOrigin:o.ClickOrigin.AccountStatus})),g(!0)}},l("team_dashboard_extend_trial_button")):null)),(0,c.tZ)("div",{className:"licenseCountContainer--bEWqbHZbKG"},l("team_account_teamplan_users",{count:t}))),m?(0,c.tZ)(C.XA,{initialDialog:C.s9.SURVEY}):null):(0,c.tZ)(d.Ejs,{flexDirection:"column",sx:{marginTop:"8px"}},(0,c.tZ)(d.Ejs,{alignItems:"center"},(0,c.tZ)("div",{sx:pn},(0,c.tZ)(d.nvN,{size:"medium"},l("team_account_teamplan_plan_name",{planName:f}))),(0,c.tZ)("div",{sx:gn},x?null:(0,c.tZ)(y.zx,{mood:"neutral",intensity:"quiet",type:"button",onClick:()=>{v(),(0,s.uX)(r.teamAccountChangePlanRoutePath)}},l("team_account_teamplan_change_plan")))),(0,c.tZ)(d.Ejs,{alignItems:"center",sx:{marginTop:"8px"}},(0,c.tZ)("div",{sx:pn},(0,c.tZ)(d.nvN,{size:"medium"},l("team_account_teamplan_seats",{numSeats:t}))),(0,c.tZ)("div",{sx:gn},(0,c.tZ)(mn,{isGracePeriod:E,isFreeTrial:S,isStarter:b,onClick:i,licenseCount:t}))))},bn={CARD_BORDER:{border:"1px solid ds.border.neutral.quiet.idle",borderRadius:"8px",overflow:"hidden"},ACCOUNT_PAGE:{backgroundColor:"ds.background.alternate",minHeight:"100%","& > div":{maxWidth:"74em",padding:"32px 48px"}}};var hn;const xn=({lee:e,seatsNumber:t,onRequestBuyMoreSeats:a,onRequestTeamUpgrade:i})=>{const{translate:s}=(0,p.Z)(),{reportTACError:o}=V(),[r,l]=(0,n.useState)("");(0,n.useEffect)((()=>{(async({globalState:e})=>{var t;const a=(0,tn.v0)(e);if(!a)throw new Error(an.N);const n=await(new nn.Z).status({auth:a});return null!=(t=n.content.team?.info.name)?t:""})(e).then(l).catch(o)}),[]);const c=(0,un.C)({});return(0,y.tZ)(d.Ejs,{flexDirection:"column"},(0,y.tZ)(y.X6,{textStyle:"ds.title.section.large",as:"h1",color:"ds.text.neutral.standard",sx:{mb:"32px"}},s("team_account_heading_team_setup")),(0,y.tZ)(d.Ejs,{gap:"24px",flexWrap:"nowrap"},(0,y.tZ)(d.Ejs,{flexDirection:"column",sx:(0,y.jM)([{flexGrow:"1",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px"},bn.CARD_BORDER])},(0,y.tZ)(dn,{lee:e,handleSave:t=>(async(e,t,a,n)=>{const i=(0,tn.v0)(t.globalState);if(!i){const e=new Error(sn(a,Qa.SOMETHING_WRONG));throw n(e),e}if(!e.length)throw new Error(sn(a,Qa.EMPTY));if(!/^[\w\s-.]*$/.test(e))throw new Error(sn(a,Qa.MALFORMED));try{var s;const t=await(new nn.Z).editSettings({auth:i,operations:[{type:"set_name",value:e}]});return null!=(s=t.content.team?.info.name)?s:""}catch(e){const t="team_name_already_exists"===e.message?Qa.DUPLICATE:Qa.SOMETHING_WRONG;throw new Error(sn(a,t))}})(t,e,s,o),defaultValue:r}),(0,y.tZ)("div",{sx:{mt:"2em"}},(0,y.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},s("team_account_teamplan")),(0,y.tZ)(yn,{licenseCount:t,onRequestBuyMoreSeats:a,onRequestTeamUpgrade:i}))),c?(0,y.tZ)(d.k$b,{sx:(0,y.jM)([{backgroundColor:"ds.container.agnostic.neutral.supershy",width:"416px",padding:"32px"},bn.CARD_BORDER])},hn||(hn=(0,y.tZ)(un.P,null))):null))},Sn={unsolicited:{paragraph:"team_account_cancel_widget_unsolicited_content_markup",button:"team_account_cancel_widget_unsolicited_button"},pending:{heading:"team_account_cancel_widget_requested_pending_heading",paragraph:"team_account_cancel_widget_requested_pending_content_markup"},complete:{heading:"team_account_cancel_widget_requested_complete_heading",paragraph:"team_account_cancel_widget_requested_complete_content",button:"team_account_cancel_widget_requested_complete_button"}},fn=(e,t,a)=>{var n,i,s,o,r;switch(e){case In.UNSOLICITED:return"paragraph"===t?a.markup(null!=(n=Sn.unsolicited[t])?n:"",{},{linkTarget:"_blank"}):a(null!=(i=Sn.unsolicited[t])?i:"");case In.REQUESTED_PENDING:return"paragraph"===t?a.markup(null!=(s=Sn.pending[t])?s:"",{},{linkTarget:"_blank"}):a(null!=(o=Sn.pending[t])?o:"");case In.REQUESTED_COMPLETE:return a(null!=(r=Sn.complete[t])?r:"")}},vn=({status:e,handleClickButton:t})=>{const{translate:a}=(0,p.Z)();return(0,y.tZ)(d.Ejs,{flexDirection:"column",sx:(0,d.jMf)([bn.CARD_BORDER,{backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",marginTop:"24px",flex:"1",overflow:"visible"}])},e!==In.UNSOLICITED?(0,y.tZ)(y.X6,{as:"h2",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",sx:{marginBottom:"16px"}},fn(e,"heading",a)):null,(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",sx:{fontSize:"15px"}},fn(e,"paragraph",a)),e!==In.REQUESTED_PENDING?(0,y.tZ)(y.zx,{intensity:"quiet",mood:"neutral",sx:{marginTop:"16px"},onClick:t},fn(e,"button",a)):null)},Cn=({spaceTier:e,handleClose:t,handleConfirmCancelationRequest:a})=>{const{translate:i}=(0,p.Z)(),[s,r]=(0,n.useState)({[o.PossibleFormAnswers.NoInternalUsage]:!1,[o.PossibleFormAnswers.NoNeedForPasswordManager]:!1,[o.PossibleFormAnswers.ChoseOtherPasswordManager]:!1,[o.PossibleFormAnswers.MissingCriticalFeatures]:!1,[o.PossibleFormAnswers.TechnicalIssues]:!1,[o.PossibleFormAnswers.TooExpensive]:!1,[o.PossibleFormAnswers.Other]:!1});(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacModalReasonsToCancelSubscription)}),[]);const l=`${e[0].toUpperCase()}${e.slice(1)}`,c=e=>{const t=!s[e];r({...s,[e]:t})};return(0,y.tZ)(y.Vq,{isOpen:!0,onClose:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Confirm,o.CallToAction.Cancel],hasChosenNoAction:!0})),t()},title:i("team_account_cancel_form_heading"),actions:{primary:{children:i("team_account_cancel_form_button_confirm"),onClick:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Confirm,o.CallToAction.Cancel],chosenAction:o.CallToAction.Confirm,hasChosenNoAction:!1})),(0,z.Kz)(new o.UserSubmitInProductFormAnswerEvent({formName:o.FormName.ReasonToCancelSubscription,answerList:[o.PossibleFormAnswers.NoInternalUsage,o.PossibleFormAnswers.NoNeedForPasswordManager,o.PossibleFormAnswers.ChoseOtherPasswordManager,o.PossibleFormAnswers.MissingCriticalFeatures,o.PossibleFormAnswers.TechnicalIssues,o.PossibleFormAnswers.TooExpensive,o.PossibleFormAnswers.Other],chosenAnswerList:Object.keys(s).filter((e=>s[e]))})),a()}},secondary:{children:i("team_account_cancel_form_button_cancel",{planTier:l}),onClick:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Confirm,o.CallToAction.Cancel],chosenAction:o.CallToAction.Cancel,hasChosenNoAction:!1})),t()}}},isDestructive:!0,closeActionLabel:i("_common_dialog_dismiss_button")},(0,y.tZ)(y.nv,{sx:{marginBottom:"20px"},textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},i("team_account_cancel_form_subheading")),(0,y.tZ)(y.nv,{textStyle:"ds.title.block.medium"},i("team_account_cancel_form_question")),(0,y.tZ)(y.nv,{sx:{marginBottom:"20px"},textStyle:"ds.body.standard.regular"},i("team_account_cancel_form_context")),(0,y.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:"20px"}},(0,y.tZ)(y.XZ,{label:i("team_account_cancel_form_option_1"),checked:s.no_internal_usage,onChange:()=>c(o.PossibleFormAnswers.NoInternalUsage)}),(0,y.tZ)(y.XZ,{label:i("team_account_cancel_form_option_2"),checked:s.no_need_for_password_manager,onChange:()=>c(o.PossibleFormAnswers.NoNeedForPasswordManager)}),(0,y.tZ)(y.XZ,{label:i("team_account_cancel_form_option_3"),checked:s.chose_other_password_manager,onChange:()=>c(o.PossibleFormAnswers.ChoseOtherPasswordManager)}),(0,y.tZ)(y.XZ,{label:i("team_account_cancel_form_option_4"),checked:s.missing_critical_features,onChange:()=>c(o.PossibleFormAnswers.MissingCriticalFeatures)}),(0,y.tZ)(y.XZ,{label:i("team_account_cancel_form_option_5"),checked:s.technical_issues,onChange:()=>c(o.PossibleFormAnswers.TechnicalIssues)}),(0,y.tZ)(y.XZ,{label:i("team_account_cancel_form_option_6"),checked:s.too_expensive,onChange:()=>c(o.PossibleFormAnswers.TooExpensive)}),(0,y.tZ)(y.XZ,{sx:{marginBottom:"8px"},label:i("team_account_cancel_form_option_7"),checked:s.other,onChange:()=>c(o.PossibleFormAnswers.Other)})),(0,y.tZ)(y.nv,{sx:{margin:"20px 0"},textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},i.markup("team_account_cancel_form_help_markup",{},{linkTarget:"_blank"})))};var En,Zn;const Nn={ITEM:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"16px"},WRAPPER:{margin:"16px 0",gap:"24px",display:"flex",flexDirection:"column"}},Tn="team_account_cancel_confirmation_dialog_close",Dn=({handleClose:e})=>{const{translate:t}=(0,p.Z)();return(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacConfirmSubscriptionCancellationRequestSubmission)}),[]),(0,y.tZ)(y.Vq,{isOpen:!0,onClose:e,title:t("team_account_cancel_confirmation_dialog_heading"),closeActionLabel:t(Tn),actions:{primary:{children:t(Tn),onClick:e}}},(0,y.tZ)("div",{sx:Nn.WRAPPER},(0,y.tZ)("div",{sx:Nn.ITEM},En||(En=(0,y.tZ)(y.JO,{name:"ItemEmailOutlined",size:"xlarge"})),(0,y.tZ)(y.nv,null,t.markup("team_account_cancel_confirmation_dialog_paragraph_1_markup"))),(0,y.tZ)("div",{sx:Nn.ITEM},Zn||(Zn=(0,y.tZ)(y.JO,{name:"ActionUndoOutlined",size:"xlarge"})),(0,y.tZ)(y.nv,null,t("team_account_cancel_confirmation_dialog_paragraph_2")))))};let Mn,In;!function(e){e.NONE="none",e.SURVEY="survey",e.REQUEST_SENT="requestSentConfirmation",e.REQUEST_ERROR="requestError"}(Mn||(Mn={})),function(e){e.UNSOLICITED="unsolicited",e.REQUESTED_PENDING="pending",e.REQUESTED_COMPLETE="complete"}(In||(In={}));const An=({status:e})=>{const[t,a]=(0,n.useState)(Mn.NONE),{isTeamSoftDiscontinued:i}=(0,Se.l)(),s=(0,J.C)();return null!==i&&s?i?null:(0,y.tZ)(n.Fragment,null,(0,y.tZ)(vn,{status:e,handleClickButton:e===In.UNSOLICITED?()=>{(0,z.Kz)(new o.UserClickEvent({clickOrigin:o.ClickOrigin.BillingInformation,button:o.Button.CancelSubscription})),a(Mn.SURVEY)}:()=>{(0,z.Kz)(new o.UserClickEvent({clickOrigin:o.ClickOrigin.BillingInformation,button:o.Button.ReactivateSubscription})),(0,O.Yo)(ie.oH)}}),t===Mn.SURVEY?(0,y.tZ)(Cn,{spaceTier:s.spaceTier,handleClose:()=>{a(Mn.NONE)},handleConfirmCancelationRequest:()=>{a(Mn.REQUEST_SENT)}}):null,t===Mn.REQUEST_SENT?(0,y.tZ)(Dn,{handleClose:()=>{a(Mn.NONE)}}):null):null};var wn=a(526849),kn=a(797518),On=a(309293);var Ln;const zn=e=>e.trim().toLocaleLowerCase(),jn=({defaultSelected:e,handleConfirmClick:t,handleClose:a,allMembersCount:i,membersList:s})=>{const{translate:o}=(0,p.Z)(),[r,l]=(0,n.useState)(e),[c,u]=(0,n.useState)(""),[_,m]=(0,n.useState)([]),[g,y]=(0,n.useState)(!1);(0,n.useEffect)((()=>{m(((e,t)=>""===t.trim()?e:e.filter((({login:e})=>zn(e).includes(zn(t)))))(s,c).slice(0,5))}),[s,c]);const b=n.useCallback((()=>{a()}),[a]),h=!_.length||e===r;return n.createElement(U.o,{isOpen:!0,showCloseIcon:!0,title:o("team_account_billing_admin_dialog_title"),footer:n.createElement(d.cNS,{primaryButtonTitle:o("team_account_billing_admin_dialog_confirm"),primaryButtonOnClick:()=>t(r),primaryButtonProps:{disabled:h}}),onRequestClose:b},n.createElement(d.T5p,{gap:"1.5em",gridTemplateColumns:"auto"},n.createElement(d.nvN,null,o("team_account_billing_admin_dialog_warning")),n.createElement(d.oil,{fullWidth:!0,autoFocus:!0,startAdornment:Ln||(Ln=n.createElement(d.W1M,null)),onChange:({target:{value:e}})=>{u(e),g||y(!0)},placeholder:o("team_account_billing_admin_search_field_placeholder")}),_.length>0?n.createElement(n.Fragment,null,n.createElement(On.S,{value:r,onChange:({target:{value:e}})=>{l(e)},groupName:"billingAdmins"},_.map((({login:e})=>n.createElement(On.E,{key:e,value:e,className:"radioWrapper--zUHiaWj5BN"},e)))),n.createElement(d.nvN,{color:"neutrals.8"},_.length<i?o("team_account_billing_admin_display_disclaimer",{count:_.length||"-",total:i||"-"}):null)):null,0===_.length?n.createElement(d.nvN,null,o("team_account_billing_admin_search_no_match")):null))};var Rn;const Pn=({lee:e})=>{const{globalState:t}=e,[a,i]=(0,n.useState)(""),[s,r]=(0,n.useState)(0),[l,c]=(0,n.useState)([]),[u,_]=(0,n.useState)(!1),m=(0,tn.v0)(t),{translate:g}=(0,p.Z)(),{reportTACError:b}=V(),h=(0,Oa.V)();return(0,n.useEffect)((()=>{(async()=>{if(!m?.teamId)return;const e=await(0,kn.YY)({teamId:m.teamId}),t=e.filter((e=>"accepted"===e.status)),a=(0,wn.sortWith)([(0,wn.descend)((0,wn.prop)("isBillingAdmin")),(0,wn.descend)((0,wn.prop)("isTeamCaptain"))])(t);c(a),r(e.length);const n=a[0].login;i(n)})().catch(b)}),[m?.teamId]),m?(0,y.tZ)(n.Fragment,null,(0,y.tZ)(d.Ejs,{gap:"16px"},(0,y.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},g("team_account_heading_billing_admin")),(0,y.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},g("team_account_billing_admin_access_information"))),(0,y.tZ)("div",{className:"container--cNaXIUykkA"},(0,y.tZ)("div",{className:rn},(0,y.tZ)("span",{className:I()("text--Jm4WO6KPbc",{"emptyText--YnRMwaHw2m":!a})},a||"████████████████")),(0,y.tZ)("div",{className:ln},e.permission.adminAccess.hasFullAccess?(0,y.tZ)("div",{className:"editContainer--ZJk2BSq6aw"},(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",icon:Rn||(Rn=(0,y.tZ)(y.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",disabled:!l.length,onClick:()=>{_(!0),(0,z.Nc)(o.PageView.TacAccountBillingInfo)}},g("team_account_billing_admin_edit_contact_info")),u?(0,y.tZ)(jn,{defaultSelected:a,handleConfirmClick:async e=>{if(a===e)return;_(!1),(0,z.Nc)(o.PageView.TacAccount);const n=(0,tn.v0)(t);if(n)try{await(new nn.Z).updateBillingAdmin({auth:n,newAdminLogin:e,oldAdminLogin:a}),h.showAlert(g("team_account_billing_admin_notification_success"),d.BLW.SUCCESS),i(e)}catch{h.showAlert(g("team_account_billing_admin_notification_something_wrong"),d.BLW.ERROR)}else b(new Error(Ya.N))},handleClose:()=>{_(!1),(0,z.Nc)(o.PageView.TacAccount)},membersList:l,allMembersCount:s}):null):null))):(b(new Error(Ya.N)),null)};var Un;const Bn=()=>{const{translate:e}=(0,p.Z)();return(0,c.tZ)(d.Ejs,{gap:"16px",sx:{margin:"24px 0"}},(0,c.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},e("team_account_invoice_payment_plan_heading")),(0,c.tZ)("div",null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},e("team_account_invoice_payment_plan_pay_credit_card")),(0,c.tZ)(d.nvN,{size:"small"},(0,c.tZ)(d.rUS,{href:ie.Bw,target:"_blank",rel:"noopener noreferrer",sx:{color:"ds.text.neutral.quiet",fontWeight:"400"}},e("team_account_invoice_payment_plan_contact_support")))),(0,c.tZ)(d.Ejs,{flexDirection:"row",gap:"8px",alignItems:"center",sx:{width:"100%"}},(0,c.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px"}},Un||(Un=(0,c.tZ)(y.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,c.tZ)(d.nvN,{color:"ds.text.neutral.catchy",size:"medium"},e("team_account_invoice_payment"))))};var Gn,Fn=a(107377);const Vn=({isDisabled:e})=>{const[t,a]=(0,n.useState)(!1),{translate:i}=(0,p.Z)(),{loading:s,hasCreditCardPaymentMethod:r,last4DigitsFormatted:l,cardSvg:u,isExpired:_,expFormatted:m,pollUntilCardUpdate:g}=(0,b.C)({handleCardUpdate:e=>{e&&(0,z.Kz)(new o.UserAddNewPaymentMethodEvent({flowStep:o.FlowStep.Complete}))}});return s?(0,c.tZ)(d.HoD,{color:d.colors.midGreen00}):(0,c.tZ)(d.Ejs,{gap:"16px",sx:{marginTop:"24px"}},(0,c.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},i("team_account_invoice_payment_seats_heading")),r?(0,c.tZ)(d.T5p,{gridTemplateColumns:"1fr 1fr",sx:{width:"100%"}},(0,c.tZ)(d.dDn,{sx:{width:"300px"}},(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard",sx:{display:"flex",alignItems:"center"}},u,(0,c.tZ)("span",{style:{marginLeft:"10px"}},"••••"),(0,c.tZ)("span",{"data-testid":"card-last-four",style:{marginLeft:"3px"}},l)),_?(0,c.tZ)(d.nvN,{color:d.colors.red00,sx:{marginTop:"8px",fontSize:14}},i("manage_subscription_payment_section_expired_stripe")):(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard",sx:{marginTop:"8px"}},m?i("manage_subscription_payment_section_expiration_date",{date:m}):null)),(0,c.tZ)(d.dDn,{alignSelf:"center"},(0,c.tZ)(y.zx,{mood:"neutral",intensity:"quiet",icon:Gn||(Gn=(0,c.tZ)(y.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",onClick:()=>{g(),a(!0)},disabled:e},t?(0,c.tZ)(Fn.J,{b2c:!1,setPaymentLoading:a}):i("team_account_payment_edit_credit_card")))):(0,c.tZ)(n.Fragment,null,(0,c.tZ)("div",null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},i("team_account_invoice_payment_seats_save_credit_card")),(0,c.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},i("team_account_invoice_payment_seats_subscription"))),(0,c.tZ)("div",null,(0,c.tZ)(y.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{(0,z.Kz)(new o.UserAddNewPaymentMethodEvent({flowStep:o.FlowStep.Start})),g(),a(!0)}},t?(0,c.tZ)(Fn.J,{b2c:!1,setPaymentLoading:a}):i("team_account_payment_add_credit_card")))))};var $n=a(994495);const qn="billing--etj61dTqkE";var Wn,Hn;const Kn=({isDisabled:e})=>{var t;const[a,i]=n.useState(!1),{translate:s}=(0,p.Z)(),o=(0,u.Y)(),{loading:l,billingInformation:_,last4DigitsFormatted:m,cardSvg:g,isExpired:h,expFormatted:x,pollUntilCardUpdate:S}=(0,b.C)({});if(o.status!==r.rq.Success||!o.data||l)return(0,c.tZ)(d.HoD,{color:d.colors.midGreen00});const f=()=>(0,c.tZ)("div",null,(0,c.tZ)(y.zx,{mood:"neutral",intensity:"quiet",icon:Wn||(Wn=(0,c.tZ)(y.JO,{name:"ActionAddOutlined"})),layout:"iconLeading",onClick:()=>{S(),i(!0)},sx:{marginTop:"1em"}},a?t||(t=(0,c.tZ)(Fn.J,{b2c:!1,setPaymentLoading:i})):s("team_account_payment_add_credit_card")));return(0,c.tZ)("div",{style:{marginTop:"24px"}},(0,c.tZ)(d.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large"},s("team_account_paymentmethod_heading")),_?.billingType?m?(0,c.tZ)("div",{className:"container--GmEeyXCXpH"},(0,c.tZ)("div",{className:rn},(0,c.tZ)("div",{className:qn},(0,c.tZ)("div",{className:qn},g,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard"},(0,c.tZ)("span",{style:{marginLeft:"10px"}},"••••"),(0,c.tZ)("span",{"data-testid":"card-last-four",style:{marginLeft:"3px"}},m)))),h?(0,c.tZ)(d.nvN,{color:d.colors.red00,sx:{marginBottom:"8px",fontSize:14}},s("manage_subscription_payment_section_expired_stripe")):(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard",sx:{marginBottom:"8px"}},x?s("manage_subscription_payment_section_expiration_date",{date:x}):null)),(0,c.tZ)("div",{className:ln},(0,c.tZ)(y.zx,{mood:"neutral",intensity:"quiet",icon:Hn||(Hn=(0,c.tZ)(y.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",onClick:()=>{S(),i(!0),(0,$n.dV)(o.data)},disabled:e},a?(0,c.tZ)(Fn.J,{b2c:!1,setPaymentLoading:i}):s("team_account_payment_edit_credit_card")))):(0,c.tZ)("div",{sx:{margin:"16px 0 24px"}},(0,c.tZ)("div",null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},s("team_account_paymentmethod_payment_method_unknow"))),(0,c.tZ)(f,null)):(0,c.tZ)("div",{sx:{margin:"16px 0 24px"}},(0,c.tZ)("div",null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},s("team_account_paymentmethod_no_payment_method"))),(0,c.tZ)(f,null)))};var Qn,Yn,Xn,Jn,ei,ti,ai,ni=a(59110),ii=a(995445);const si=()=>(0,y.tZ)("span",{style:{color:d.colors.grey06}},"█████████"),oi=({isRenewalStopped:e,onRequestTeamUpgrade:t,handleGetPastReceipts:a,usersToBeRenewedCount:i})=>{const{translate:s}=(0,p.Z)(),l=(0,xe.o)("ecommerce_web_offerToExtend_phase1"),{getTeamTrialStatus:c,getTeamBillingInformation:u}=(0,ii.Y)(ni.o,{getTeamTrialStatus:{},getTeamBillingInformation:{}},[]),{loading:_,billingCountry:m}=S(),[g,b]=(0,n.useState)(!1),h=c.status===r.rq.Success?c.data:null,x=u.status===r.rq.Success?u.data:null,f=x?.nextBillingDetails,{isLoading:v,expectedTaxInformation:E}=Yt({total:f?.amount});if(_||!h||!f)return(0,y.tZ)(d.HoD,{color:d.colors.midGreen00});const Z=h.isFreeTrial,N=h.isGracePeriod,T=0===h.daysLeftInTrial,D=f.amount,M=f.currency,I=(0,Ht.Z)(f.dateUnix),A=D/100,w=A&&i?A/i:0,k="US"===m?"team_account_teamplan_plan_total_with_tax":"team_account_teamplan_plan_total_with_vat",O=!v&&void 0!==E?.expectedTaxesInCents&&E?.expectedTaxesInCents>0,L=O&&D&&E?.expectedTaxesInCents?(D+E.expectedTaxesInCents)/100:void 0,j=()=>(0,y.tZ)(d.Ejs,{sx:{marginTop:"32px",display:"flex",justifyContent:"center"}},(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",icon:Qn||(Qn=(0,y.tZ)(y.JO,{name:"DownloadOutlined"})),layout:"iconLeading",onClick:a,sx:{width:"100%"}},s("team_account_teamplan_plan_download_billing_history")));return(0,y.tZ)(n.Fragment,null,(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"24px",sx:bn.CARD_BORDER},Z&&(0,y.tZ)(d.Ejs,{sx:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:d.colors.white,gap:"8px"}},(0,y.tZ)(d.nvN,{color:d.colors.grey00},s("team_account_teamplan_plan_header_trial")),(0,y.tZ)(d.Ejs,{sx:{marginTop:"16px"}},(0,y.tZ)(d.X6q,{size:"small"},I?s.shortDate(I,ea.qG.LL):Yn||(Yn=(0,y.tZ)(si,null)))),(0,y.tZ)(d.nvN,{color:d.colors.black},I?s("team_account_teamplan_plan_copy_trial",{expireDate:s.shortDate(I,ea.qG.MMMM_D)}):Xn||(Xn=(0,y.tZ)(si,null))),(0,y.tZ)("div",{sx:{marginTop:"72px",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",gap:"10px"}},(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",size:"medium",fullsize:!0,onClick:t},s("team_account_teamplan_plan_buy_dashlane")),!N&&T&&l?(0,y.tZ)(y.zx,{mood:"brand",intensity:"supershy",layout:"labelOnly",size:"medium",fullsize:!0,onClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.ExtendTrial,clickOrigin:o.ClickOrigin.BillingInformation})),b(!0)}},s("team_dashboard_extend_trial_button")):null)),!Z&&!e&&(0,y.tZ)(d.Ejs,{sx:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:d.colors.white,gap:"8px"}},(0,y.tZ)(d.nvN,{color:d.colors.grey00},s("team_account_teamplan_plan_header_annual")),(0,y.tZ)(d.Ejs,{sx:{marginTop:"16px"}},(0,y.tZ)(d.X6q,{size:"small"},I?s.shortDate(I,ea.qG.ll):Jn||(Jn=(0,y.tZ)(si,null)))),O?(0,y.tZ)(d.nvN,{color:d.colors.black},s(k,{numSeats:i,seatCost:w?s.price(M,w,{notation:"compact"}):null,totalCost:L?s.price(M,L):null})):(0,y.tZ)(d.nvN,{color:d.colors.black},s("team_account_teamplan_plan_copy",{numSeats:i,seatCost:w?s.price(M,w,{notation:"compact"}):null,totalCost:A?s.price(M,A,{notation:"compact"}):null})),(0,y.tZ)(j,null)),!Z&&e&&(0,y.tZ)(d.Ejs,{sx:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:d.colors.white,gap:"8px"}},ei||(ei=(0,y.tZ)(d.nvN,null,(0,y.tZ)(si,null))),(0,y.tZ)(d.Ejs,{sx:{marginTop:"16px"}},ti||(ti=(0,y.tZ)(d.X6q,{size:"small"},(0,y.tZ)(si,null)))),ai||(ai=(0,y.tZ)(d.nvN,null,(0,y.tZ)(si,null))),(0,y.tZ)(j,null))),g?(0,y.tZ)(C.XA,{initialDialog:C.s9.SURVEY}):null)};var ri,li,ci,di,ui;const _i={backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px",flex:"1",overflow:"visible"},mi=({lee:e,planName:t,usersToBeRenewedCount:a,handleGetPastReceipts:i,onRequestTeamUpgrade:s})=>{const{translate:o}=(0,p.Z)(),l=(0,u.Y)(),c=(0,Se.J)(),{loading:_,billingCountry:m}=S(),g=t.caseOf({just:()=>!1,nothing:()=>!0}),b=(0,xe.o)(R.w.EcommerceWebSadPathDev);if(l.status!==r.rq.Success||!l.data||c.status!==r.rq.Success||!c.data||_)return(0,y.tZ)(d.HoD,{color:d.colors.midGreen00});const h=c.data.b2bStatus?.currentTeam?.isRenewalStopped,x="invoice"===l.data.planType,f=!x&&"US"!==m;return(0,y.tZ)(d.Ejs,{flexDirection:"column"},(0,y.tZ)(y.X6,{textStyle:"ds.title.section.large",as:"h1",color:"ds.text.neutral.standard",sx:{mb:"32px"}},o("team_account_heading_billing_information")),(0,y.tZ)(d.Ejs,{gap:"24px"},(0,y.tZ)(d.Ejs,{flexDirection:"column",sx:{maxWidth:"40em"}},(0,y.tZ)(d.Ejs,{sx:(0,y.jM)([bn.CARD_BORDER,_i]),flexDirection:"column"},(0,y.tZ)(Pn,{lee:e}),ri||(ri=(0,y.tZ)(Vt,null)),x?(0,y.tZ)(n.Fragment,null,li||(li=(0,y.tZ)(Bn,null)),ci||(ci=(0,y.tZ)(Vt,null)),(0,y.tZ)(Vn,{isDisabled:g})):(0,y.tZ)(Kn,{isDisabled:g}),f?(0,y.tZ)(n.Fragment,null,(0,y.tZ)("div",{sx:{marginBottom:"16px"}}),di||(di=(0,y.tZ)(Vt,null)),ui||(ui=(0,y.tZ)(Ua,{isInAccountSummary:!0}))):null),b?(0,y.tZ)(An,{status:In.UNSOLICITED}):null),(0,y.tZ)(d.k$b,{sx:{maxWidth:"416px"}},(0,y.tZ)(oi,{onRequestTeamUpgrade:s,handleGetPastReceipts:i,usersToBeRenewedCount:a,isRenewalStopped:h}))))};var pi=a(342868);const gi=({isOpen:e,lee:t,onClose:a})=>{const i=(0,n.useRef)(),s=(0,n.useRef)(),o=(0,n.useRef)(),r=(0,n.useRef)(),{translate:l}=(0,p.Z)(),{reportTACError:c}=V(),[u,_]=(0,n.useState)(void 0),[m,g]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=(0,tn.v0)(t.globalState);e?(new nn.Z).status({auth:e}).then((e=>{_(e.content.team.info.name)})).catch(c):c(new Error(Ya.N))}),[]);const b=()=>{g(!1),a()},h=()=>{const e=(0,tn.v0)(t.globalState);if(e)if(i.current?.value){b();try{(0,O.Yo)("https://ws1.dashlane.com/1/invoiceGeneration/generateTeamReceipt.pdf?"+(e=>{const t={...e,recipient:i.current?.value,company:s.current?.value,address:o.current?.value,vatNumber:r.current?.value};return pi.stringify(t)})(e))}catch(e){c(e)}}else g(!0);else c(new Error(Ya.N))},x=m?{feedbackText:l("team_account_past_receipts_dialog_recipient_is_required"),feedbackType:"error"}:{};return(0,y.tZ)(U.o,{title:l("team_account_past_receipts_dialog_title"),showCloseIcon:!0,isOpen:e,onRequestClose:b,footer:(0,y.tZ)(d.cNS,{primaryButtonTitle:l("team_account_past_receipts_dialog_button_generate"),primaryButtonOnClick:h})},(0,y.tZ)(d.T5p,{as:"form",onSubmit:h,gap:"1em"},(0,y.tZ)(d.oil,{fullWidth:!0,label:l("team_account_past_receipts_dialog_recipient")+" *",placeholder:l("team_account_past_receipts_dialog_recipient_hint"),onKeyDown:()=>{m&&""!==i.current?.value&&g(!1)},ref:i,...x}),(0,y.tZ)(d.oil,{fullWidth:!0,label:l("team_account_past_receipts_dialog_company"),defaultValue:null!=u?u:"",placeholder:l("team_account_past_receipts_dialog_company_hint"),ref:s}),(0,y.tZ)(d.oil,{fullWidth:!0,label:l("team_account_past_receipts_dialog_billing_address"),placeholder:l("team_account_past_receipts_dialog_billing_address_hint"),ref:o}),(0,y.tZ)(d.oil,{fullWidth:!0,label:l("team_account_past_receipts_dialog_vat"),placeholder:l("team_account_past_receipts_dialog_vat_hint"),ref:r})))};var yi,bi,hi,xi,Si,fi,vi;const Ci={marginTop:"16px","&:hover":{cursor:"pointer",borderWidth:"2px",borderColor:"ds.border.brand.standard.hover"}},Ei={width:"100%",padding:"20px 16px"},Zi={padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",margin:"auto"},Ni=({cardTitle:e,cardDescription:t})=>(0,c.tZ)(n.Fragment,null,yi||(yi=(0,c.tZ)(d.dDn,{sx:Zi},(0,c.tZ)(y.JO,{name:"ItemPaymentOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,c.tZ)(d.dDn,null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0},e),(0,c.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small",sx:{marginTop:"4px"}},t))),Ti=({handleClose:e,openUpgradeDialog:t})=>{const[a,i]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),{translate:r}=(0,p.Z)(),{loading:l,hasCreditCardPaymentMethod:u,isExpired:_,pollUntilCardUpdate:m}=(0,b.C)({handleCardUpdate:t});if(l)return(0,c.tZ)(d.HoD,{color:d.colors.midGreen00});const h=u?{cardTitle:"team_payment_method_dialog_another_credit_card",cardDescription:"team_payment_method_dialog_replace_credit_card"}:{cardTitle:"team_payment_method_dialog_credit_card",cardDescription:"team_payment_method_dialog_secondary_payment"},x=u?Fn.A.REPLACE:Fn.A.ADD;return(0,c.tZ)(d.VqE,{isOpen:!0,closeIconName:r("_common_dialog_dismiss_button"),onClose:e,ariaDescribedby:"dialogContent"},(0,c.tZ)(d.j49,{color:"ds.text.neutral.quiet",sx:{marginBottom:"16px"}},r("team_payment_method_dialog_buy_seats")),(0,c.tZ)(d.$N8,{title:r("team_payment_method_dialog_title")}),(0,c.tZ)(d.a7O,null,u&&(0,c.tZ)(d.Zbd,{sx:Ci,onClick:()=>{_?(m(),o(!0)):t()}},(0,c.tZ)(d.T5p,{gap:"12px",gridTemplateColumns:"1fr 60px",sx:{width:"100%",padding:"0 16px"}},bi||(bi=(0,c.tZ)(d.dDn,null,(0,c.tZ)(g.I,{b2b:!0,hideTitle:!0,hideUpdateButton:!0,displayModifiedCreditCardView:!0}))),(0,c.tZ)(d.dDn,{sx:{margin:"auto"}},_?(0,c.tZ)(y.zx,{mood:"brand",intensity:"supershy",size:"large"},s?(0,c.tZ)(Fn.J,{b2c:!1,setPaymentLoading:o,mode:Fn.A.UPDATE}):hi||(hi=(0,c.tZ)(y.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"}))):xi||(xi=(0,c.tZ)(y.zx,{mood:"brand",intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,c.tZ)(y.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})}))))),(0,c.tZ)(d.Zbd,{sx:Ci,onClick:()=>{m(),i(!0)}},(0,c.tZ)(d.T5p,{gap:"12px",gridTemplateColumns:"40px 1fr 60px",sx:Ei},(0,c.tZ)(Ni,{cardTitle:r(h.cardTitle),cardDescription:r(h.cardDescription)}),(0,c.tZ)(d.dDn,{sx:{margin:"auto"}},(0,c.tZ)(y.zx,{mood:"brand",intensity:"supershy",size:"large"},a?(0,c.tZ)(Fn.J,{b2c:!1,setPaymentLoading:i,mode:x}):Si||(Si=(0,c.tZ)(y.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})))))),(0,c.tZ)(d.Zbd,{sx:Ci,onClick:()=>{(0,O.Yo)(ie.i1)}},(0,c.tZ)(d.T5p,{gap:"12px",gridTemplateColumns:"40px 1fr 60px",sx:Ei},fi||(fi=(0,c.tZ)(d.dDn,{sx:Zi},(0,c.tZ)(y.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,c.tZ)(d.dDn,null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0},r("team_account_invoice_payment")),(0,c.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small",sx:{marginTop:"4px"}},r("team_payment_method_dialog_support_team"))),(0,c.tZ)(d.dDn,{sx:{margin:"auto"}},vi||(vi=(0,c.tZ)(y.zx,{mood:"brand",intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,c.tZ)(y.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})})))))))};var Di=a(233377);const Mi=54999,Ii="sales@dashlane.com",Ai="leeloo_teamplan_starter",wi="leeloo_teamplan_business",ki="leeloo_teamplan_team",Oi=e=>e>Mi,Li=e=>{(0,z.Kz)(new o.UserBuySeatEvent({flowStep:o.FlowStep.Error,hasPromo:!1,initialSeatCount:e.renewal.seatsCount,priceAmountCents:e.additionalSeats.value,priceCurrencyCode:o.PriceCurrencyCode[e.currency],purchasedSeatCount:e.additionalSeats.seatsCount,errorCheckout:o.ErrorCheckout.UnexpectedUnknown}))};var zi=a(583988);const ji=({isComputing:e,className:t,price:a})=>{const n=e?(0,y.tZ)(zi.Z,{size:16,containerStyle:{display:"inline-block",position:"relative"}}):a;return(0,y.tZ)("span",{className:t},n)},Ri=({billingDetails:e,additionalSeatsDetails:t})=>{var a,n;const{translate:i}=(0,p.Z)(),s=e.additionalSeats.seatsCount,o=null!=(a=e.additionalSeats.taxes)?a:0,r=i.price(e.currency,o/100),l=o>0,c=e.renewal.value+(null!=(n=e.renewal.taxes)?n:0),d=i.price(e.currency,c/100),u=100*t.reduce(((e,t)=>e+t.costPerSeat*t.numberOfSeats),0),_=i.price(e.currency,u/100),m=u-e.additionalSeats.value,g=u+o-m;return{additionalSeatsCount:s,additionalSeatsTaxesTranslation:r,hasTax:l,renewalTotalPrice:d,tierPriceTranslation:_,proratedDiscountTranslation:i.price(e.currency,m/100),hasProratedDiscount:m>0,dueTodayTranslation:i.price(e.currency,g/100)}};var Pi,Ui,Bi,Gi,Fi;const Vi={display:"flex",margin:"24px 0",color:"ds.text.neutral.standard"},$i=({label:e,labelSx:t,value:a})=>(0,y.tZ)(d.Ejs,{sx:Vi},e?(0,y.tZ)(d.k$b,{flex:"1",sx:{...t}},e):null,a?(0,y.tZ)(d.k$b,{flex:"0"},a):null),qi=({nextBillingDate:e,billingDetails:t,dueNowTranslation:a,seatCountLabel:i,totalSeatCount:s,onAdditionalSeatCountChange:o,isComputingBilling:r,additionalSeatsDetails:l,planType:c})=>{const{translate:u}=(0,p.Z)(),{additionalSeatsCount:_,additionalSeatsTaxesTranslation:m,hasTax:h,renewalTotalPrice:x,tierPriceTranslation:f,proratedDiscountTranslation:v,hasProratedDiscount:C}=Ri({billingDetails:t,additionalSeatsDetails:l}),{pollUntilCardUpdate:E}=(0,b.C)({}),{loading:Z,billingCountry:N}=S(),[T,D]=(0,n.useState)(!1);if(Z)return(0,y.tZ)(d.HoD,{color:d.colors.midGreen00});const M="US"===N?"team_account_teamplan_upgrade_tax":"team_account_teamplan_vat",I="invoice"===c?"team_account_teamplan_upgrade_invoice_renewal_price":h?"US"===N?"team_account_teamplan_upgrade_renewal_tax_price":"team_account_teamplan_upgrade_renewal_vat_price":"team_account_teamplan_upgrade_renewal_price";return(0,y.tZ)(n.Fragment,null,(0,y.tZ)(d.Ejs,{sx:{padding:"28px 0",fontSize:4,fontWeight:"bold",color:"ds.text.neutral.catchy"}},(0,y.tZ)(Ft.w,{inputWidth:"66px",label:i,id:"numberOfSeats",defaultValue:1,minValue:1,onChange:o})),Pi||(Pi=(0,y.tZ)(Vt,null)),(0,y.tZ)($i,{label:u("team_account_teamplan_upgrade_premium_number_of_seats"),value:s}),(0,y.tZ)($i,{label:u("team_account_teamplan_upgrade_new_seat",{count:_}),value:f}),h&&(0,y.tZ)($i,{label:u(M),value:m}),C&&(0,y.tZ)($i,{label:(0,y.tZ)(n.Fragment,null,(0,y.tZ)(d.nvN,null,u("team_account_teamplan_changeplan_order_summary_prorated_discount")),(0,y.tZ)(d.ua7,{content:u("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")},(0,y.tZ)(d.uMt,{size:16,color:d.colors.grey00}))),labelSx:{display:"flex",alignItems:"center"},value:v}),(0,y.tZ)(n.Fragment,null,Ui||(Ui=(0,y.tZ)(Vt,null)),(0,y.tZ)(d.nvN,{sx:{marginTop:"24px",fontSize:"18px"}},u("team_payment_method_dialog_credit_card")),(0,y.tZ)(d.Ejs,{sx:{...Vi,borderWidth:"1px",borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px"}},(0,y.tZ)(d.k$b,{flex:"1",sx:{paddingLeft:"16px"}},Bi||(Bi=(0,y.tZ)(g.I,{b2b:!0,hideTitle:!0,hideUpdateButton:!0,displayModifiedCreditCardView:!0}))),(0,y.tZ)(d.k$b,{flex:"0",sx:{margin:"auto 0",paddingRight:"12px"}},(0,y.tZ)(y.zx,{icon:Gi||(Gi=(0,y.tZ)(y.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",intensity:"supershy",onClick:()=>{E(),D(!0)}},T?(0,y.tZ)(Fn.J,{b2c:!1,setPaymentLoading:D,mode:Fn.A.UPDATE}):u("team_account_name_edit_label"))))),(0,y.tZ)(d.Ejs,{sx:Vi},(0,y.tZ)(y.ke,{title:u(I,{totalPrice:x,totalSeat:s,date:u.shortDate(e,ea._T.LL)})})),Fi||(Fi=(0,y.tZ)(Vt,null)),(0,y.tZ)(d.Ejs,{sx:{display:"flex",marginTop:"24px",fontSize:4}},(0,y.tZ)(d.k$b,{flex:"1"},u("team_account_teamplan_upgrade_due_now")),(0,y.tZ)(ji,{isComputing:r,price:a,className:"totalAmount--BaEFEdvow1"})))},Wi=(e,t)=>t.startMembers-e.startMembers,Hi=(e,t,a)=>{if(!a)return[];const n=a.slice(0).sort(Wi);if(0!==n[n.length-1].startMembers)throw new Error("getAdditionalSeatsCostDetails:: missing tier one in price ranges");if(e<0||t<0)throw new Error("getAdditionalSeatsCostDetails:: number of licences cannot be negative");return n.reduce(((e,t)=>({membersRangeEnd:a,costDetails:n},i)=>{const s=i.startMembers;if(s<=t&&a>e&&t>e){const o=Math.max(Math.max(s-1,e),0),r=Math.min(t,a-1);n.unshift({costPerSeat:i.price/100,numberOfSeats:r-o})}return{membersRangeEnd:s,costDetails:n}})(e,t),{membersRangeEnd:Number.MAX_VALUE,costDetails:[]}).costDetails},Ki=(0,n.forwardRef)((function({nextBillingDetails:e,billingDetails:t,isComputingBilling:a,onSeatCountChange:i,numberOfCurrentPaidSlots:s,numberOfCurrentUsedSlots:o,currentPlanPriceRanges:l},c){var d;const[_,m]=(0,n.useState)(1),[g,b]=(0,n.useState)(!1),{translate:h}=(0,p.Z)(),x=(0,u.Y)();(0,n.useImperativeHandle)(c,(()=>({additionalSeatCount:_})));const S=s+_,f=(0,Ht.Z)(e.dateUnix),v=Hi(s,t.renewal.seatsCount,l),C=null!=(d=t.additionalSeats.taxes)?d:0,E=t.additionalSeats.value+C,Z=g?"-":h.price(t.currency,E/100),N=h("team_account_teamplan_upgrade_premium_number_of_additional_seats"),T=g?h("team_account_teamplan_upgrade_premium_buy_more_seats_than_cap",{seatCap:Mi,salesEmail:Ii}):_<1?h("team_account_teamplan_upgrade_premium_buy_more_seats_when_premium",{count:1}):o>S?h("team_account_teamplan_upgrade_premium_below_used_seat_count",{usedSeatCount:o}):null,D=x.status===r.rq.Success?x.data.planType:"";return(0,y.tZ)(n.Fragment,null,T?(0,y.tZ)(y.ke,{className:"errorToaster--MU18Q0SFxy",title:T,mood:"danger"}):null,(0,y.tZ)(qi,{nextBillingDate:f,billingDetails:t,dueNowTranslation:Z,seatCountLabel:N,totalSeatCount:S,onAdditionalSeatCountChange:e=>{const t=e<0,a=e>Mi;b(a),m(e),a||t||i(e)},isComputingBilling:a,additionalSeatsDetails:v,planType:D}))})),Qi=Ki,Yi=()=>{const{translate:e}=(0,p.Z)();return(0,y.tZ)(d.u_l,{isOpen:!0,onClose:()=>{}},(0,y.tZ)(d.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{width:"100vw",height:"100vh",backgroundColor:d.colors.dashGreen06}},(0,y.tZ)(d.HoD,{size:"88px",color:d.colors.dashGreen00}),(0,y.tZ)(d.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",gap:"6px",sx:{paddingTop:"22px"}},(0,y.tZ)(d.nvN,{size:"medium",color:d.colors.grey00},e("team_account_addseats_processing_copy_line_1")),(0,y.tZ)(d.nvN,{size:"medium",color:d.colors.grey00},e("team_account_addseats_processing_copy_line_2")))))},Xi=e=>{const{reportTACError:t}=V(),[a,i]=(0,n.useState)({renewal:{seatsCount:0,value:0,taxes:0},additionalSeats:{seatsCount:0,value:0,taxes:0},currency:"usd"}),[s,o]=(0,n.useState)(!1),[r,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),u=(0,f.debounce)((a=>{(async a=>{try{var n;const t=await Qt.C.computePlanPricing({seats:a});if(!t.success)return;const r={renewal:{seatsCount:(s=t.data).renewal.seatsCount,value:s.renewal.price.value,taxes:s.renewal.price.taxes},additionalSeats:{seatsCount:s.additionalSeats.seatsCount,value:s.additionalSeats.price.value,taxes:s.additionalSeats.price.taxes},currency:s.renewal.price.currency};if(null!==e&&e()!==r.additionalSeats.seatsCount)return;const c=r.additionalSeats.value,u=null!=(n=r.additionalSeats.taxes)?n:0;l(c),d(u),i(r),o(!1)}catch(e){const a=new Error((0,Xa.i)(e));t(a)}var s})(a)}),500);return{billingDetails:a,isComputingBilling:s,amountToPay:r,amountToTax:c,onSeatCountChange:e=>{u(e),o(!0)}}};var Ji;const es=({lee:e,onUpgradeSuccess:t,nextBillingDetails:a,numberOfCurrentPaidSlots:i,numberOfCurrentUsedSlots:s,onRequestClose:r,planTier:l})=>{const c=(0,n.useRef)(null),[d,u]=(0,n.useState)(!0),[_,m]=(0,n.useState)(!1),[g,b]=(0,n.useState)(),{translate:h}=(0,p.Z)(),{reportTACError:x}=V(),S=(0,n.useCallback)((()=>Di.Maybe.maybe(c.current).caseOf({just:e=>e.additionalSeatCount,nothing:()=>1})),[]),{billingDetails:f,isComputingBilling:v,onSeatCountChange:C}=Xi(S),E=function(e,t){switch(e){case he.lD.Starter:return t(Ai);case he.lD.Team:return t(ki);case he.lD.Business:return t(wi);default:throw new Error("Cannot retrieve default key")}}(l,h);(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacAccountBuy),(async()=>{const t=(0,tn.v0)(e.globalState);if(t)try{const{planDetails:e}=await(async e=>{const t=await(new nn.Z).status({auth:e}),{planDetails:a}=t.content.team;return{planDetails:a}})(t);b(e.priceRanges)}catch(e){const t=new Error((0,Xa.i)(e));x(t)}else x(new Error(Ya.N))})()}),[]),(0,n.useEffect)((()=>{C(S())}),[S]);const Z=Hi(i,f.renewal.seatsCount,g),N=(0,y.tZ)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",maxWidth:"100%"}},(0,y.tZ)(y.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:r,sx:{marginRight:"8px"}},h("team_account_teamplan_upgrade_premium_cancel")),(0,y.tZ)(y.zx,{size:"medium",onClick:async()=>{u(!1),m(!0);try{(await Qt.C.addSeats({seats:S()})).success?((e=>{(0,z.Kz)(new o.UserBuySeatEvent({flowStep:o.FlowStep.Complete,hasPromo:!1,initialSeatCount:e.renewal.seatsCount,priceAmountCents:e.additionalSeats.value,priceCurrencyCode:o.PriceCurrencyCode[e.currency],purchasedSeatCount:e.additionalSeats.seatsCount}))})(f),t(Z,f)):Li(f)}catch{Li(f)}}},h("team_account_teamplan_upgrade_buy_seat",{count:S()})));return(0,y.tZ)(n.Fragment,null,_?Ji||(Ji=(0,y.tZ)(Yi,null)):null,d?(0,y.tZ)(U.o,{showCloseIcon:!0,footer:N,title:h("team_account_teamplan_upgrade_add_seats_title",{plan:E}),isOpen:!0,onRequestClose:r},(0,y.tZ)(Qi,{ref:c,nextBillingDetails:a,billingDetails:f,isComputingBilling:v,onSeatCountChange:C,numberOfCurrentPaidSlots:i,numberOfCurrentUsedSlots:s,currentPlanPriceRanges:g})):null)};var ts;const as=({label:e,value:t,...a})=>(0,y.tZ)(d.Ejs,{justifyContent:"flex-end",sx:{display:"flex",justifyContent:"flexEnd"},...a},e?(0,y.tZ)(d.k$b,{flex:"1",sx:{display:"flex",alignItems:"center"}},e):null,t?(0,y.tZ)(d.k$b,{sx:{display:"flex",alignItems:"center"}},t):null),ns=({billingDetails:e,additionalSeatsDetails:t})=>{const{translate:a}=(0,p.Z)(),{additionalSeatsCount:n,additionalSeatsTaxesTranslation:i,hasTax:s,tierPriceTranslation:o,proratedDiscountTranslation:r,hasProratedDiscount:l,dueTodayTranslation:c}=Ri({billingDetails:e,additionalSeatsDetails:t});return(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"32px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",borderRadius:"4px"}},(0,y.tZ)(as,{alignItems:"end",label:(0,y.tZ)(d.X6q,{size:"small"},a("team_account_addseats_success_order_summary_header")),value:(0,y.tZ)(d.nvN,{color:"ds.text.neutral.quiet"},(0,Da.Z)(new Date,"MM/dd/yyyy"))}),(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"16px"},(0,y.tZ)(as,{label:(0,y.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_teamplan_upgrade_new_seat",{count:n})),value:(0,y.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},o)}),s?(0,y.tZ)(as,{label:(0,y.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_tax")),value:(0,y.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},i)}):null,l?(0,y.tZ)(as,{label:(0,y.tZ)(d.Ejs,{alignItems:"center",gap:"5px"},(0,y.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_prorated_discount")),(0,y.tZ)(d.ua7,{content:a("team_account_addseats_success_order_summary_prorated_discount_tooltip")},ts||(ts=(0,y.tZ)(d.uMt,{size:16,color:"ds.text.neutral.catchy"})))),value:(0,y.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.catchy"},r)}):null,(0,y.tZ)("div",{style:{width:"100%",borderColor:y.O9.lightTheme.ds.border.neutral.quiet.idle,borderWidth:"1px",borderStyle:"solid",borderBottom:"0",margin:"0"}}),(0,y.tZ)(as,{label:(0,y.tZ)(d.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},a("team_account_addseats_success_order_summary_total")),value:(0,y.tZ)(d.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},c)})))},is=({isBusiness:e,additionalSeats:t,onGetPastReceipts:a})=>{const{routes:n}=(0,s.Xo)(),{translate:i}=(0,p.Z)();return(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"40px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",borderRadius:"4px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px"}},(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},e?(0,y.tZ)(d.X6q,{size:"small"},i("team_account_addseats_success_newseats_header_business",{count:t})):(0,y.tZ)(d.X6q,{size:"small"},i("team_account_addseats_success_newseats_header_team",{count:t})),(0,y.tZ)(d.nvN,{color:"ds.text.neutral.quiet"},i("team_account_addseats_success_newseats_body"))),(0,y.tZ)(d.Ejs,{gap:"8px"},(0,y.tZ)(s.rU,{to:n.teamMembersRoutePath},(0,y.tZ)(y.zx,{onClick:()=>{(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!0,isResend:!1}))},mood:"brand"},i("team_account_addseats_success_newseats_invite_users_cta"))),(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",onClick:a},i("team_account_addseats_success_newseats_billing_history_cta"))))};var ss;const os=()=>{const{translate:e}=(0,p.Z)();return(0,y.tZ)(d.Ejs,{flexWrap:"nowrap",gap:"16px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"4px",padding:"32px"}},(0,y.tZ)(d.Ejs,{sx:{padding:"10px 8px",width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle"}},ss||(ss=(0,y.tZ)(y.JO,{name:"GroupOutlined",color:"ds.text.neutral.standard"}))),(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"1"}},(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,y.tZ)(d.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy"},e("team_account_addseats_success_friends_family_header")),(0,y.tZ)(d.nvN,{size:"small",color:"ds.text.neutral.quiet"},e("team_account_addseats_success_friends_family_body"))),(0,y.tZ)("a",{href:"https://support.dashlane.com/hc/articles/360013369820-Dashlane-Friends-Family-plan",target:"_blank",rel:"noopener noreferrer"},(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet"},e("team_account_addseats_success_friends_family_learn_more_cta")))))};var rs,ls,cs;const ds=({planTier:e,lastBillingDetails:t,lastAdditionalSeatsDetails:a,onGetPastReceipts:i,onNavigateBack:s})=>{const{translate:o}=(0,p.Z)(),[r,l]=(0,n.useState)(a),[c,u]=(0,n.useState)(t),{additionalSeatsCount:_}=Ri({billingDetails:c,additionalSeatsDetails:r}),m=(0,y.tZ)("div",null,(0,y.tZ)(d.zxk,{type:"button",nature:"ghost",onClick:s},(0,y.tZ)(d.Ejs,{alignItems:"center"},rs||(rs=(0,y.tZ)(d.xCe,{size:14})),(0,y.tZ)(d.nvN,{bold:!0,sx:{marginLeft:"14px",color:"ds.text.neutral.standard"}},o("team_account_teamplan_changeplan_back"))))),g=e===he.lD.Business,{setNavBarChildren:b}=(0,n.useContext)(Ct);return(0,n.useEffect)((()=>(b(m),()=>{b(null),s()})),[]),(0,n.useEffect)((()=>{u(t),l(a)}),[t,a]),(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"32px",sx:{padding:"32px",flexWrap:"nowrap"}},(0,y.tZ)(d.Ejs,{gap:"16px",sx:{flexWrap:"nowrap"}},(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"2",maxWidth:"632px"}},(0,y.tZ)(is,{onGetPastReceipts:i,isBusiness:g,additionalSeats:_}),g?ls||(ls=(0,y.tZ)(os,null)):null),(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"1"}},(0,y.tZ)(ns,{billingDetails:c,additionalSeatsDetails:r}),cs||(cs=(0,y.tZ)(h,null)))))};var us=a(777216),_s=a(602013),ms=a(60043);const{grey00:ps}=d.colors;let gs;!function(e){e[e.TAB_SCIM=0]="TAB_SCIM",e[e.TAB_ACTIVE_DIRECTORY=1]="TAB_ACTIVE_DIRECTORY",e[e.TAB_AUTHENTICATION=2]="TAB_AUTHENTICATION"}(gs||(gs={}));const ys={width:"auto",whiteSpace:"nowrap"},bs=(e,t)=>[e.url,...e.subPaths?e.subPaths.map((t=>`${e.url}${t}`)):[]].includes(t),hs=n.memo((({title:e,titleBadge:t,subtitle:a,tabs:n=[],extraInfo:i})=>{const{pathname:o}=(0,s.TH)();return e||n.length?(0,c.tZ)("nav",{className:"tabMenuContainer--y2MfbHSdck"},e?(0,c.tZ)("h1",{className:I()("title--oWA0HcI8lo",{"withBadge--cKsPfyqEMI":Boolean(t)})},e,t):null,a?(0,c.tZ)(d.nvN,{as:"h2",size:"large",color:ps,sx:{marginBottom:"32px",a:{fontWeight:600}}},a):null,null!=i?i:null,n.length?(0,c.tZ)(d.G8v,null,n.map((e=>(0,c.tZ)(d.h2L,{key:e.label,label:e.label,notification:e.notifications,selected:bs(e,o),sx:e.isDisabled?{...ys,pointerEvents:"none",color:"ds.text.oddity.disabled"}:ys,as:t=>(0,c.tZ)(s.OL,{to:e.url,...t})})))):null):null})),xs=(0,n.memo)((({title:e})=>{const{translate:t}=(0,p.Z)(),{routes:a}=(0,ms.Xo)(),n=(0,r.qr)({queryConfig:{query:Qt.C.getAccountRecoveryRequestCount},liveConfig:{live:Qt.C.liveAccountRecoveryRequestCount}},[]),i=(0,Pe.h)(),s=n.status===r.rq.Success&&n.data,o=t.markup("team_activity_header_subtitle_markup",{},{linkTarget:"_blank"});return(0,c.tZ)(hs,{title:e,subtitle:o,tabs:(()=>{const e=[];return e.push({label:t("team_activity_header_tab_activity_logs"),url:`${a.teamActivityRoutePath}/recent`}),i.status===r.rq.Success&&i.data&&e.push({label:t("team_activity_header_tab_mpr_requests"),url:`${a.teamActivityRoutePath}/requests`,notifications:s||0}),e})()})})),Ss=({header:e,children:t})=>(0,c.tZ)("div",{className:"consolePage--HtrkOKa6CF"},(0,c.tZ)("div",{className:"consolePageHeader--XGguZ6asj0"},e),(0,c.tZ)("div",{className:"consolePageContent--iyjSb57VUO"},t)),fs=({isLoading:e,children:t})=>{const{translate:a}=(0,p.Z)();return n.createElement(Ss,{header:n.createElement(xs,{title:a("team_activity_header_title")})},e?n.createElement(zi.Z,{containerStyle:{minHeight:240}}):n.createElement("div",{className:"activityPanel--j8T_kHhXKa"},t))};var vs=a(483490);const Cs=({text:e})=>{if(!e)return null;const t=e.split("**");return 1===t.length?n.createElement("span",null,e):n.createElement("span",null,t.map(((e,t)=>t%2==1?n.createElement("strong",{key:`${e}-${t}`},e):e)))};var Es=a(755920);const Zs=Object.values(Es.z),Ns="team_audit_log_user_imported_credentials_one",Ts="team_audit_log_user_imported_credentials_many",Ds={[Es.z.UserInvited]:(e,t)=>t("team_audit_log_user_invited",{email:`**${e?.properties?.target_login}**`}),[Es.z.UserReinvited]:(e,t)=>t("team_audit_log_user_reinvited",{email:`**${e?.properties?.target_login}**`}),[Es.z.UserRemoved]:(e,t)=>t("team_audit_log_user_removed",{email:`**${e?.properties?.target_login}**`}),[Es.z.TeamCaptainAdded]:(e,t)=>t("team_audit_log_team_captain_added",{email:`**${e?.properties?.target_login}**`}),[Es.z.TeamCaptainRemoved]:(e,t)=>t("team_audit_log_team_captain_removed",{email:`**${e?.properties?.target_login}**`}),[Es.z.GroupManagerAdded]:(e,t)=>t("team_audit_log_group_manager_added",{email:`**${e?.properties?.target_login}**`}),[Es.z.GroupManagerRemoved]:(e,t)=>t("team_audit_log_group_manager_removed",{email:`**${e?.properties?.target_login}**`}),[Es.z.MasterPasswordResetAccepted]:(e,t)=>t("team_audit_log_master_password_reset_accepted",{email:`**${e?.properties?.target_login}**`}),[Es.z.MasterPasswordResetRefused]:(e,t)=>t("team_audit_log_master_password_reset_refused",{email:`**${e?.properties?.target_login}**`}),[Es.z.BillingAdminAdded]:(e,t)=>t("team_audit_log_billing_admin_added",{email:`**${e?.properties?.target_login}**`}),[Es.z.BillingAdminRemoved]:(e,t)=>t("team_audit_log_billing_admin_removed",{email:`**${e?.properties?.target_login}**`}),[Es.z.UserGroupCreated]:(e,t)=>t("team_audit_log_user_group_created",{groupName:`**${e.properties?.group_name}**`}),[Es.z.UserGroupRenamed]:(e,t)=>t("team_audit_log_user_group_renamed",{newGroupName:`**${e.properties?.group_name}**`,oldGroupName:`**${e.properties?.old_group_name}**`}),[Es.z.UserGroupDeleted]:(e,t)=>t("team_audit_log_user_group_deleted",{groupName:`**${e.properties?.group_name}**`}),[Es.z.UserJoinedUserGroup]:(e,t)=>t("team_audit_log_user_joined_user_group",{groupName:`**${e.properties?.group_name}**`}),[Es.z.UserLeftUserGroup]:(e,t)=>t("team_audit_log_user_left_user_group",{groupName:`**${e.properties?.group_name}**`}),[Es.z.UserInvitedToUserGroup]:(e,t)=>t("team_audit_log_user_invited_to_user_group",{groupName:`**${e.properties?.group_name}**`,email:`**${e?.properties?.target_login}**`}),[Es.z.UserDeclinedInviteToUserGroup]:(e,t)=>t("team_audit_log_user_declined_invite_to_user_group",{groupName:`**${e.properties?.group_name}**`}),[Es.z.UserRemovedFromUserGroup]:(e,t)=>t("team_audit_log_user_removed_from_user_group",{groupName:`**${e.properties?.group_name}**`,email:`**${e?.properties?.target_login}**`}),[Es.z.DomainRequested]:(e,t)=>t("team_audit_log_domain_requested",{domain:`**${e.properties?.domain_url}**`}),[Es.z.DomainValidated]:(e,t)=>t("team_audit_log_domain_validated",{domain:`**${e.properties?.domain_url}**`}),[Es.z.SensitiveLogsEnabled]:(e,t)=>t("team_audit_log_collect_sensitive_data_audit_logs_enabled"),[Es.z.SensitiveLogsDisabled]:(e,t)=>t("team_audit_log_collect_sensitive_data_audit_logs_disabled"),[Es.z.SsoIdpMetadataSet]:(e,t)=>t("team_audit_log_sso_idp_metadata_set"),[Es.z.SsoServiceProviderUrlSet]:(e,t)=>t("team_audit_log_sso_service_provider_url_set"),[Es.z.SsoEnabled]:(e,t)=>t("team_audit_log_sso_enabled"),[Es.z.SsoDisabled]:(e,t)=>t("team_audit_log_sso_disabled"),[Es.z.TeamNameChanged]:(e,t)=>t("team_audit_log_team_name_changed",{name:`**${e.properties?.name}**`}),[Es.z.NewBillingPeriodCreated]:(e,t)=>t("team_audit_log_new_billing_period_created",{date:`**${t.shortDate((0,Ht.Z)(e.properties?.new_end_date_unix),ea._T.L)}**`}),[Es.z.SeatsAdded]:(e,t)=>t("team_audit_log_seats_added",{count:`**${e.properties?.seats_added}**`}),[Es.z.ContactEmailChanged]:(e,t)=>t("team_audit_log_contact_email_changed",{email:`**${e?.properties?.new_contact_email}**`}),[Es.z.MasterPasswordMobileResetEnabled]:(e,t)=>t("team_audit_log_master_password_mobile_reset_enabled",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[Es.z.MasterPasswordMobileResetDisabled]:(e,t)=>t("team_audit_log_master_password_mobile_reset_disabled",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[Es.z.MasterPasswordChanged]:(e,t)=>t("team_audit_log_master_password_changed"),[Es.z.MpToViewPasswordsEnabled]:(e,t)=>t("team_audit_log_mp_to_view_passwords_enabled"),[Es.z.MpToViewPasswordsDisabled]:(e,t)=>t("team_audit_log_mp_to_view_passwords_disabled"),[Es.z.TwoFactorAuthenticationLoginMethodAdded]:(e,t)=>t("team_audit_log_two_factor_authentication_login_method_added"),[Es.z.TwoFactorAuthenticationLoginMethodRemoved]:(e,t)=>t("team_audit_log_two_factor_authentication_login_method_removed"),[Es.z.BiometricSignInDisabled]:(e,t)=>t("team_audit_log_biometric_sign_in_disabled",{deviceName:`**${e?.properties?.device_name}**`}),[Es.z.NitroSsoSetupStarted]:(e,t)=>t("team_audit_log_nitro_sso_setup_started"),[Es.z.NitroSsoDomainProvisioned]:(e,t)=>t("team_audit_log_nitro_sso_domain_provisioned",{domain:`**${e?.properties?.domain_url}**`}),[Es.z.NitroSsoDomainRemoved]:(e,t)=>t("team_audit_log_nitro_sso_domain_removed",{domain:`**${e?.properties?.domain_url}**`}),[Es.z.NitroSsoDomainVerified]:(e,t)=>t("team_audit_log_nitro_sso_domain_verified",{domain:`**${e?.properties?.domain_url}**`}),[Es.z.DWMEmailAdded]:(e,t)=>t("team_audit_log_dwm_email_added",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[Es.z.DWMEmailRemoved]:(e,t)=>t("team_audit_log_dwm_email_removed",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[Es.z.DWMAlertReceived]:(e,t)=>t("team_audit_log_dwm_alert_received",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[Es.z.UserDeviceAdded]:(e,t)=>t("team_audit_log_user_device_added",{name:`**${e.properties?.device_name}**`}),[Es.z.UserDeviceRemoved]:(e,t)=>t("team_audit_log_user_device_removed",{name:`**${e.properties?.device_name}**`}),[Es.z.UserDeviceLogin]:(e,t)=>t("team_audit_log_user_device_login",{name:`**${e.properties?.device_name}**`}),[Es.z.MasterPasswordReset]:(e,t)=>t("team_audit_log_master_password_reset"),[Es.z.RequestedAccountRecovery]:(e,t)=>t("team_audit_log_requested_account_recovery"),[Es.z.CompletedAccountRecovery]:(e,t)=>t("team_audit_log_completed_account_recovery"),[Es.z.MasterPasswordMobileReset]:(e,t)=>t("team_audit_log_master_password_mobile_reset",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[Es.z.UserSharedCredentialWithGroup]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_group_full":"team_audit_log_user_shared_credential_with_group_limited",{domain:`**${a.properties.domain_url}**`,group:`**${a.properties.group_name}**`})},[Es.z.UserSharedCredentialWithEmail]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_email_full":"team_audit_log_user_shared_credential_with_email_limited",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[Es.z.UserSharedCredentialWithExternal]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_external_full":"team_audit_log_user_shared_credential_with_external_limited",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[Es.z.UserSharedSecureNoteWithGroup]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_group_full":"team_audit_log_user_shared_secure_note_with_group_limited",{name:`**${a.properties.item_name}**`,group:`**${a.properties.group_name}**`})},[Es.z.UserSharedSecureNoteWithEmail]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_email_full":"team_audit_log_user_shared_secure_note_with_email_limited",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[Es.z.UserSharedSecureNoteWithExternal]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_external_full":"team_audit_log_user_shared_secure_note_with_external_limited",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[Es.z.UserRevokedSharedCredentialGroup]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_group",{domain:`**${a.properties.domain_url}**`,group:`**${a.properties.group_name}**`})},[Es.z.UserRevokedSharedCredentialEmail]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_email",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[Es.z.UserRevokedSharedCredentialExternal]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_external",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[Es.z.UserRevokedSharedSecureNoteGroup]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_group",{name:`**${a.properties.item_name}**`,group:`**${a.properties.group_name}**`})},[Es.z.UserRevokedSharedSecureNoteEmail]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_email",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[Es.z.UserRevokedSharedSecureNoteExternal]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_external",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[Es.z.UserAcceptedSharingInviteSecureNote]:(e,t)=>t("team_audit_log_user_accepted_sharing_invite_secure_note",{name:`**${e.properties.item_name}**`}),[Es.z.UserRejectedSharingInviteSecureNote]:(e,t)=>t("team_audit_log_user_rejected_sharing_invite_secure_note",{name:`**${e.properties.item_name}**`}),[Es.z.UserAcceptedSharingInviteCredential]:(e,t)=>t("team_audit_log_user_accepted_sharing_invite_credential",{domain:`**${e.properties.domain_url}**`}),[Es.z.UserRejectedSharingInviteCredential]:(e,t)=>t("team_audit_log_user_rejected_sharing_invite_credential",{domain:`**${e.properties.domain_url}**`}),[Es.z.UserCreatedCredential]:(e,t)=>t("team_audit_log_user_created_credential",{domain:`**${e.properties.domain_url}**`}),[Es.z.UserModifiedCredential]:(e,t)=>t("team_audit_log_user_modified_credential",{domain:`**${e.properties.domain_url}**`}),[Es.z.UserDeletedCredential]:(e,t)=>t("team_audit_log_user_deleted_credential",{domain:`**${e.properties.domain_url}**`}),[Es.z.UserImportedCredentials]:(e,t)=>t(e.properties.import_count>1?Ts:Ns,{importCount:`**${e.properties.import_count}**`}),[Es.z.UserCreatedSecureNote]:(e,t)=>t("team_audit_log_user_created_secure_note",{name:`**${e.properties.item_name}**`}),[Es.z.UserModifiedSecureNote]:(e,t)=>t("team_audit_log_user_modified_secure_note",{name:`**${e.properties.item_name}**`}),[Es.z.UserDeletedSecureNote]:(e,t)=>t("team_audit_log_user_deleted_secure_note",{name:`**${e.properties.item_name}**`})},Ms=(e,t)=>Zs.includes(e.log_type)?Ds[e.log_type](e,t):"",Is=Object.values(Es.z),As={table:"table--mfR78xcZe9",tableHead:"tableHead--YCQXFj5bUq",loginHeadCell:"loginHeadCell--jPwxyC874a",dateHeadCell:"dateHeadCell--FRHZHHwD2b",tableBody:"tableBody--VZKGv56Wgq",loginCell:"loginCell--GdxHLmyjUm",loginText:"loginText--M6tgnnYoDH",loginTextEmail:"loginTextEmail--PaU6Zf46bD",dateCell:"dateCell--JBqTpeYwB5"},ws=e=>t=>{!e||"Enter"!==t.key&&" "!==t.key||(e(),t.preventDefault())},ks={padding:"16px 0 16px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",verticalAlign:"middle",whiteSpace:"break-spaces",textTransform:"uppercase",cursor:"default"};let Os;!function(e){e[e.Action=0]="Action",e[e.Sortable=1]="Sortable"}(Os||(Os={}));const Ls=({onClick:e,sortOrder:t,colSpan:a,tooltipLabel:i,headerLabel:s,headerElement:o})=>{const[r,l]=(0,n.useState)(!1);return(0,y.tZ)("th",{scope:"col",role:"columnheader",colSpan:a,tabIndex:0,"aria-sort":(c=t,"asc"===c?"ascending":"desc"===c?"descending":"none"),onClick:e,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onFocus:()=>l(!0),onBlur:()=>l(!1),onKeyDown:ws(e),sx:ks},(0,y.tZ)("div",{sx:{display:"flex",height:"100%",maxWidth:"140px",alignItems:"center"}},o||null,i?(0,y.tZ)(y.u,{content:i,isOpen:r},(0,y.tZ)("span",{sx:{marginTop:"-5px",paddingTop:"5px",minWidth:0,whiteSpace:"break-spaces"}},s)):(0,y.tZ)("span",{sx:{minWidth:0,whiteSpace:"break-spaces"}},s),(0,y.tZ)("div",{sx:{width:"10px"}},t?(0,y.tZ)(y.JO,{sx:{ml:"4px"},name:"desc"===t?"CaretDownOutlined":"CaretUpOutlined",size:"small"}):null)));var c},zs=({headerElement:e,colSpan:t,headerLabel:a,tooltipLabel:n})=>(0,y.tZ)("th",{colSpan:t,sx:ks},e||null,n?(0,y.tZ)(y.u,{content:n},(0,y.tZ)("span",{sx:{minWidth:0,whiteSpace:"break-spaces"}},a)):(0,y.tZ)("span",{sx:{minWidth:0,whiteSpace:"break-spaces"}},a)),js=({columns:e,sx:t})=>(0,y.tZ)("thead",{sx:t},(0,y.tZ)("tr",{"aria-rowindex":1,sx:{color:"ds.container.expressive.brand.catchy.active"}},e.map((e=>e.onClick?(0,y.tZ)(Ls,{key:e.headerKey,...e}):(0,y.tZ)(zs,{key:e.headerKey,...e}))))),Rs=({children:e})=>{const{translate:t}=(0,p.Z)(),a=[{headerLabel:t("team_activity_list_head_admin"),headerKey:"admin"},{headerLabel:t("team_activity_list_head_action"),headerKey:"action"},{headerLabel:t("team_activity_list_head_time"),headerKey:"time"}];return n.createElement("table",{className:As.table},n.createElement(js,{columns:a}),n.createElement("tbody",{key:"table-body",className:As.tableBody},e))};var Ps=a(351433),Us=a(277559);const Bs=({login:e,action:t,date:a})=>n.createElement("tr",null,n.createElement("td",{className:As.loginCell},n.createElement(Ps.q,{email:e,size:30}),n.createElement("div",{className:As.loginText},n.createElement("span",{className:As.loginTextEmail},e))),n.createElement("td",{className:As.actionCell},t),n.createElement("td",{className:As.dateCell},n.createElement(Us.v,{date:a})));var Gs=a(438042),Fs=a(909087),Vs=a(293020);const $s=1e3;async function qs(){const e=new Date,t=(0,Gs.Z)((0,Fs.Z)(e,3)),a=(0,Gs.Z)(e),n=await Qt.C.startAuditLogsQuery({startDateRangeUnix:t,endDateRangeUnix:a});if(n.success)return n;throw(0,z.Kz)(new o.UserDownloadAuditLogsDataEvent({flowStep:o.FlowStep.Error,auditLogDownloadError:o.AuditLogDownloadError.UnexpectedUnknown})),new Error("[startAuditLogsQuery] - Server Error: Unable to start audit logs query and fetch queryExecutionId")}async function Ws(e,t,a){const n=await Qt.C.getAuditLogQueryResults({queryExecutionId:e,maxResults:t,nextToken:a});return!n.success||n.data.state!==Vs.GetAuditLogQueryResultsState.Running&&n.data.state!==Vs.GetAuditLogQueryResultsState.Queued?n:(await new Promise((e=>setTimeout((()=>e()),3e3))),await Ws(e,t,a))}async function Hs(e,t,a=1,n){const i=await Ws(t,$s,n);if(e(a),i.success){let n=i.data.auditLogs;if(i.data.nextToken){const s=await Hs(e,t,a+1,i.data.nextToken);return s&&(n=n.concat(s)),n}return n}throw(0,z.Kz)(new o.UserDownloadAuditLogsDataEvent({flowStep:o.FlowStep.Error,auditLogDownloadError:o.AuditLogDownloadError.NoLogData})),new Error("[fetchAuditLogsPages] - Server Error: Unable to load audit logs data")}const Ks={display:"block",height:"4px",borderRadius:1,transition:"width 1s ease-out",bg:"successes.4"},Qs=({progressPercent:e})=>{const{translate:t}=(0,p.Z)(),a=Math.min(Math.max(e,0),100),n={width:`${a}%`},i=(0,d.jMf)([Ks,n]),s="download-progress-description";return(0,c.tZ)(d.Ejs,{alignItems:"flex-start",flexDirection:"column",fullWidth:!0,sx:{mt:"8px",maxWidth:"100%"}},(0,c.tZ)(d.Ejs,{flexDirection:"row",justifyContent:"space-between",fullWidth:!0,sx:{bg:"primaries.1",maxWidth:"100%"}},(0,c.tZ)("div",{sx:{position:"relative",width:"100%"}},(0,c.tZ)("span",{"aria-describedby":s,"data-testid":"download-progress-bar",role:"img",sx:i}))),(0,c.tZ)(d.nvN,{sx:{mt:"4px",color:d.colors.dashGreen01},size:"x-small",id:s},t("team_activity_download_modal_progress",{progressPercentage:a})))},Ys=({isOpen:e,progress:t,onClose:a})=>{const{translate:n}=(0,p.Z)();return(0,c.tZ)(d.VqE,{isOpen:e,onClose:a,closeIconName:n("_common_dialog_dismiss_button"),ariaDescribedby:"csv-download-dialog-body",ariaLabelledby:"csv-download-dialog-title"},(0,c.tZ)(d.$N8,{id:"csv-download-dialog-title",title:n("team_activity_download_modal_title")}),(0,c.tZ)("div",{sx:{maxHeight:"fit-content",overflowX:"hidden",overflowY:"auto"}},(0,c.tZ)(Qs,{progressPercent:t}),(0,c.tZ)(d.nvN,{size:"medium",sx:{marginTop:5,marginBottom:6,color:d.colors.grey00}},n("team_activity_download_modal_body")),(0,c.tZ)(d.vDh,{severity:"warning",size:"small",title:n("team_activity_download_modal_warning")})))};var Xs=a(246669);const Js=Object.values(Es.z),eo=({lee:e})=>{const{translate:t}=(0,p.Z)(),[a,i]=(0,n.useState)(""),{isStartAuditLogsQueryTriggered:s,isLoading:r,nextToken:l,hasError:u,list:_}=(e=>{const[t,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1),[o,r]=(0,n.useState)([]),[l,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[_,m]=(0,n.useState)(!1),p=(0,n.useCallback)((async t=>{try{a(!0);const n=await Ws(t,50,e&&""!==e?e:void 0),i=[Vs.GetAuditLogQueryResultsState.Failed,Vs.GetAuditLogQueryResultsState.Cancelled];!n.success||i.includes(n.data.state)?s(!0):(r(((e=[])=>[...e,...n.data.auditLogs])),n?.data.nextToken?c(n.data.nextToken):c(null))}catch(e){s(!0)}finally{a(!1)}}),[e]),g=(0,n.useCallback)((async()=>{try{a(!0);const e=await qs(),{queryExecutionId:t}=e.data;await p(t),u(t),m(!0)}catch(e){a(!1),s(!0)}}),[p]);return(0,n.useEffect)((()=>{_?""!==d?p(d):s(!0):g()}),[p]),{isStartAuditLogsQueryTriggered:_,isLoading:t,nextToken:l,hasError:i,list:o}})(a),m=!s&&r,g=s&&r,y=null!==l,b=(0,n.useRef)(null),h=(0,n.useRef)(null);(0,_s.M)({hasMore:y,scrollContainerRef:b,bottomRef:h,loadMore:()=>{y&&i(l)}});const[x,S]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1),[C,E]=(0,n.useState)(0),Z=(0,Oa.V)(),N=(0,n.useCallback)((()=>{v(!1),(0,z.Nc)(o.PageView.TacActivityList)}),[]),T=(0,n.useCallback)((e=>{const t=50+e-10;e<=10?E(5*e):e<=40&&e>10&&E(t)}),[]),D=async()=>{v(!0),E(0),S(!0),(0,z.Nc)(o.PageView.TacActivityDownload),(0,z.Kz)(new o.UserDownloadAuditLogsDataEvent({flowStep:o.FlowStep.Start,auditLogCount:0}));try{let e=[];const a=await qs();e=await Hs(T,a.data.queryExecutionId),E(100);const n="\ufeff",i=((e,t)=>{const a=[t("team_activity_list_head_admin"),t("team_activity_list_head_action"),t("team_activity_list_head_time_csv")].join(",")+"\n",n=e.filter((e=>Js.includes(e.log_type))).map((e=>{var a;const n=null!=(a=e.properties?.author_login)?a:"",i=Ms(e,t).replace(/\*\*/g,"").replace(/[“”]/g,'"'),s=new Date(e.date_time).toISOString();return`${n},${i},${s.substr(0,10)} ${s.substr(11,8)}`}));return(0,z.Kz)(new o.UserDownloadAuditLogsDataEvent({flowStep:o.FlowStep.Complete,auditLogCount:n.length})),a+n.join("\n")})(e,t);setTimeout((()=>{try{(0,Xs.S)([n,i],"dashlane-activity-export.csv","text/csv;charset=utf-8"),S(!1),N()}catch(e){(0,z.Kz)(new o.UserDownloadAuditLogsDataEvent({flowStep:o.FlowStep.Error,auditLogDownloadError:o.AuditLogDownloadError.NoCsv}))}}),1e3)}catch(t){e.dispatchGlobal((0,vs.wN)(((e,t)=>{const a="directorySyncKeyValidationError",n=()=>e.dispatchGlobal((0,vs.FV)(a)),i=d.BLW.ERROR;return{key:a,level:i,textKey:"team_activity_download_modal_alert_error",handleClose:n,handleButtonClick:()=>{t(),n()},buttonTextKey:"team_activity_download_modal_alert_action"}})(e,D))),(0,z.Kz)(new o.UserDownloadAuditLogsDataEvent({flowStep:o.FlowStep.Error,auditLogDownloadError:o.AuditLogDownloadError.UnexpectedUnknown})),E(0),S(!1),N()}},M=_.map((e=>((e,t)=>{var a;return Is.includes(e.log_type)?{uuid:e.uuid,date:new Date(e.date_time),activityDescription:Ms(e,t),userLogin:null!=(a=e.properties?.author_login)?a:""}:null})(e,t))).filter((e=>null!==e));return(0,c.tZ)(fs,{isLoading:!f&&m},(0,c.tZ)("div",{className:"container--XdLBgpl4YX",ref:b},(0,c.tZ)("div",{className:"top--RuWypqAKoN"},(0,c.tZ)(d.zxk,{type:"button",nature:"primary",onClick:D,disabled:x},(0,c.tZ)(d._8t,{color:d.colors.white,sx:{marginRight:"10px"}}),t("team_activity_download_button"))),(0,c.tZ)(Rs,null,M.map((e=>(0,c.tZ)(Bs,{login:e.userLogin,action:(0,c.tZ)(Cs,{text:e.activityDescription}),date:e.date,key:e.uuid})))),u?Z.showAlert(t("_common_generic_error"),d.BLW.ERROR):null,(0,c.tZ)("div",{ref:h},g?(0,c.tZ)("div",{sx:{display:"flex",height:"40px",justifyContent:"center",paddingTop:"20px",paddingBottom:"60px"}},(0,c.tZ)(d.HoD,{size:40,color:d.colors.dashGreen00})):null)),f?(0,c.tZ)(Ys,{isOpen:f,progress:C,onClose:()=>{N()}}):null)};var to=a(859817);const ao={table:"table--qduhC1TPu3",tableHead:"tableHead--Z4_moYjvml",loginHeadCell:"loginHeadCell--BtAWmwV2jZ",dateHeadCell:"dateHeadCell--KFeTK0q_SH",tableBody:"tableBody--hefVlKDhhp",loginCell:"loginCell--Zam1sAKBC8",loginText:"loginText--TplsICu7bQ",loginTextEmail:"loginTextEmail--rxPAxEiUVd",actionCell:"actionCell--cglSMoOlh7",button:"button--v4n4SCN07C"},no=(0,n.memo)((({onAccept:e,onDecline:t,dateFormatter:a,requests:n})=>{const{translate:i}=(0,p.Z)(),s=[{headerLabel:i("team_master_password_reset_table_head_member"),headerKey:"member"},{headerLabel:i("team_master_password_reset_table_head_time"),headerKey:"time"},{headerLabel:"",headerKey:"actions"}];return(0,y.tZ)("table",{className:ao.table},(0,y.tZ)(js,{columns:s}),(0,y.tZ)("tbody",{key:"table-body",className:ao.tableBody},n.map((n=>{const i=(0,Ht.Z)(n.creationDateUnix),s=a(i);return(0,y.tZ)("tr",{key:(0,f.uniqueId)(),className:ao.loginCell},(0,y.tZ)("td",{className:ao.loginCell},(0,y.tZ)(Ps.q,{email:n.login,size:30}),(0,y.tZ)("div",{className:ao.loginText},(0,y.tZ)("span",{className:ao.loginTextEmail},n.login))),(0,y.tZ)("td",{className:ao.dateCell},s),(0,y.tZ)("td",{className:ao.actionCell},(0,y.tZ)("img",{className:ao.button,onClick:()=>t(n),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNS41IDEyLjVMMTIuNSA1LjVNMTIuNSAxMi41TDUuNSA1LjVNMC41IDlDMC41IDQuMzA1ODcgNC4zMDU4NyAwLjUgOSAwLjVDMTMuNjk0MSAwLjUgMTcuNSA0LjMwNTg3IDE3LjUgOUMxNy41IDEzLjY5NDEgMTMuNjk0MSAxNy41IDkgMTcuNUM0LjMwNTg3IDE3LjUgMC41IDEzLjY5NDEgMC41IDlaIiBzdHJva2U9IiNGRjAwMkQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}),(0,y.tZ)("img",{className:ao.button,onClick:()=>e(n),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNiA5TDcuOTU5MjggMTFMMTEuOTc5NiA3TTAuNSA5QzAuNSA0LjMwNTQ1IDQuMzA2MyAwLjUgOSAwLjVDMTMuNjkzNyAwLjUgMTcuNSA0LjMwNTQ1IDE3LjUgOUMxNy41IDEzLjY5NDYgMTMuNjkzNyAxNy41IDkgMTcuNUM0LjMwNjMgMTcuNSAwLjUgMTMuNjk0NiAwLjUgOVoiIHN0cm9rZT0iIzIwQjQyMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="})))}))))})),io="dialogContent--koRKDSa9Ov",so="dialogContentStrong--OG0LUgIyIm dialogContent--koRKDSa9Ov";var oo;var ro=a(736111);const lo=(e,t)=>a=>n.createElement(Et,{selectedTab:t,lee:a.lee},n.createElement(e,{...a})),co=lo((e=>(n.useEffect((()=>{(0,z.Nc)(o.PageView.TacActivityList)}),[]),n.createElement(eo,{lee:e.lee}))),"activity"),uo=lo((({lee:e})=>{var t;const{translate:a}=(0,p.Z)(),{reportTACError:i}=V(),[s,o]=(0,n.useState)(!1),r={dialogIsVisible:!1,dialogType:null,selectedRequest:null},[l,u]=(0,n.useState)(r),_=(0,n.useCallback)((()=>{const t=(0,tn.v0)(e.globalState);return t||i(new Error(Ya.N)),t}),[]),m=(0,n.useCallback)((async()=>{const e=_();e?.teamId&&await(0,kn.mP)({teamId:e.teamId})}),[_]);(0,n.useEffect)((()=>{(async()=>{try{o(!0);const{teamInfo:{recoveryEnabled:e}}=await(0,ee.I)();e&&(await m(),o(!1))}catch(e){console.error(`RequestsActivity - fetchStatus failed with error ${e}`),o(!1)}})()}),[m]);const g=e=>{u({dialogIsVisible:!0,dialogType:"accept",selectedRequest:e})},y=e=>{u({dialogIsVisible:!0,dialogType:"decline",selectedRequest:e})},b=e=>[a.shortDate(e,ea._T.l),a.shortDate(e,ea._T.LT)].join(" - "),h=()=>{u(r)},x=()=>{u(r)};return(0,c.tZ)(fs,{isLoading:s},(()=>{const t=(()=>{var t;const a=_();if(!a)return[];const{teams:n}=(0,to.e)(e.globalState),{teamId:i}=a;return null==i?[]:null!=(t=n[i]?.notifications?.accountRecoveryRequests)?t:[]})();return t.length?(0,c.tZ)("div",{className:"container--DRtotEoFLA"},(0,c.tZ)(no,{onAccept:g,onDecline:y,dateFormatter:b,requests:t})):(0,c.tZ)("div",{className:"containerNoItem--U7KH6tddpl container--DRtotEoFLA"},oo||(oo=(0,c.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDQwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzMuODMxOCAyNC45MTQ3QzM0LjIxMTggMjUuNDI0NyAzNC41NjE4IDI2LjA4NDcgMzQuNjYxOCAyNi43MDQ4QzM0Ljc1MTggMjcuMDI0NyAzNC43ODE4IDI3LjMxNDcgMzQuNzgxOCAyNy41OTQ3TDM0LjgxMTggMjguMDI0N0MzNC44MTE4IDI4LjE4NDcgMzQuODExOCAyOC4zOTQ3IDM0Ljc4MTggMjguNTc0N0MzNC42MDE4IDMwLjEwNDcgMzMuNDAxOCAzMS40MDQ3IDMxLjkxMTggMzEuNzI0N0MzMS43MzE4IDMxLjc2NDcgMzEuNTQxOCAzMS43OTQ3IDMxLjM1MTggMzEuODA0N0wzMS4wODE4IDMxLjgxNDhIMzAuOTExOEgzMC4yMzE4SDI4Ljg3MThIMjYuMTYxOEgxNS4zMTE4SDkuODkxOEg5LjIxMThIOC44NzE4SDguNjkxOEw4LjQxMTggMzEuODA0N0M3LjY1MTggMzEuNzQ0NyA2LjkyMTggMzEuNDM0NyA2LjM0MTggMzAuOTU0OEM1Ljc2MTggMzAuNDY0OCA1LjMzMTggMjkuODA0NyA1LjEzMTggMjkuMDc0N0M1LjAyMTggMjguNzI0NyA0Ljk5MTggMjguMjk0NyA1LjAwMTggMjcuOTg0N0w1LjA3MTggMjcuMTI0N0M1LjA4OTc3IDI3LjA0NTIgNS4xMDY0MyAyNi45NjU2IDUuMTIzMTEgMjYuODg1OEM1LjE3MTQzIDI2LjY1NDkgNS4yMjAwNCAyNi40MjI2IDUuMzAxOCAyNi4xODQ3QzUuMzI4NyAyNi4xMjMzIDUuMzU0ODcgMjYuMDYxIDUuMzgxMDcgMjUuOTk4N0M1LjQ5MTI0IDI1LjczNjcgNS42MDIxNiAyNS40NzI5IDUuNzcxOCAyNS4yNTQ3QzYuMTAyODcgMjQuNzM2OSA2LjQ5MTU5IDI0LjM5OTMgNi44Mjc4NSAyNC4xMDcyQzYuODg3NyAyNC4wNTUyIDYuOTQ1ODkgMjQuMDA0NiA3LjAwMTggMjMuOTU0OEM3LjczMTggMjMuMzY0NyA4LjEzMTggMjIuOTc0NyA4LjQ3MTggMjIuMzc0N0M5LjE0MTggMjEuMjA0NyA5LjM2MTggMTkuNDk0OCA5LjQ0MTggMTcuODE0OEw5LjQ3MTggMTYuNjg0N0MxMC40NjE4IDE3LjAzNDcgMTEuNDUxOCAxNy40MTQ3IDEyLjQ0MTggMTcuODM0N0wxMi40MzE4IDE4LjIzNDdDMTIuMzcxOCAxOS4yMTQ3IDEyLjI3MTggMjAuMjI0OCAxMi4wNTE4IDIxLjI0NDhDMTEuNzkxOCAyMi4yNjQ4IDExLjQ3MTggMjMuMzM0NyAxMC43OTE4IDI0LjMzNDdDMTAuMjYzIDI1LjE0MzkgOS40OTY4IDI1Ljc3OTggOC45NDU1OCAyNi4yMzcyQzguODA4NzcgMjYuMzUwNyA4LjY4NTIgMjYuNDUzMyA4LjU4MTgxIDI2LjU0NDdDOC41NTM1IDI2LjU3NTYgOC41MjYzNiAyNi42MDQ4IDguNTAwNDEgMjYuNjMyOEM4LjMyNDcgMjYuODIxOSA4LjIwNDA5IDI2Ljk1MTggOC4xNTE4IDI3LjEzNDhDOC4wNzE4MSAyNy4zMzQ4IDguMDIxOCAyNy42MjQ3IDguMDExOCAyNy45NzQ3TDguMDAxOCAyOC4wOTQ3VjI4LjE1NDdWMjguMTU0OEM4LjAwMTggMjguMTk0OCA4LjAwMTggMjguMjM0OCA4LjAxMTggMjguMjQ0OEM4LjAzMTggMjguMzI0OCA4LjA2MTggMjguMzk0OCA4LjEwMTggMjguNDU0OEM4LjE4MTggMjguNTk0NyA4LjMwMTggMjguNjk0NyA4LjQ0MTggMjguNzU0N0M4LjUxMTggMjguNzg0NyA4LjU4MTggMjguNzk0NyA4LjY2MTggMjguODA0N0g4LjcyMThIOC44OTE4SDkuMjQxODFIMTAuNjQxOEgxMy40MzE4SDI0LjYwMThIMzAuMTgxOEMzMS4wNTM3IDI4LjgxMiAzMS4yNzY2IDI4LjgxNCAzMS40NDE1IDI4LjcxNzNDMzEuNTA1NSAyOC42Nzk3IDMxLjU2MDggMjguNjI3NCAzMS42NDE4IDI4LjU1NDdDMzEuNzQxOCAyOC40NDQ3IDMxLjgwMTggMjguMzA0NyAzMS44MjE4IDI4LjE1NDdDMzEuODI5MiAyOC4xMjU0IDMxLjgyMDMgMjguMDA0MiAzMS44MTExIDI3Ljg3ODVDMzEuODA3OCAyNy44MzMxIDMxLjgwNDUgMjcuNzg3MiAzMS44MDE4IDI3Ljc0NDhDMzEuODAxOCAyNy41OTM3IDMxLjc3MzYgMjcuNDc3OSAzMS43NDY5IDI3LjM2NzdDMzEuNzQxNyAyNy4zNDY2IDMxLjczNjYgMjcuMzI1NyAzMS43MzE4IDI3LjMwNDdDMzEuNjcxOCAyNy4wMzQ3IDMxLjU3MTggMjYuODg0NyAzMS4zOTE4IDI2LjY0NDdDMzEuMjYyMiAyNi40ODc4IDMxLjA2NzMgMjYuMjk4MyAzMC44NDIzIDI2LjA3OTNDMzAuNzM3NSAyNS45Nzc0IDMwLjYyNjIgMjUuODY5MSAzMC41MTE4IDI1Ljc1NDdDMjkuNzYxOCAyNS4wNDQ3IDI5LjAzMTggMjQuMDI0NyAyOC42MjE4IDIzLjAyNDdDMjguNDQ4MSAyMi42NjI4IDI4LjMzMiAyMi4yOTU2IDI4LjIxNjYgMjEuOTMwOEMyOC4xNzI2IDIxLjc5MTYgMjguMTI4NyAyMS42NTI4IDI4LjA4MTggMjEuNTE0N0MyOC4wNTE4IDIxLjM4OTcgMjguMDIwNSAyMS4yNjQ3IDI3Ljk4OTMgMjEuMTM5N0MyNy44OTU1IDIwLjc2NDcgMjcuODAxOCAyMC4zODk3IDI3Ljc0MTggMjAuMDE0N0MyNy43MTk4IDE5Ljg2MDQgMjcuNjk2NyAxOS43MDUxIDI3LjY3MzYgMTkuNTQ5NEMyNy42MjM0IDE5LjIxMDggMjcuNTcyOSAxOC44NzA0IDI3LjUzMTggMTguNTM0N0wyNy40MTE4IDE3LjA3NDdDMjcuMzczNCAxNi4zMzY2IDI3LjM1ODYgMTUuNTY4OCAyNy4zNDQ3IDE0Ljg0ODhDMjcuMzQwNSAxNC42MzI0IDI3LjMzNjQgMTQuNDIwNCAyNy4zMzE4IDE0LjIxNDdDMjcuMzIxOCAxMy4zMzQ3IDI3LjI2MTggMTIuNDY0NyAyNy4xMzE4IDExLjY1NDdDMjYuODgxOCAxMC4wMDQ3IDI2LjI1MTggOC42ODQ3NSAyNS4xMjE4IDcuNDU0NzVDMjQuNTQxOCA2LjgxNDc1IDI0LjAwMTggNi4yODQ3NSAyMy4zNjE4IDUuOTA0NzVDMjIuNzMxOCA1LjUxNDc1IDIyLjAzMTggNS4yNTQ3NSAyMS4yODE4IDUuMTE0NzVDMTkuNzYxOCA0Ljg1NDc1IDE4LjEwMTggNS4wMTQ3NSAxNi44MjE4IDUuNzA0NzVDMTYuMTUxOCA2LjA1NDc1IDE1LjY0MTggNi40ODQ3NSAxNS4wMjE4IDcuMTM0NzVDMTQuNDMxOCA3Ljc0NDc1IDEzLjkyMTggOC4zNjQ3NCAxMy41NTE4IDkuMDM0NzRDMTIuNzkxOCAxMC4zMzQ3IDEyLjU0MTggMTEuOTc0NyAxMi40ODE4IDEzLjcyNDdMOS40ODE4IDEzLjYyNDdDOS41NDE4IDExLjc0NDcgOS44MDE4IDkuNjM0NzUgMTAuODQxOCA3LjcyNDc1QzExLjM0MTggNi43NzQ3NSAxMi4wMDE4IDUuOTU0NzUgMTIuNjgxOCA1LjIzNDc1QzEzLjMwMTggNC41NzQ3NSAxNC4xNDE4IDMuNzY0NzUgMTUuMDkxOCAzLjIzNDc1QzE3LjAwMTggMi4xMTQ3NSAxOS4yMjE4IDEuODM0NzUgMjEuMjgxOCAyLjA4NDc1QzIzLjM4MTggMi4zMTQ3NSAyNS41MTE4IDMuNDQ0NzQgMjYuODgxOCA0Ljk2NDc0QzI4LjI3MTggNi4zMTQ3NCAyOS41MTE4IDguMjg0NzUgMjkuOTIxOCAxMC4zMTQ4QzMwLjE1MTggMTEuMzE0OCAzMC4yNTE4IDEyLjMwNDcgMzAuMzAxOCAxMy4yNjQ3QzMwLjMyNDIgMTMuNjIzMyAzMC4zMjk5IDEzLjk4MTggMzAuMzM1NSAxNC4zMzYyQzMwLjMzNzQgMTQuNDU2MyAzMC4zMzkzIDE0LjU3NTggMzAuMzQxOCAxNC42OTQ3TDMwLjM3MTggMTYuMDA0N0MzMC40NDE4IDE3LjcyNDcgMzAuNTgxOCAxOS40NjQ3IDMxLjA1MTggMjAuOTY0N0MzMS4yNzE4IDIxLjcyNDcgMzEuNTkxOCAyMi4zNzQ3IDMyLjAwMTggMjIuOTM0N0MzMi4yMTA2IDIzLjIzNTIgMzIuNDY4NiAyMy40ODg5IDMyLjc3OTggMjMuNzk1QzMzLjA3OTggMjQuMDkgMzMuNDI5MyAyNC40MzM3IDMzLjgzMTggMjQuOTE0N1pNMjQuMTgxOCAzNi4zNTQ3QzIzLjAwMTggMzcuNTM0NyAyMS40NTE4IDM4LjEyNDcgMTkuOTAxOCAzOC4xMjQ3QzE4LjM2MTggMzguMTI0NyAxNi44MTE4IDM3LjUzNDcgMTUuNjQxOCAzNi4zNTQ3TDE0LjU4MTggMzUuMjk0N0wxNi43MDE4IDMzLjE3NDdMMTcuNzYxOCAzNC4yMzQ3QzE4Ljk0MTggMzUuNDI0NyAyMC44NzE4IDM1LjQyNDcgMjIuMDYxOCAzNC4yMzQ3TDIzLjEyMTggMzMuMTc0N0wyNS4yNDE4IDM1LjI5NDdMMjQuMTgxOCAzNi4zNTQ3WiIgZmlsbD0iI0U3RTdFNyIvPgo8L3N2Zz4K"})),(0,c.tZ)("div",{className:"noItemLabel--AypyKunLpo"},a("team_master_password_reset_table_empty_label")),(0,c.tZ)("div",{className:"noItemHelper--c9bX9Yn5sj"},a("team_master_password_reset_table_empty_helper")))})(),(0,c.tZ)(U.o,{isOpen:l.dialogIsVisible&&"accept"===l.dialogType,onRequestClose:h,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:a("team_master_password_reset_dialog_accept_button_ok"),primaryButtonOnClick:()=>{_()&&l.selectedRequest&&(0,kn.Z8)({login:l.selectedRequest.login,recoveryKey:l.selectedRequest.recoveryClientKey,userPublicKey:l.selectedRequest.publicKey}).then((()=>{m(),u(r)})).catch((e=>{console.error(e)}))},secondaryButtonTitle:a("team_master_password_reset_dialog_accept_button_cancel"),secondaryButtonOnClick:h}),title:a("team_master_password_reset_dialog_accept_title")},l.selectedRequest?.login?(0,c.tZ)("p",{className:so},a("team_master_password_reset_dialog_accept_content_bold",{login:l.selectedRequest.login})):null,(0,c.tZ)("p",{className:io},a("team_master_password_reset_dialog_accept_content"))),(0,c.tZ)(U.o,{isOpen:l.dialogIsVisible&&"decline"===l.dialogType,onRequestClose:x,footer:(0,c.tZ)(d.cNS,{intent:"danger",primaryButtonTitle:a("team_master_password_reset_dialog_decline_button_ok"),primaryButtonOnClick:async()=>{if((0,tn.v0)(e.globalState)){if(l.selectedRequest)try{await(0,kn.VK)({login:l.selectedRequest.login}),m(),u(r)}catch(e){console.error(e)}}else i(new Error(Ya.N))},secondaryButtonTitle:a("team_master_password_reset_dialog_decline_button_cancel"),secondaryButtonOnClick:x}),title:a("team_master_password_reset_dialog_decline_title")},l.selectedRequest?.login?(0,c.tZ)("p",{className:so},a("team_master_password_reset_dialog_decline_content_bold",{login:null!=(t=l.selectedRequest?.login)?t:""})):null,(0,c.tZ)("p",{className:io},a("team_master_password_reset_dialog_decline_content"))))}),"activity");function _o({path:e}){return n.createElement(s.GB,{path:[e,`${e}/recent`,`${e}/requests`],permission:e=>e.adminAccess.hasFullAccess},n.createElement(s.rs,null,n.createElement(s.l_,{exact:!0,from:`${e}/`,to:`${e}/recent`}),n.createElement(s.Vy,{path:`${e}/requests`,component:uo,reducer:ro.Z}),n.createElement(s.Vy,{path:`${e}/recent`,component:co})))}a(568030);var mo=a(625119);a(461238);const po=({children:e,onRequestClose:t,footer:a})=>{const{translate:i}=(0,p.Z)(),s=i("team_directory_sync_key_dialog_title");return n.createElement(U.o,{isOpen:!0,showCloseIcon:!0,onRequestClose:t,footer:a,title:s},e)},go=({onSubmitKeySuccess:e,onSubmitKeyError:t,checkDirectorySyncKeyRequest:a,handleDismiss:i,handleError:s})=>{const{translate:o}=(0,p.Z)(),[r,l]=(0,n.useState)({inputKey:"",isInputKeyInvalid:!1});return(0,y.tZ)(po,{onRequestClose:i,footer:(0,y.tZ)(d.cNS,{primaryButtonTitle:o("team_directory_sync_key_dialog_key_input_verify"),primaryButtonOnClick:async()=>{var n;const{publicKey:i=""}=null!=(n=a())?n:{},o=r.inputKey.replace(/\s/g,"").replace(/\n/g,"");var c;o===i?(()=>{const e=a();return e?(0,kn.QV)(e,"validated"):Promise.reject(new Error("missing params"))})().then((()=>{e()})).catch(s):(c=o).length%4==0&&atob(c).includes("</RSAKeyValue>")?t():l((e=>({...e,isInputKeyInvalid:!0})))},secondaryButtonTitle:o("team_directory_sync_key_dialog_key_input_postpone"),secondaryButtonOnClick:i,intent:"primary"})},(0,y.tZ)(y.nv,{sx:{marginBottom:"2em"},color:"ds.text.neutral.quiet"},o.markup("team_directory_sync_key_dialog_key_input_message_markup")),(0,y.tZ)(y.Kx,{placeholder:o("team_directory_sync_key_dialog_key_input_placeholder"),onChange:({target:{value:e}})=>{l({inputKey:e,isInputKeyInvalid:!1})},value:r.inputKey,feedback:r.isInputKeyInvalid?{text:o("team_directory_sync_key_dialog_key_input_invalid")}:void 0,error:r.isInputKeyInvalid}))};var yo;!function(e){e[e.Initial=0]="Initial",e[e.KeyInput=1]="KeyInput",e[e.KeySuccess=2]="KeySuccess",e[e.KeyError=3]="KeyError",e[e.KeySuspended=4]="KeySuspended"}(yo||(yo={}));const bo=e=>{var t;const{translate:a}=(0,p.Z)(),[i,s]=(0,n.useState)(yo.Initial),o=()=>e.lee.globalState.directorySyncKey.checkDirectorySyncKeyRequest,r=()=>{e.lee.dispatchGlobal((0,mo.M2)())},l=()=>{e.lee.dispatchGlobal((0,mo.HK)())},c=()=>{e.lee.dispatchGlobal((0,mo.er)())},u=()=>{const t="directorySyncKeyValidationError",a=d.BLW.ERROR,n={key:t,level:a,textKey:"team_directory_sync_key_error_markup",handleClose:()=>e.lee.dispatchGlobal((0,vs.FV)(t))};e.lee.dispatchGlobal((0,vs.wN)(n)),l()},_=()=>{s(yo.KeyInput)},m=()=>{(()=>{const e=o();return e?(0,kn.QV)(e,"rejected"):Promise.reject(new Error("missing params"))})().then((()=>{s(yo.KeySuspended),c()})).catch(u)},g=()=>{s(yo.KeySuccess),c()},b=()=>{s(yo.KeyError)};switch(i){case yo.Initial:return(0,y.tZ)(po,{onRequestClose:r,footer:(0,y.tZ)(d.cNS,{primaryButtonTitle:a("team_directory_sync_key_dialog_initial_continue"),primaryButtonOnClick:_,secondaryButtonTitle:a("team_directory_sync_key_dialog_initial_postpone"),secondaryButtonOnClick:r,intent:"primary"})},(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet"},a.markup("team_directory_sync_key_dialog_initial_message_markup")));case yo.KeyInput:return t||(0,y.tZ)(go,{onSubmitKeySuccess:g,onSubmitKeyError:b,checkDirectorySyncKeyRequest:o,handleDismiss:r,handleError:u});case yo.KeySuccess:return(0,y.tZ)(po,{onRequestClose:l,footer:(0,y.tZ)(d.cNS,{secondaryButtonTitle:a("team_directory_sync_key_dialog_key_success_close"),secondaryButtonOnClick:l})},(0,y.tZ)(d.Ejs,{gap:"8px"},(0,y.tZ)(y.JO,{name:"FeedbackSuccessOutlined",size:"xlarge",color:"ds.text.positive.quiet",sx:{width:"64px",height:"64px"}}),(0,y.tZ)("div",null,(0,y.tZ)(y.X6,{as:"h1"},a("team_directory_sync_key_dialog_key_success_header")),(0,y.tZ)(y.nv,null,a("team_directory_sync_key_dialog_key_success_message")))));case yo.KeyError:return(0,y.tZ)(po,{onRequestClose:l,footer:(0,y.tZ)(d.cNS,{primaryButtonTitle:a("team_directory_sync_key_dialog_key_error_validate"),primaryButtonOnClick:m,secondaryButtonTitle:a("team_directory_sync_key_dialog_key_error_retry"),secondaryButtonOnClick:_,intent:"danger"})},(0,y.tZ)(d.Ejs,{gap:"8px"},(0,y.tZ)(y.JO,{name:"FeedbackFailOutlined",size:"xlarge",color:"ds.text.danger.quiet",sx:{width:"64px",height:"64px"}}),(0,y.tZ)("div",null,(0,y.tZ)(y.X6,{as:"h1"},a("team_directory_sync_key_dialog_key_error_header")),(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet"},a("team_directory_sync_key_dialog_key_error_message")))));case yo.KeySuspended:return(0,y.tZ)(po,{onRequestClose:l,footer:(0,y.tZ)(d.cNS,{secondaryButtonTitle:a("team_directory_sync_key_dialog_key_suspended_close"),secondaryButtonOnClick:l})},(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet"},a.markup("team_directory_sync_key_dialog_key_suspended_message_markup")))}},ho=()=>{var e;const{translate:t}=(0,p.Z)(),{queue:a,popAlertFromQueue:i}=V(),s=()=>{i()},[o]=a;return o?n.createElement(U.o,{isOpen:!0,onRequestClose:s,footer:n.createElement(d.cNS,{secondaryButtonTitle:null!=(e=o.okButtonLabel)?e:t("_common_alert_dismiss_button"),secondaryButtonOnClick:s}),title:o.title},n.createElement("div",null,o.message)):null};var xo=a(857323);const So=({lee:e,notificationKey:t,buttonTextKey:a,level:n,redirectPath:i,onClickButton:o,keyParams:r,notificationName:l})=>{const c={key:t,level:n,textKey:t,buttonTextKey:a,keyParams:r,handleClose:()=>{e.dispatchGlobal((0,vs.FV)(t)),l&&Qt.C.markNotificationAsSeen(l)}};i&&(c.handleLinkClick=a=>{a.preventDefault(),(0,O.Tx)(i)?(0,O.Yk)(i,{type:"",action:""}):(e.dispatchGlobal((0,vs.FV)(t)),(0,s.uX)(i))}),o&&(c.handleButtonClick=()=>{o()}),e.dispatchGlobal((0,vs.wN)(c))};var fo=a(825224);const vo="TRIAL_PERIOD_0_15D",Co="GRACE_PERIOD_PAID",Eo="ENABLE_RECOVERY",Zo="ADD_ADMINS",No="TAC_IN_EXTENSION";a(542899);var To=a(760946);const Do={notification:"notification--JlZi_NwcwA"},Mo=({level:e=d.BLW.SUCCESS,text:t,buttonTextKey:a,onClose:i,onLinkClick:s,onClickButton:o})=>{const r=n.useRef(null),{translate:l}=(0,p.Z)(),c=(0,n.useCallback)((e=>{if(!s)return;const t=e.target;t&&"a"===t.tagName.toLowerCase()&&s(e)}),[s]);return(0,n.useEffect)((()=>{if(!r||!r.current)return;const e=r.current;return e.addEventListener("click",c),()=>{e.removeEventListener("click",c)}}),[c]),n.createElement("div",{className:Do.notification},n.createElement(d.bZj,{severity:e,size:d.k3y.SMALL,showIcon:!0,closeIconName:l("_common_alert_dismiss_button"),onClose:i,onAction:o||void 0,actionText:a||void 0},n.createElement("span",{ref:r,className:Do.text},t)))},Io=({lee:e})=>{var t;const{translate:a}=(0,p.Z)(),i=null==(t=(0,xe.o)("onboarding_web_tacgetstarted"))||t,{setIsVaultNavigationModalOpen:s}=(0,n.useContext)(ye),[o,r]=(0,n.useState)([]),l=(0,n.useCallback)((t=>{t&&(async({lee:e,teamStatus:t,showTacInExtension:a,translate:n,setIsVaultNavigationModalOpen:i,isTacGetStartedFFEnabled:s})=>{const o=(({lee:e,teamStatus:t,showTacInExtension:a})=>{const n=new Set;a&&n.add(No),t.isGracePeriod&&!t.isFreeTrial&&n.add(Co),t.isFreeTrial&&!t.isGracePeriod&&((0,fo.PY)(t.nextBillingDetails.dateUnix)<15?n.add("TRIAL_PERIOD_15_30D"):n.add(vo)),t.info.recoveryEnabled||t.info.ssoEnabled||n.add(Eo);const i=(0,v.ev)(e.globalState)||0,s=e.carbon.spaceData.spaces.find((e=>i===+e.teamId));return s&&s.details.teamAdmins.length<=1&&n.add(Zo),n})({lee:e,teamStatus:t,showTacInExtension:a});e.dispatchGlobal((0,vs.L1)());const r=e.permission.adminAccess.hasFullAccess,l=await Qt.C.getNotificationStatus();o.has(No)&&l.tacGetTheExtensionBanner===Te.NotificationStatus.Unseen&&xo.browser.isSafari(),o.has(Co)&&(e=>{So({lee:e,notificationKey:"team_notifications_renewal_grace_period_markup",level:d.BLW.ERROR,redirectPath:e.routes.teamAccountRoutePath})})(e),r&&(o.has(Eo)&&l.tacEnableAccountRecoveryBanner===Te.NotificationStatus.Unseen&&!s&&(e=>{const t=`${e.routes.teamSettingsRoutePath}/master-password-policies`;So({lee:e,notificationKey:"team_notifications_enable_account_recovery_markup",level:d.BLW.WARNING,redirectPath:t,notificationName:Te.NotificationName.TacEnableAccountRecoveryBanner})})(e),!o.has(Zo)||l.tacOnlyOneAdminBanner!==Te.NotificationStatus.Unseen||xo.browser.isSafari()||s||(e=>{const t=e.routes.teamAccountRoutePath;So({lee:e,notificationKey:"team_notifications_add_admins_markup",level:d.BLW.WARNING,redirectPath:t,notificationName:Te.NotificationName.TacOnlyOneAdminBanner})})(e)),o.has(vo)&&(({lee:e,spaceTier:t,translate:a})=>{const n=(0,A.Uo)({tier:t,translate:a});So({lee:e,notificationKey:"team_notifications_free_trial_D0_T15_markup",keyParams:{planTier:n},level:d.BLW.SUCCESS,redirectPath:e.routes.teamAccountRoutePath})})({lee:e,spaceTier:t.planTier,translate:n})})({lee:e,teamStatus:t,showTacInExtension:!1,translate:a,setIsVaultNavigationModalOpen:s,isTacGetStartedFFEnabled:i})}),[]);return(0,n.useEffect)((()=>{r((()=>{const t=e.globalState.notifications.list,a=function(e){const t=e.permission.adminAccess.hasFullAccess,a=e.globalState.directorySyncKey;return t&&a.validationPostponed?[{key:"directorySyncPosponedValidation",level:d.BLW.WARNING,textKey:"team_directory_sync_key_postponed_notif_markup",handleLinkClick:t=>{t.preventDefault(),e.dispatchGlobal((0,mo.b3)())},handleClose:()=>e.dispatchGlobal((0,mo.vg)())}]:[]}(e),n=function(e){const t=e.permission.adminAccess.hasFullAccess,a=e.globalState.ieNotifications;return t&&xo.browser.isInternetExplorer()&&a.displayIeDropNotification?[{key:"directorySyncPosponedValidation",level:d.BLW.WARNING,textKey:"wac_ie_drop_message_markup",handleClose:()=>e.dispatchGlobal((0,To.w)())}]:[]}(e);return[...t,...a,...n]})())}),[e.globalState.ieNotifications,e.globalState.directorySyncKey,e.globalState.notifications.list]),(0,n.useEffect)((()=>{const t=(0,tn.v0)(e.globalState);t&&(new nn.Z).status({auth:t}).then((e=>{if(200!==e.code)return;const{content:{team:t}}=e;l(t)})).catch()}),[e.globalState.user.session.uki]),(0,y.tZ)("div",{className:"notifications--SCKfre7VSM"},o.map((e=>(0,y.tZ)(Mo,{key:e.key,level:e.level,text:(0,ea.t5)(e.textKey)?a.markup(e.textKey,e.keyParams):a(e.textKey),buttonTextKey:e.buttonTextKey?a(e.buttonTextKey):void 0,onClose:e.handleClose,onLinkClick:e.handleLinkClick,onClickButton:e.handleButtonClick}))))};var Ao=a(821002),wo=a(352116);var ko,Oo;const Lo=e=>{const[t,a]=n.useState(!1);(0,Ao._)();const i=(0,L.a)(e.lee.dispatchGlobal),s=()=>{const t=e.lee.globalState.carbon.loginStatus?.loggedIn,a=e.lee.globalState.user.session.login,n=e.lee.globalState.user.session.uki,i=e.lee.globalState.carbon.accountInfo?.premiumStatus,s=e.lee.globalState.user.session.permissions?.tacAccessPermissions;return t&&Boolean(a&&n)&&Boolean(i)&&Boolean(s)},o=()=>{const t=e.lee.globalState.user.session.permissions?.tacAccessPermissions;return Boolean(t?.size)};return n.useEffect((()=>{!s()||o()||i()}),[t]),s()&&o()?n.createElement(F,{globalReportError:e.lee.reportError},n.createElement(wo.qc,{lee:e.lee},n.createElement(we,null,n.createElement(be,null,n.createElement("div",null,e.children,Oo||(Oo=n.createElement(ho,null)),n.createElement(Io,{lee:e.lee}),e.lee.globalState.directorySyncKey.displayDialog?n.createElement(bo,{lee:e.lee}):null,n.createElement("div",{className:"alertPopup--S9uF3SnYTj",id:"alert-popup-portal"})))))):ko||(ko=n.createElement("div",null))},zo=1589932800;let jo;!function(e){e[e.AllTime=0]="AllTime",e[e.Last7Days=1]="Last7Days",e[e.Last30Days=2]="Last30Days"}(jo||(jo={}));const Ro="value--w9XKkttPDT",Po="link--nWXIzseKub";var Uo=a(109184);const Bo=({showPasswordHealthScore:e,securityIndex:t,shieldSize:a})=>{let i="";return e?(i=t>=80?ht()["--accessible-validator-green"]:t>=40?ht()["--orange-00"]:ht()["--red-00"],t>=60?n.createElement(n.Fragment,null,n.createElement(d.FjK,{size:a,color:i,viewBox:"5 5 40 40"}),`${(0,Uo.E)(t)}%`):n.createElement(n.Fragment,null,n.createElement(d.sQG,{size:a,color:i,viewBox:"5 5 40 40"}),`${(0,Uo.E)(t)}%`)):(i=ht()["--dash-green-00"],n.createElement(n.Fragment,null,n.createElement(d.P2E,{size:a,color:i}),"-"))};var Go;const Fo=({title:e})=>(0,c.tZ)(d.ua7,{sx:{fontSize:2,maxWidth:"180px"},placement:"bottom",content:e},Go||(Go=(0,c.tZ)(d.uMt,{size:13,tabIndex:0}))),Vo=({children:e})=>(0,c.tZ)(d.Zbd,{sx:{height:"132px",width:"232px",marginRight:"32px",flexShrink:"0",padding:"16px",overflow:"inherit"}},e),$o=({passwordHealth:e,seats:t,passwordHealthHistoryEmpty:a})=>{const{translate:n}=(0,p.Z)(),{routes:i}=(0,ms.Xo)(),{compromised:o,securityIndex:r}=e,l=`${t.used}/${t.provisioned}`;return(0,c.tZ)("section",{className:"cardsRow--UeIGdGJnGY",sx:{display:"flex",justifyContent:"flex-start"}},(0,c.tZ)(Vo,null,(0,c.tZ)("header",null,(0,c.tZ)("h1",null,n("team_dashboard_card_health_score")),(0,c.tZ)(Fo,{title:n("team_dashboard_card_health_score_info")})),(0,c.tZ)("div",{className:Ro},(0,c.tZ)(Bo,{showPasswordHealthScore:!a,securityIndex:r,shieldSize:32}))),(0,c.tZ)(Vo,null,(0,c.tZ)("header",null,(0,c.tZ)("h1",null,n("team_dashboard_card_compromised")),(0,c.tZ)(Fo,{title:n("team_dashboard_card_compromised_info")})),(0,c.tZ)("div",{className:I()(Ro,o?"compromised--m8LmAYo_e5":void 0)},o),o?(0,c.tZ)("footer",null,(0,c.tZ)(s.rU,{className:Po,to:i.teamMembersRoutePath},n("team_dashboard_card_compromised_details_link"))):null),(0,c.tZ)(Vo,null,(0,c.tZ)("header",null,(0,c.tZ)("h1",null,n("team_dashboard_card_seats_taken")),(0,c.tZ)(Fo,{title:n("team_dashboard_card_seats_taken_info")})),(0,c.tZ)("div",{className:I()(Ro,{"fontSizeBigger--f83OiWuf4K":l.length>=8})},l),(0,c.tZ)("footer",null,(0,c.tZ)(s.rU,{className:Po,to:i.teamAccountRoutePath},n("team_dashboard_card_seats_buy_link")))),(0,c.tZ)(Vo,null,(0,c.tZ)("header",null,(0,c.tZ)("h1",null,n("team_dashboard_card_pending_invitations")),(0,c.tZ)(Fo,{title:n("team_dashboard_card_pending_invitations_info")})),(0,c.tZ)("div",{className:Ro},t.pending),(0,c.tZ)("footer",null,(0,c.tZ)(s.rU,{className:Po,to:{pathname:i.teamMembersRoutePath,state:t.pending?{openResendPendingInvitationsDialog:!0}:{openSendInvitesDialog:!0}}},t.pending?n("team_dashboard_card_resend_invitations_link"):n("team_dashboard_card_send_invitations_link")))))};var qo=a(617615),Wo=a(271327),Ho=a(101513),Ko=a(264441),Qo=a(181037),Yo=a(960377),Xo=a(433117),Jo=a(328290),er=a(440934),tr=a(142094),ar=a(151796),nr=a(93443);const ir=(e,t,a)=>{const n=[];switch(e){case jo.AllTime:{if(a>=5&&a<=8){t.forEach((e=>{const{date:t}=e;1===new Date(t).getDate()&&n.push(t)}));break}const{length:e}=t;if(e<=7){t.forEach((e=>{n.push(e.date)}));break}const i=e/7;let s=e-1;for(;s>=0;)n.push(t[Math.round(s)]?.date),s-=i;break}case jo.Last7Days:t.forEach((e=>{n.push(e.date)}));break;case jo.Last30Days:t.forEach((e=>{const{date:t}=e;0===new Date(t).getDay()&&n.push(t)}));break;default:(0,ar.U)(e)}return n},sr="legendItem--MoxC6xF4tG",or="legendIcon--p8Emm90xE4",rr=({active:e,label:t,payload:a})=>{const{translate:i}=(0,p.Z)();if(!e)return null;const s=a?`${(0,Uo.E)(a[0]?.value)}%`:null;return n.createElement("div",{className:"customTooltipContainer--iAM2rWgGzw"},n.createElement("time",{className:"date--JuYmIy6PnQ"},t),n.createElement("div",{className:"score--RRdFFcOQCh"},n.createElement("div",{className:sr},n.createElement("div",{className:or}),n.createElement("p",null,i("team_dashboard_graph_score_hover_legend"))),n.createElement("p",null,s)))};var lr;const cr=({history:e,passwordHealthHistoryEmpty:t})=>{const[a,i]=(0,n.useState)(jo.AllTime),s=(e=>{const{length:t}=e;if(t<=2)return e;const a=(0,Xo.Z)(e[0].date),n=(0,Xo.Z)(e[t-1].date),i=(0,Jo.Z)(n,a);if(i===t-1)return e;const s=[];let o=0,r=e[o].securityIndex,l=a,c=a;for(let t=0;t<=i;t++)(0,er.Z)(c,l)?(s.push(e[o]),r=e[o].securityIndex,o++,l=(0,Xo.Z)(e[o]?.date)):s.push({date:c.toISOString().slice(0,10),securityIndex:r}),c=(0,tr.Z)(c,1);return s})(e),o=((e,t)=>{switch(e){case jo.AllTime:return t;case jo.Last7Days:return t.slice(t.length-7,t.length);case jo.Last30Days:return t.slice(t.length-30,t.length);default:(0,ar.U)(e)}})(a,s),{translate:r}=(0,p.Z)();return(0,c.tZ)(n.Fragment,null,(0,c.tZ)("section",{className:I()("topSection--nM0XDipPte",{"addMarginTop--fLzJVO2qx1":t})},(0,c.tZ)("div",{className:sr},(0,c.tZ)("div",{className:or}),(0,c.tZ)(d.nvN,{size:"x-small"},r("team_dashboard_graph_score_legend"))),(0,c.tZ)(d.G8v,null,s.length>7?(0,c.tZ)(d.yPU,{label:r("team_dashboard_graph_7_days_button"),selected:a===jo.Last7Days,onClick:()=>{i(jo.Last7Days)},size:"small"}):null,s.length>30?(0,c.tZ)(d.yPU,{label:r("team_dashboard_graph_30_days_button"),selected:a===jo.Last30Days,onClick:()=>{i(jo.Last30Days)},size:"small"}):null,(0,c.tZ)(d.yPU,{label:r("team_dashboard_graph_all_time_button"),selected:a===jo.AllTime,onClick:()=>{s.length<=7||i(jo.AllTime)},size:"small"}))),(0,c.tZ)("section",{sx:{width:"100%",height:"100px",flexGrow:1}},(0,c.tZ)(qo.h,{sx:{height:"100%",width:"100%"}},(0,c.tZ)(Wo.w,{data:t?[]:o,sx:{position:"relative",right:"18px"}},lr||(lr=(0,c.tZ)(Ho.q,{vertical:!1})),(0,c.tZ)(Ko.B,{domain:[0,100],tickFormatter:e=>`${e}%`,fontSize:"small"}),(({historyToDisplay:e,passwordHealthHistoryEmpty:t,view:a})=>{const{translate:i}=(0,p.Z)(),s=0!==e.length?(e=>{const t=new Date,a=new Date(e);let n=12*(t.getFullYear()-a.getFullYear());return n-=a.getMonth(),n+=t.getMonth(),n+1})(e[0].date):0;return ir(a,e,s),n.createElement(nr.K,{dataKey:"date",ticks:t?[]:ir(a,e,s),tickSize:4,tickFormatter:t?()=>"":e=>((e,t,a,n)=>{const i=t===jo.AllTime&&a>=5,s=new Date(e),o=n.shortDate(s,i?ea._T.MMM_YYYY:ea._T.L_M_D),r=n.shortDate(s,ea._T.MMMM);if(i)return o===r||o.endsWith(".")?o:`${o}.`;const[l,c]=o.split(" ");return l===r?o:`${l}. ${c}`})(e,a,s,i),fontSize:"small"})})({historyToDisplay:o,passwordHealthHistoryEmpty:t,view:a}),(0,c.tZ)(Qo.u,{content:e=>{const t=r.shortDate((0,Xo.Z)(e.label),{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"});return(0,c.tZ)(rr,{...e,label:t})},animationDuration:500,animationEasing:"ease-out",cursor:!t}),(0,c.tZ)(Yo.x,{dataKey:"securityIndex",stroke:"#0e6476",strokeWidth:"2",dot:!1,activeDot:{strokeWidth:0,r:4},animationDuration:500,isAnimationActive:!0})))))};var dr=a(979869);const ur=({isLoading:e,history:t,creationDateUnix:a,passwordHealthHistoryEmpty:n})=>{const{translate:i}=(0,p.Z)(),s=(0,dr.I)(),o=s.status===Re.rq.Success&&!s.isDisabled,r=!e&&n,l=!e&&!n&&a<zo;return(0,y.tZ)("section",{sx:{padding:"3%",flexGrow:1,display:"flex",flexDirection:"column"}},(0,y.tZ)(d.X6q,{size:"x-small",sx:{marginBottom:"1%"}},i("team_dashboard_graph_heading")),r?(0,y.tZ)(d.vDh,{size:"small",sx:{marginBottom:"11px"},title:i(o?"team_dashboard_graph_not_enough_data_warning":"team_dashboard_graph_not_enough_data_warning_min",{minPasswords:5})}):null,l?(0,y.tZ)(d.vDh,{size:"small",sx:{marginBottom:"11px"},title:i("team_dashboard_graph_no_old_data_warning")}):null,(0,y.tZ)(cr,{history:t,passwordHealthHistoryEmpty:n}))},_r=({title:e,value:t,color:a})=>(0,c.tZ)("div",{sx:{marginRight:"8px",minWidth:"70px"}},(0,c.tZ)("header",null,(0,c.tZ)("h1",null,e)),(0,c.tZ)("div",{sx:{fontSize:"x-large",fontWeight:"bold",color:a}},t)),mr=({compromised:e,passwords:t,reused:a,safe:n,securityIndex:i,weak:s,passwordHealthHistoryEmpty:o})=>{const{translate:r}=(0,p.Z)();return(0,c.tZ)("section",{sx:{borderTop:`1px solid ${d.colors.grey05}`,display:"flex",padding:"3% 2%"}},(0,c.tZ)("div",{sx:{width:"240px",padding:"0 24px",borderRight:`1px solid ${d.colors.grey05}`}},(0,c.tZ)("header",null,(0,c.tZ)("h1",null,r("team_dashboard_password_health_breakdown_score"))),(0,c.tZ)("div",{sx:{fontSize:"x-large",fontWeight:"bold",display:"inline-flex",alignItems:"center","& > svg":{marginRight:"7px"}}},(0,c.tZ)(Bo,{showPasswordHealthScore:!o,securityIndex:i,shieldSize:20}))),(0,c.tZ)("div",{sx:{display:"flex",justifyContent:"space-between",padding:"0 24px",width:"100%"}},(0,c.tZ)(_r,{title:r("team_dashboard_password_health_breakdown_total"),value:t}),(0,c.tZ)(_r,{title:r("team_dashboard_password_health_breakdown_safe"),value:n,color:n?d.colors.accessibleValidatorGreen:void 0}),(0,c.tZ)(_r,{title:r("team_dashboard_password_health_breakdown_weak"),value:s,color:s?d.colors.orange00:void 0}),(0,c.tZ)(_r,{title:r("team_dashboard_password_health_breakdown_reused"),value:a,color:a?d.colors.orange00:void 0}),(0,c.tZ)(_r,{title:r("team_dashboard_password_health_breakdown_compromised"),value:e,color:e?d.colors.accessibleValidatorRed:void 0})))},pr=({isLoading:e,report:t,passwordHealthHistoryEmpty:a,creationDateUnix:n})=>(0,c.tZ)(d.Zbd,{sx:{height:"100%",display:"flex",flexDirection:"column"}},(0,c.tZ)(ur,{isLoading:e,history:t.passwordHealthHistory,passwordHealthHistoryEmpty:a,creationDateUnix:n}),(0,c.tZ)(mr,{...t.passwordHealth,passwordHealthHistoryEmpty:a})),gr="https://support.dashlane.com/hc/articles/4507132108946",yr={HEADING:"team_dashboard_dark_web_insights_heading",SECURITY_INCIDENTS:{LABEL:"team_dashboard_dark_web_insights_security_incidents",TOOLTIP:"team_dashboard_dark_web_insights_security_incidents_tooltip"},EMAILS_AFFECTED:{LABEL:"team_dashboard_dark_web_insights_emails_affected",TOOLTIP:"team_dashboard_dark_web_insights_emails_affected_tooltip"},SUGGESTED_INVITATION:{LABEL:"team_dashboard_dark_web_insights_suggested_invitations",TOOLTIP:"team_dashboard_dark_web_insights_suggested_invitations_tooltip"},RETURNING_USER_CTA:"team_dashboard_dark_web_insights_go_to_cta",RETURNING_USER_VIEW_DOMAIN_GUIDE_CTA:"team_dashboard_dark_web_insights_view_guide_cta",UNVERIFIED_MSG:"team_dashboard_dark_web_insights_domain_unverified_msg",UNVERIFIED_SUBTEXT:"team_dashboard_dark_web_insights_domain_unverified_sub_text",INCIDENT_FREE_MSG:"team_dashboard_dark_web_insights_domain_incident_free_msg",INCIDENT_FREE_SUBTEXT:"team_dashboard_dark_web_insights_domain_incident_free_sub_text",GENERATING_INSIGHTS_MESSAGE:"team_dashboard_dark_web_insights_generating_msg",NEW_INCIDENTS_NOTIFICATION_MSG:{ONE:"team_dashboard_dark_web_insights_notify_new_incidents_one",MANY:"team_dashboard_dark_web_insights_notify_new_incidents_many"},TEAM_NEW_LABEL:"team_new_label"},br=({count:e,labelAndTooltip:t,primaryColor:a,secondaryColor:n})=>{const{translate:i}=(0,p.Z)();return(0,c.tZ)(d.Ejs,{gap:"6px",sx:{margin:"16px 0"}},(0,c.tZ)(d.X6q,{size:"x-small",color:a,sx:{width:"44px"}},e),(0,c.tZ)(d.ua7,{sx:{fontSize:2,maxWidth:"180px"},placement:"top",content:i(t.TOOLTIP)},(0,c.tZ)(d.nvN,{"aria-label":i(t.LABEL),size:"small",sx:{minWidth:"calc(100% - 70px)",width:"min-content"},color:null!=n?n:a},i(t.LABEL)),(0,c.tZ)(d.uMt,{size:13,tabIndex:0,color:null!=n?n:a})))},hr=({children:e})=>(0,c.tZ)(d.Zbd,{sx:{minHeight:"418px",width:"282px"}},(0,c.tZ)(d.Ejs,{sx:{minHeight:"418px",padding:"20px"},flexDirection:"column",justifyContent:"space-between",alignItems:"start"},e)),xr=({text:e,subtext:t,imgSrc:a})=>(0,c.tZ)(n.Fragment,null,(0,c.tZ)("img",{src:a}),(0,c.tZ)(d.nvN,{size:"medium",bold:!0,sx:{marginBottom:"8px"}},e),(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00},t)),Sr=({domain:e})=>(0,c.tZ)(d.nvN,{size:"x-small",bold:!0,sx:{padding:"4px 8px",backgroundColor:`${d.colors.dashGreen06}`,borderRadius:"4px",width:"fit-content",height:"24px",marginBottom:"34px"}},e),fr=({newLeaksCount:e,newLeaksAffectedEmailCount:t})=>{const{translate:a}=(0,p.Z)(),{setHasNewBreaches:i}=ke();(0,n.useEffect)((()=>{e>0&&i(!0)}),[e,i]);const s=e>1?yr.NEW_INCIDENTS_NOTIFICATION_MSG.MANY:yr.NEW_INCIDENTS_NOTIFICATION_MSG.ONE;return e>0?(0,c.tZ)(d.Ejs,{flexDirection:"row",sx:{backgroundColor:d.colors.pink05,borderRadius:"4px",padding:"5px 8px",marginTop:"25px"}},(0,c.tZ)(d.nvN,{size:"small",color:d.colors.red00,sx:{width:"calc(100% - 5px)"}},a(s,{numIncidents:e,count:t})),(0,c.tZ)(d.P_k,{dot:!0,ariaLabel:a(yr.TEAM_NEW_LABEL)})):null},vr=({domainInfo:e})=>{const t=e.leaksCount,a=e.emailsImpactedCount,i=e.emailsImpactedCount-e.teamMembersImpactedCount;return(0,c.tZ)(n.Fragment,null,(0,c.tZ)(br,{count:t,labelAndTooltip:yr.SECURITY_INCIDENTS,primaryColor:d.colors.dashGreen00,secondaryColor:d.colors.dashGreen01}),(0,c.tZ)(br,{count:a,labelAndTooltip:yr.EMAILS_AFFECTED,primaryColor:d.colors.dashGreen00,secondaryColor:d.colors.dashGreen01}),(0,c.tZ)(br,{count:i,labelAndTooltip:yr.SUGGESTED_INVITATION,primaryColor:d.colors.dashGreen00,secondaryColor:d.colors.dashGreen01}),(0,c.tZ)(fr,{newLeaksCount:e.newLeaksCount,newLeaksAffectedEmailCount:e.newLeaksAffectedEmailCount}))},Cr=({domainName:e,domainInfo:t})=>{const{translate:a}=(0,p.Z)(),{routes:i}=(0,ms.Xo)();return(0,c.tZ)(n.Fragment,null,(0,c.tZ)("section",{sx:{width:"100%"}},(0,c.tZ)(Sr,{domain:e}),t.leaksCount>0?(0,c.tZ)(vr,{domainInfo:t}):(0,c.tZ)(xr,{imgSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIHZpZXdCb3g9IjAgMCA1MiA1MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzMxMTNfMTkwOTY0KSI+CjxyZWN0IHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgcng9IjI2IiBmaWxsPSIjRDlERkUwIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjAuNzIxOSAxMy40NzMzQzE0LjI4MjEgMTQuMjgxNiA5LjcxNjc2IDIwLjE1NzMgMTAuNTI1IDI2LjU5NzJMMTEuMTk1MyAzMS45MzgxTDcuOTg0NDUgMzIuMzQxMUM2Ljg4ODQ4IDMyLjQ3ODYgNi4xMTE1MiAzMy40Nzg2IDYuMjQ5MDggMzQuNTc0Nkw5LjE2NTA4IDU3LjgwOEM5LjMwMjYzIDU4LjkwNCAxMC4zMDI2IDU5LjY4MDkgMTEuMzk4NiA1OS41NDM0TDQwLjI5OTIgNTUuOTE2MUM0MS4zOTUyIDU1Ljc3ODYgNDIuMTcyMSA1NC43Nzg2IDQyLjAzNDYgNTMuNjgyNkwzOS4xMTg2IDMwLjQ0OTJDMzguOTgxIDI5LjM1MzIgMzcuOTgxIDI4LjU3NjIgMzYuODg1MSAyOC43MTM4TDM0LjUxNjEgMjkuMDExMUwzMy44NDU4IDIzLjY3MDJDMzMuMDM3NiAxNy4yMzA0IDI3LjE2MTggMTIuNjY1MSAyMC43MjE5IDEzLjQ3MzNaTTE0LjE3NjUgMjYuNjYxTDE0Ljc4MjQgMzEuNDg3OUwzMC45Mjc1IDI5LjQ2MTVMMzAuMzIxNyAyNC42MzQ2QzI5Ljc2MjIgMjAuMTc2MiAyNS42OTQzIDE3LjAxNTYgMjEuMjM2IDE3LjU3NTJDMTYuNzc3NiAxOC4xMzQ4IDEzLjYxNyAyMi4yMDI2IDE0LjE3NjUgMjYuNjYxWk00Ni43NzUzIDE4LjY1ODZMNDAuNDg1NiAyMi42MTkzTDQxLjkxMTEgMjQuODgyOUw0OC4yMDA3IDIwLjkyMjJMNDYuNzc1MyAxOC42NTg2Wk00My4xODE2IDI3LjI3NjRMNDcuMDcxNyAyNy4zNjhMNDcuMDEwMyAyOS45Nzc3TDQzLjEyMDIgMjkuODg2MUw0My4xODE2IDI3LjI3NjRaTTM3LjQ1NiAxNS43NDIyTDM2LjA3NyAyMC42Nzc3TDM4LjgxNzQgMjEuNDQzNEw0MC4xOTY0IDE2LjUwNzlMMzcuNDU2IDE1Ljc0MjJaIiBmaWxsPSIjMEUzNTNEIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMzExM18xOTA5NjQiPgo8cmVjdCB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIHJ4PSIyNiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",text:a(yr.INCIDENT_FREE_MSG,{domainName:e}),subtext:a(yr.INCIDENT_FREE_SUBTEXT)})),(0,c.tZ)(s.rU,{to:i.teamDarkWebInsightsRoutePath,sx:{textDecoration:"none",color:`${d.colors.midGreen00}`,marginBottom:"16px","&:hover":{textDecoration:"underline"}},onClick:()=>{(0,z.Kz)(new o.UserOpenDomainDarkWebMonitoringEvent({accessPath:o.AccessPath.MainDashboardButton,isFirstVisit:!1}))}},a(yr.RETURNING_USER_CTA)))},Er=({domainName:e})=>{const{translate:t}=(0,p.Z)();return(0,c.tZ)(n.Fragment,null,(0,c.tZ)("section",{sx:{width:"100%"}},(0,c.tZ)(Sr,{domain:e}),(0,c.tZ)(xr,{imgSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUzIiBoZWlnaHQ9IjUzIiByeD0iMjYuNSIgZmlsbD0iI0Q5REZFMCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI2LjgwMDQgMTMuNzUzN0wyNi45NjE2IDEzLjEwOTFDMjcuNjA2MiAxMC42MTEzIDI5Ljg2MjIgOSAzMi4zNjAxIDlDMzUuMzQxMyA5IDM4IDExLjQxNzMgMzggMTQuNDc4OUMzOCAxNi45NzY4IDM2LjMwNzkgMTkuMDcxNiAzMy45NzEyIDE5LjcxNjRWMjAuNzY0SDMwLjc0ODJWMTguODMwM0MzMC43NDgyIDE3Ljc4MjcgMzEuNTU0IDE2LjgxNiAzMi42ODE5IDE2LjczNTRDMzMuODA5OSAxNi41NzQyIDM0Ljc3NjggMTUuNjg3OSAzNC43NzY4IDE0LjQ3OTRDMzQuNzc2OCAxMy4xOTAyIDMzLjY0ODkgMTIuMjIzMyAzMi4zNTk1IDEyLjIyMzNDMzEuMjMxNiAxMi4yMjMzIDMwLjM0NTMgMTIuODY3OSAzMC4wMjI5IDEzLjkxNTRMMjkuODYxNyAxNC41NTk5TDI2LjggMTMuNzU0MkwyNi44MDA0IDEzLjc1MzdaTTM0LjM3NDQgMjMuNzQ1NUMzNC4zNzQ0IDI0Ljg1OCAzMy40NzI2IDI1Ljc2IDMyLjM2MDEgMjUuNzZDMzEuMjQ3NiAyNS43NiAzMC4zNDU2IDI0Ljg1OCAzMC4zNDU2IDIzLjc0NTVDMzAuMzQ1NiAyMi42MzMgMzEuMjQ3NiAyMS43MzEzIDMyLjM2MDEgMjEuNzMxM0MzMy40NzI2IDIxLjczMTMgMzQuMzc0NCAyMi42MzMgMzQuMzc0NCAyMy43NDU1Wk0zNi44NzkxIDM0LjYzMzlDMzYuODc5MSAzMi42MTggMzYuNDE5MyAzMC42ODU5IDM1LjU0MTMgMjguODhMMzEuNjk1OCAyOC44OEwzMi4xOTczIDI5LjcxOTlDMzIuODI0MiAzMC43Njk5IDMzLjIwMDQgMzEuOTAzOSAzMy40MDk0IDMzLjA3OTlMMjkuMzEyOSAzMy4wNzk5QzI5LjI3MTIgMzAuOTggMjguOTc4NCAyOC44OCAyOC41MTg2IDI2LjgyMTlDMjcuNTk4OSAyMy4xNjgxIDI1LjkyNjkgMjEuMzIgMjMuNTAyNCAyMS4zMkMxNi4xMDMyIDIxLjI3OCAxMC4wNDE5IDI3LjI4NDEgMTAuMDAwMiAzNC42NzU5QzkuOTU4NDIgNDIuMDY3NyAxNS44OTQzIDQ4LjE1NzkgMjMuMjkzMyA0OC4xOTk4SDIzLjYyNzhDMzEuMDI2NyA0OC4xMTU4IDM2Ljk2MjUgNDIuMDY3OSAzNi44NzkxIDM0LjYzMzlaTTIxLjAzNjEgMzYuNDRMMjUuOTY4NiAzNi40NEMyNS43NTk1IDQxLjIyNzkgMjQuNzU2NSA0NC44Mzk5IDIzLjUwMjMgNDQuODM5OUMyMi4yNDgyIDQ0LjgzOTkgMjEuMjQ1MSA0MS4yMjc5IDIxLjAzNjEgMzYuNDRaTTIzLjUwMjMgMjQuNjgwM0MyNC43NTY1IDI0LjY4MDMgMjUuNzU5NSAyOC4zMzQyIDI1Ljk2ODYgMzMuMDgwMkgyMS4wMzYxQzIxLjI0NTIgMjguMzM0MiAyMi4yNDgyIDI0LjY4MDMgMjMuNTAyMyAyNC42ODAzWk0xNy42OTE3IDMzLjA4MDJMMTMuNjM2OSAzMy4wODAzQzE0LjA5NjcgMzAuMTQwMSAxNS44OTQxIDI3LjUzNjIgMTguNDg2IDI2LjAyNDJMMTguNzM2OCAyNS44OTgyQzE4LjY1MzEgMjYuMTkyMyAxOC41Njk3IDI2LjQ4NjIgMTguNDg2IDI2LjgyMjJDMTguMDI2MiAyOC44ODAzIDE3LjczMzQgMzAuOTgwMyAxNy42OTE3IDMzLjA4MDJaTTE4LjQ4NiA0Mi42OTgyQzE4LjU2OTcgNDMuMDM0MiAxOC42NTMxIDQzLjMyOCAxOC43MzY4IDQzLjYyMjFMMTguNzM2OCA0My42MjIyQzE3LjEwNjUgNDIuNzQwMSAxNS43MjcgNDEuNDM4MiAxNC44NDkgMzkuODAwMkMxNC4yMjIxIDM4Ljc1MDIgMTMuODQ1OSAzNy42MTYxIDEzLjYzNjkgMzYuNDQwMUgxNy42OTE3QzE3LjczMzQgMzguNTQwMSAxOC4wMjYyIDQwLjY0MDEgMTguNDg2IDQyLjY5ODJaTTI5LjMxMjggMzYuNDQwMUwzMy4zNjc2IDM2LjQ0QzMyLjkwNzggMzkuNDIyMSAzMS4xMTA0IDQxLjk4NDEgMjguNTE4NCA0My40OTYxTDI4LjI2NzcgNDMuNjIyMUMyOC4zNTE0IDQzLjMyOCAyOC40MzQ4IDQzLjAzNDEgMjguNTE4NCA0Mi42OTgxQzI4Ljk3ODMgNDAuNjQgMjkuMjcxMSAzOC41NCAyOS4zMTI4IDM2LjQ0MDFaIiBmaWxsPSIjMEUzNTNEIi8+Cjwvc3ZnPgo=",text:t(yr.UNVERIFIED_MSG),subtext:t(yr.UNVERIFIED_SUBTEXT)})),(0,c.tZ)(d.rUS,{sx:{textDecoration:"none",fontWeight:"lighter",marginBottom:"16px","&:hover":{textDecoration:"underline"}},color:d.colors.midGreen00,target:"_blank",rel:"noopener noreferrer",href:gr,onClick:()=>{(0,z.Kz)(new o.UserOpenHelpCenterEvent({helpCenterArticleCta:o.HelpCenterArticleCta.ViewDomainVerificationGuide}))}},t(yr.RETURNING_USER_VIEW_DOMAIN_GUIDE_CTA)))},Zr=({domainName:e})=>{const{translate:t}=(0,p.Z)();return(0,c.tZ)(n.Fragment,null,(0,c.tZ)(Sr,{domain:e}),(0,c.tZ)(d.HoD,{size:44,color:d.colors.dashGreen00,sx:{alignSelf:"center"}}),(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00,sx:{marginBottom:"3em",overflow:"hidden",width:"-webkit-fill-available"}},t(yr.GENERATING_INSIGHTS_MESSAGE)))},Nr=({verifiedOrPendingDomain:e,dwiSummaryResponse:t})=>{const{translate:a}=(0,p.Z)(),n=e.status===Te.DomainStatus.valid,i=e.name;return(0,c.tZ)(hr,null,(0,c.tZ)(d.X6q,{size:"x-small"},a(yr.HEADING)),n?t?.success?(0,c.tZ)(Cr,{domainName:i,domainInfo:t.data[i]}):(0,c.tZ)(Zr,{domainName:i}):(0,c.tZ)(Er,{domainName:i}))},Tr=a.p+"daa928a30146cfbef943.png";var Dr,Mr;const Ir={TEAM_NEW_LABEL:"team_new_label",HEADING:"team_dashboard_dark_web_insights_discovery_heading",SUBTEXT:"team_dashboard_dark_web_insights_discovery_subtext",ALTERNATE_HEADING:"team_dashboard_dark_web_insights_discovery_heading_alternate",ALTERNATE_SUBTEXT:"team_dashboard_dark_web_insights_discovery_subtext_alternate",SECURITY_INCIDENTS:{LABEL:"team_dashboard_dark_web_insights_security_incidents",TOOLTIP:"team_dashboard_dark_web_insights_security_incidents_tooltip"},EMAILS_AFFECTED:{LABEL:"team_dashboard_dark_web_insights_emails_affected",TOOLTIP:"team_dashboard_dark_web_insights_emails_affected_tooltip"},GET_STARTED_CTA:"team_dashboard_dark_web_insights_discovery_get_started_cta"},Ar=()=>{const{translate:e}=(0,p.Z)(),{routes:t}=(0,ms.Xo)(),a=(0,s.k6)(),{unseen:n}=(0,Ie.m)(Te.NotificationName.TacDarkWebInsightsNewBadge);return(0,c.tZ)(d.zxk,{type:"button",nature:"primary",key:"primary",onClick:()=>{(0,z.Kz)(new o.UserOpenDomainDarkWebMonitoringEvent({accessPath:o.AccessPath.MainDashboardButton,isFirstVisit:n})),a.push(t.teamDarkWebInsightsRoutePath)}},e(Ir.GET_STARTED_CTA))},wr=({data:e,companyName:t})=>{const{translate:a}=(0,p.Z)(),[n]=Object.keys(e),i=e[n];return(0,c.tZ)(hr,null,(0,c.tZ)(d.Cts,{intent:"info"},a(Ir.TEAM_NEW_LABEL)),(0,c.tZ)(d.X6q,{size:"x-small",sx:{marginTop:"1em",width:"100%",overflow:"hidden"}},a(Ir.HEADING,{companyName:t})),(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00},a(Ir.SUBTEXT)),(0,c.tZ)("div",{sx:{backgroundColor:`${d.colors.dashGreen06}`,padding:"2px 14px",width:"100%",borderRadius:"10px"}},(0,c.tZ)(br,{count:i.leaksCount,labelAndTooltip:Ir.SECURITY_INCIDENTS,primaryColor:d.colors.dashGreen01}),(0,c.tZ)(br,{count:i.emailsImpactedCount,labelAndTooltip:Ir.EMAILS_AFFECTED,primaryColor:d.colors.dashGreen01})),Dr||(Dr=(0,c.tZ)(Ar,null)))},kr=({companyName:e})=>{const{translate:t}=(0,p.Z)();return(0,c.tZ)(hr,null,(0,c.tZ)("div",{sx:{alignSelf:"end"}},(0,c.tZ)(d.Cts,{intent:"info"},t(Ir.TEAM_NEW_LABEL))),(0,c.tZ)("img",{sx:{backgroundColor:`${d.colors.midGreen05}`,height:"122px",width:"122px",borderRadius:"50%",backgroundImage:`url(${Tr})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPositionX:"60%"}}),(0,c.tZ)(d.X6q,{size:"x-small",sx:{width:"100%"}},t(Ir.ALTERNATE_HEADING,{companyName:e})),(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00},t(Ir.ALTERNATE_SUBTEXT)),Mr||(Mr=(0,c.tZ)(Ar,null)))},Or=({dwiSummaryResponse:e})=>{var t;const{spaceDetails:a}=(0,wo.fV)(),n=null!=(t=a?.teamName)?t:"-";return e?.success?(0,c.tZ)(wr,{data:e.data,companyName:n}):(0,c.tZ)(kr,{companyName:n})};let Lr;!function(e){e.Loading="loading",e.Start="start",e.Pending="pending",e.Validated="validated",e.Deactivating="deactivating"}(Lr||(Lr={}));const zr=()=>{const[e,t]=(0,n.useState)({domain:null,status:Lr.Loading}),[a,i]=(0,n.useState)([]),s=(0,n.useCallback)((async()=>{try{const e=await Qt.C.getTeamDomains();if(e.success&&e.domains.length){const a=e.domains.filter((e=>e.status===Te.DomainStatus.pending)),n=e.domains.filter((e=>e.status===Te.DomainStatus.valid));if(n.length){i(n);const e=n[0];t({domain:e,status:Lr.Validated})}else if(a.length){const e=a[a.length-1];t({domain:e,status:Lr.Pending})}else t({domain:e.domains[e.domains.length-1],status:Lr.Pending})}else t({domain:null,status:Lr.Start})}catch(e){t({domain:null,status:Lr.Start})}}),[]);return(0,n.useEffect)((()=>{s()}),[s]),{verifiedOrPendingDomain:e,verifiedDomains:a,updateDomainState:s,deactivateDomain:async()=>{if(null!==e.domain){t((e=>({domain:e.domain,status:Lr.Deactivating})));try{(await Qt.C.deactivateTeamDomain({domain:e.domain.name})).success?t({domain:null,status:Lr.Start}):s()}catch(e){s()}}},tryVerifyDomain:async()=>{await Qt.C.completeTeamDomainRegistration(),await s()},selectVerifiedDomain:e=>{t({domain:e,status:Lr.Validated})}}};var jr,Rr,Pr,Ur;const Br={marginTop:"16px","&:hover":{cursor:"pointer",borderWidth:"2px",borderColor:"ds.border.brand.standard.hover"}},Gr={width:"100%",padding:"20px 16px"},Fr={padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",margin:"auto"},Vr=({isOpen:e,plan:t,setModalState:a})=>{const{translate:n}=(0,p.Z)(),i=(0,w.B)();return(0,c.tZ)(d.VqE,{isOpen:e,ariaDescribedby:"dialogContent",onClose:()=>{}},(0,c.tZ)(d.$N8,{title:n("team_payment_method_dialog_title")}),(0,c.tZ)(d.a7O,null,(0,c.tZ)(d.Zbd,{sx:Br,onClick:()=>{const e=`${ie.ub}?plan=${t}&subCode=${i?.subscriptionCode}`;(0,O.Yo)(e)}},(0,c.tZ)(d.T5p,{gap:"12px",gridTemplateColumns:"40px 480px 60px",sx:Gr},jr||(jr=(0,c.tZ)(d.dDn,{sx:Fr},(0,c.tZ)(y.JO,{name:"ItemPaymentOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,c.tZ)(d.dDn,{sx:{margin:"auto 0"}},(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0},n("team_payment_method_dialog_credit_card"))),(0,c.tZ)(d.dDn,{sx:{margin:"auto"}},Rr||(Rr=(0,c.tZ)(y.zx,{mood:"brand",intensity:"supershy",size:"large"},(0,c.tZ)(y.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})))))),(0,c.tZ)(d.Zbd,{sx:Br,onClick:()=>{(0,O.Yo)("https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business&topic=upgrade_to_dashlane_business")}},(0,c.tZ)(d.T5p,{gap:"12px",gridTemplateColumns:"40px 480px 60px",sx:Gr},Pr||(Pr=(0,c.tZ)(d.dDn,{sx:Fr},(0,c.tZ)(y.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"}))),(0,c.tZ)(d.dDn,null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard",bold:!0},n("team_account_invoice_payment")),(0,c.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small",sx:{marginTop:"4px"}},n("team_payment_method_dialog_support_team"))),(0,c.tZ)(d.dDn,{sx:{margin:"auto"}},Ur||(Ur=(0,c.tZ)(y.zx,{mood:"brand",intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,c.tZ)(y.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})})))))),(0,c.tZ)(d.Ejs,{sx:{justifyContent:"flex-end"}},(0,c.tZ)(y.zx,{intensity:"quiet",mood:"neutral",onClick:()=>{a(el.PURCHASE)}},n("_common_action_back"))))},$r=({isOpen:e,planCopy:t,setModalState:a,handleClose:i})=>{const{translate:s}=(0,p.Z)();return(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacAccountTrialEndModal)}),[]),(0,c.tZ)(d.VqE,{isOpen:e,ariaDescribedby:"dialogContent",closeIconName:s("_common_dialog_dismiss_button"),onClose:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.AllOffers],hasChosenNoAction:!0})),i()}},(0,c.tZ)(d.$N8,{title:s("team_dashboard_purchase_dialog_title",{plan:t})}),(0,c.tZ)(d.a7O,null,(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard"},s("team_dashboard_purchase_dialog_paragraph_1")),(0,c.tZ)(d.nvN,{color:"ds.text.neutral.standard",sx:{marginTop:"8px"}},s("team_dashboard_purchase_dialog_paragraph_2")),(0,c.tZ)("div",{sx:{marginTop:"24px"}},(0,c.tZ)(y.ke,{size:"large",mood:"warning",title:s("team_dashboard_purchase_dialog_infobox_copy_1"),description:s("team_dashboard_purchase_dialog_infobox_copy_2")}))),(0,c.tZ)(d.Ejs,{sx:{justifyContent:"flex-end"}},(0,c.tZ)(y.zx,{mood:"brand",onClick:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.AllOffers],chosenAction:o.CallToAction.AllOffers,hasChosenNoAction:!1})),a(el.PAYMENT)}},s("team_account_teamplan_plan_buy_dashlane"))))},qr=({scopedToPage:e=!1})=>(0,c.tZ)(d.Ejs,{justifyContent:"center",alignItems:"center",sx:{backgroundColor:"rgba(245, 247, 247, 0.7)",...e?{}:{position:"absolute",top:0,left:0,right:0,height:"100%"}}},(0,c.tZ)(zi.Z,{containerStyle:{marginTop:"-90px",...e?{position:"relative",height:"90vh"}:{}}}));var Wr,Hr,Kr,Qr=a(754505),Yr=a(799852),Xr=a(481030);const Jr={seats:{pending:0,provisioned:0,used:0},passwordHealthHistory:[],passwordHealth:{compromised:0,passwords:0,reused:0,safe:0,securityIndex:0,weak:0}};let el;!function(e){e[e.PURCHASE=0]="PURCHASE",e[e.PAYMENT=1]="PAYMENT"}(el||(el={}));const tl=({supportHeader:e,children:t})=>{const{translate:a}=(0,p.Z)();return(0,y.tZ)(d.Zbd,{sx:{display:"flex",gap:"8px",flexDirection:"column",padding:"32px 24px",background:"ds.container.agnostic.neutral.supershy"}},(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"}},null!=e?e:a("webapp_tac_infocard_title")),t)};var al;const nl={display:"flex",gap:"4px",padding:"5px 0px",alignItems:"center",color:"ds.text.brand.standard",backgroundColor:"ds.background.default",cursor:"pointer",marginTop:"5px"},il=({internalAction:e,linkText:t})=>(0,y.tZ)("button",{onClick:e,sx:nl},(0,y.tZ)(y.nv,{as:"span",sx:{fontWeight:"500"}},t),al||(al=(0,y.tZ)(y.JO,{name:"ArrowRightOutlined",size:"small",color:"ds.text.brand.standard"})));var sl;const ol=({children:e,href:t,onClick:a,...n})=>(0,y.tZ)(y.nv,{as:"a",onClick:a,href:t,rel:"noopener noreferrer",target:"_blank",color:"ds.text.brand.standard",sx:{display:"inline-flex",flexDirection:"row",":hover":{color:"ds.text.brand.quiet"},":hover + svg":{fill:"ds.text.brand.quiet"}},...n},e,sl||(sl=(0,y.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined",color:"ds.text.brand.standard"})));let rl;!function(e){e[e.ExternalLink=0]="ExternalLink",e[e.InternalLink=1]="InternalLink"}(rl||(rl={}));const ll=({heading:e,description:t,linkText:a,supportHeading:i,linkProps:s})=>(0,y.tZ)(tl,{supportHeader:i},(0,y.tZ)(y.nv,{sx:{mb:"8px"},color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",as:"h3"},e),(0,n.isValidElement)(t)?t:(0,y.tZ)(y.nv,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",sx:{mb:a&&s.linkType===rl.ExternalLink&&s.linkHref?"24px":0}},t),s.linkType===rl.ExternalLink&&s.linkHref?(0,y.tZ)(ol,{href:s.linkHref},a):null,s.linkType===rl.InternalLink?(0,y.tZ)(il,{linkText:a,internalAction:s.internalAction}):null),cl=()=>{const{translate:e}=(0,p.Z)();return(0,y.tZ)("div",null,(0,y.tZ)(tl,null,(0,y.tZ)(y.X6,{as:"h3",textStyle:"ds.title.block.medium"},e("team_breach_report_need_help")),(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},e("team_dark_web_insights_need_help_description")),(0,y.tZ)(ol,{href:"https://support.dashlane.com/hc/articles/5015658490514",onClick:()=>{(0,z.Kz)(new o.UserOpenHelpCenterEvent({helpCenterArticleCta:o.HelpCenterArticleCta.LearnAboutDarkWebInsights}))}},e("team_dark_web_insights_learn_more_txt")),(0,y.tZ)(ol,{href:gr,onClick:()=>{(0,z.Kz)(new o.UserOpenHelpCenterEvent({helpCenterArticleCta:o.HelpCenterArticleCta.LearnAboutDomainVerification}))}},e("team_breach_report_learn_domain_verification_txt"))))},dl=({registerDomain:e=(()=>{}),disabled:t,registrationError:a,clearRegistrationErrors:i=(()=>{}),domainLoadError:s})=>{const{translate:o}=(0,p.Z)(),[r,l]=n.useState(""),c=s?"":o("team_settings_domain_url_placeholder");return n.createElement(n.Fragment,null,n.createElement("div",{className:"domainUrlInput--VQjVVbbN2d"},n.createElement(d.oil,{value:r,placeholder:c,fullWidth:!0,feedbackText:a,feedbackType:a?"error":void 0,onChange:e=>{a&&i(),l(e.target.value)},disabled:!!s||t}),s&&n.createElement("p",{className:"domainLoadErrorText--WEJL2Ne0Pt"},s)),n.createElement(d.zxk,{type:"button",className:I()("domainUrlButton--lFqlfJ3Gzv",{"domainLoadError--ajAHmgDUO9":s}),disabled:t,nature:"secondary",onClick:()=>e(r)},o("team_settings_domain_button_add")))},ul=({domain:e,onConfirm:t,onDismiss:a})=>{const{translate:i}=(0,p.Z)(),[s,o]=(0,n.useState)(!1),r=(0,n.useRef)(!1);return(0,n.useEffect)((()=>()=>{r.current=!0}),[r]),(0,c.tZ)(U.o,{isOpen:!0,onRequestClose:a,footer:(0,c.tZ)(d.cNS,{primaryButtonTitle:i("team_settings_domain_deactivate_button_remove"),primaryButtonOnClick:async()=>{o(!0),await t(),r.current||(o(!1),a())},primaryButtonProps:{disabled:s},secondaryButtonTitle:i("team_settings_domain_deactivate_button_cancel"),secondaryButtonOnClick:a,intent:"primary"}),title:i("team_settings_domain_deactivate_title")},(0,c.tZ)("p",null,i.markup("team_settings_domain_deactivate_description_markup",{domainUrl:e.name})))},_l=({domain:e,deactivateDomain:t,isDisabled:a,disabledTooltipText:i})=>{const[s,o]=(0,n.useState)(!1);return(0,c.tZ)(n.Fragment,null,s?(0,c.tZ)(ul,{domain:e,onConfirm:t,onDismiss:()=>o(!1)}):null,(0,c.tZ)("div",{className:"deactivateTrashcan--nLkrRLE9CS",onClick:()=>{a||o(!0)}},(0,c.tZ)(d.ua7,{passThrough:!a,placement:"top",content:null!=i?i:"",sx:{maxWidth:"180px"}},(0,c.tZ)(d.XHJ,{disabled:a,size:25,color:ht()["--dash-green-00"]}))))},ml="column--QmWD9Od6Ul",pl=({label:e,centerLabel:t,labelHelper:a,children:i})=>n.createElement("div",{className:"row--b0sY7KH6EJ"},n.createElement("div",{className:ml},n.createElement("div",{className:I()("label--IAVg4TIabV",{"centerLabel--kRDzb_3UrS":t})},e),a?n.createElement("div",{className:"labelHelper--ZvFzwTua9S"},a):null),n.createElement("div",{className:ml},i));let gl,yl,bl;!function(e){e[e.ClaimDomain=0]="ClaimDomain",e[e.VerifyDomain=1]="VerifyDomain",e[e.SSOConnector=2]="SSOConnector",e[e.EnableSSO=3]="EnableSSO"}(gl||(gl={})),function(e){e[e.SSOConnector=0]="SSOConnector",e[e.ConfigureIDP=1]="ConfigureIDP",e[e.EnableSSO=2]="EnableSSO"}(yl||(yl={})),function(e){e[e.dismiss=0]="dismiss",e[e.action=1]="action"}(bl||(bl={}));const hl="team_settings_domain_deactivate_button_tooltip_error",xl=({currentStep:e,deactivateDomain:t,domain:a,isDisabled:i,setCurrentSteps:s,verifyDomain:o})=>{var r;const[l,c]=n.useState(!1),{translate:d}=(0,p.Z)();return n.createElement("div",{className:"domainContainer--uTWD0PQykR",key:a.id},(()=>{if(!a)return null;switch(e){case Cl.Verify:case Cl.VerifyFailed:return n.createElement(n.Fragment,null,n.createElement(Tl,{domain:a,verifyDomain:()=>c(!0),domainStep:e}),n.createElement(_l,{domain:a,deactivateDomain:()=>t(a),isDisabled:i,disabledTooltipText:d(hl)}));case Cl.Complete:return n.createElement(n.Fragment,null,r||(r=n.createElement(Il,{domain:a})),n.createElement(_l,{domain:a,deactivateDomain:()=>t(a),isDisabled:i,disabledTooltipText:d(hl)}));default:return null}})(),(()=>{if(!a||!l)return null;switch(e){case Cl.Verify:return n.createElement(kl,{domainName:a.name,onConfirm:()=>o(a),onDismiss:()=>c(!1)});case Cl.VerifyFailed:return n.createElement(Ol,{onDismiss:()=>{s((e=>({...e,[a.id]:Cl.Verify}))),c(!1)}});default:return null}})())},Sl=a(894017),fl="team_settings_domain_register_invalid_error",vl={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support"};let Cl;!function(e){e[e.Register=0]="Register",e[e.Verify=1]="Verify",e[e.VerifyFailed=2]="VerifyFailed",e[e.Complete=3]="Complete"}(Cl||(Cl={}));const El=({isTeamSettingsLoading:e,teamSettings:t,setStepComplete:a,uncompleteSteps:i})=>{const{translate:s}=(0,p.Z)(),[o,r]=n.useState(!1),[l,c]=n.useState([]),[d,u]=n.useState(""),[_,m]=n.useState(""),[g,y]=n.useState({}),b=e=>"valid"===e.status,h=()=>l.filter((e=>b(e))),x=t?.ssoEnabled||!1,S=n.useCallback(((e=[])=>{e.forEach((e=>{switch(e.status){case Te.DomainStatus.pending:y((t=>({...t,[e.id]:Cl.Verify}))),a(gl.ClaimDomain);break;case Te.DomainStatus.valid:y((t=>({...t,[e.id]:Cl.Complete}))),a(gl.ClaimDomain),a(gl.VerifyDomain);break;default:y((t=>({...t,[e.id]:Cl.Register})))}}))}),[]),f=n.useCallback((async()=>{r(!0),m("");const e=await Qt.C.getTeamDomains();return r(!1),e.success?(c(e.domains),e.domains):(m(s("team_settings_domain_fetch_error")),Promise.resolve(void 0))}),[Qt.C.getTeamDomains]),v=async e=>{const t=await Qt.C.completeTeamDomainRegistration();t.success&&t.domains.find((t=>t.name===e.name))&&t.domains.find((t=>t.name===e.name))?.status===Te.DomainStatus.valid?(a(gl.VerifyDomain),y((t=>({...t,[e.id]:Cl.Complete})))):y((t=>({...t,[e.id]:Cl.VerifyFailed})))},C=async e=>{e&&(await Qt.C.deactivateTeamDomain({domain:e.name})).success&&(S(await f()),h().length||i([gl.EnableSSO,gl.SSOConnector,gl.ClaimDomain,gl.VerifyDomain]))};return n.useEffect((()=>{(async()=>{S(await f())})()}),[f,S]),n.createElement(n.Fragment,null,n.createElement(pl,{label:`1. ${s("team_settings_domain_title")}`,labelHelper:s("team_settings_domain_multi_description")},o||e?n.createElement(zi.Z,{size:20,containerStyle:{alignItems:"normal"}}):n.createElement(dl,{registerDomain:async e=>{if(l.length>=5)return;if(!Sl.isFQDN(e))return void u(s(fl));const t=await Qt.C.registerTeamDomain({domain:e});if(t.success)S(await f());else if(!t.success){const{error:{code:e}}=t,a=vl[e];u(s(null!=a?a:fl))}},domainLoadError:_,registrationError:d,disabled:l.length>=5,clearRegistrationErrors:()=>u("")})),o||e||0===l.length?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"divider--SU_Ctssudp"}),n.createElement(pl,{label:s("team_settings_domain_added")},n.createElement("div",{className:"domainsContainer--eO_SBqHaFr"},l.map(((e,t)=>t<5?n.createElement(xl,{key:e.id,currentStep:g[e.id],deactivateDomain:C,domain:e,isDisabled:x&&1===h().length&&b(e),setCurrentSteps:y,verifyDomain:v}):null))))))},{orange00:Zl,dashGreen02:Nl}=d.colors,Tl=({verifyDomain:e,domain:t,domainStep:a})=>{const{translate:i}=(0,p.Z)();return n.createElement(d.T5p,{gap:"10px",gridTemplateColumns:"1fr auto"},n.createElement(d.oil,{value:t?t.name:"",fullWidth:!0,readOnly:!0,endAdornment:n.createElement(d.T5p,{gridTemplateColumns:"auto auto",gap:"5px"},n.createElement(d.nvN,{size:"small",color:a===Cl.VerifyFailed?Zl:Nl},a===Cl.VerifyFailed?i("team_settings_domain_verify_failed"):i("team_settings_domain_not_verified")),n.createElement(d.enX,{color:a===Cl.VerifyFailed?Zl:Nl})),feedbackType:a===Cl.VerifyFailed?"warning":void 0}),n.createElement(d.zxk,{nature:"secondary",onClick:e,type:"button"},i("team_settings_domain_button_verify")))};var Dl;const{accessibleValidatorGreen:Ml}=d.colors,Il=({domain:e})=>n.createElement(d.oil,{value:e.name,endAdornment:Dl||(Dl=n.createElement(d.rE2,{color:Ml})),readOnly:!0,fullWidth:!0});var Al=a(6483);const wl="team_settings_domain_verify_load_error",kl=({description:e,isDarkWebInsights:t,secondaryDescription:a,domainName:i,href:s="https://support.dashlane.com/hc/articles/360013149040",linkLabel:r,onClick:l,onDismiss:u,onConfirm:_})=>{const{translate:m}=(0,p.Z)(),[g,y]=(0,n.useState)({id:0,name:""}),[b,h]=(0,n.useState)(""),[x,S]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{S(!0);try{const e=await Qt.C.getTeamDomains();if(e.success){const t=e.domains.find((e=>e.name===i));t?y(t):h(m(wl))}}catch(e){h(m(wl))}finally{S(!1)}})()}),[i,m]);const{dnsToken:{computedToken:C,challengeDomain:E}={computedToken:"",challengeDomain:""}}=g,Z=({id:e,inputValue:t,labelText:a})=>({textInputProps:{id:e,label:a,readOnly:!0,disabled:x,fullWidth:!0,startAdornment:x?(0,c.tZ)(d.HoD,{color:d.colors.midGreen00}):void 0},iconButtonProps:{disabled:x},inputValue:t});return(0,c.tZ)(d.VqE,{isOpen:!0,onClose:u,closeIconName:m("_common_dialog_dismiss_button")},(0,c.tZ)(d.$N8,{title:m("team_settings_domain_verify_title")}),(0,c.tZ)(d.a7O,null,(0,c.tZ)(d.T5p,{gap:"32px",gridTemplateColumns:"1fr",gridAutoRows:"auto"},(0,c.tZ)(d.nvN,{color:d.colors.grey00},e||m.markup("team_settings_domain_verify_description_markup",{domainUrl:i})),b?(0,c.tZ)(d.nvN,{color:d.colors.red00},b):(0,c.tZ)(n.Fragment,null,(0,c.tZ)(Al.x,{...Z({id:"hostnameInput",labelText:m("team_settings_domain_verify_host"),inputValue:E})}),(0,c.tZ)(Al.x,{...Z({id:"txtValueInput",labelText:m("team_settings_domain_verify_txt"),inputValue:C})})),a?(0,c.tZ)(d.nvN,{color:d.colors.grey00},a):null)),(0,c.tZ)(d.cNS,{primaryButtonTitle:m("team_settings_domain_verify_confirm"),primaryButtonOnClick:async()=>{v(!0);try{await _()}catch(e){h(e.message),t&&(0,z.Kz)(new o.UserVerifyDomainEvent({domainVerificationStep:o.DomainVerificationStep.DomainVerificationError}))}finally{v(!1),t&&(0,z.Kz)(new o.UserVerifyDomainEvent({domainVerificationStep:o.DomainVerificationStep.TapVerifyDomainCtaWithDnsInformation}))}},primaryButtonProps:{disabled:!!b||x||f},intent:"primary"},(0,c.tZ)(d.rUS,{sx:{alignSelf:"center",mr:"auto"},color:d.colors.midGreen00,target:"_blank",rel:"noopener noreferrer",href:s,onClick:l},r||m("team_settings_domain_verify_setup"))))},Ol=({onDismiss:e,domainName:t})=>{const{translate:a}=(0,p.Z)(),i=t?a.markup("team_settings_domain_verify_failure_title_markup",{domainUrl:t}):a("team_settings_domain_verify_failure_title");return n.createElement(d.VqE,{isOpen:!0,onClose:e},n.createElement(d.$N8,{title:i}),n.createElement(d.a7O,null,a("team_settings_domain_verify_failure_desc")),n.createElement(d.cNS,{primaryButtonTitle:a("team_settings_domain_verify_failure_button"),primaryButtonOnClick:e,intent:"primary"}))},Ll=({description:e,isDarkWebInsights:t,secondaryDescription:a,domainName:i,linkLabel:s,href:o,onClick:r,onDismiss:l,onError:d,onSuccess:u})=>{const[_,m]=(0,n.useState)(!1),p=(0,n.useRef)(!1),g=(0,n.useCallback)((async()=>{const e=await Qt.C.completeTeamDomainRegistration();if(!p.current){if(e.success){const t=e.domains.find((e=>e.name===i));t?.status===Te.DomainStatus.valid?u():d&&d()}else m(!0);return()=>{p.current=!0}}}),[i,u,d]);return _?(0,c.tZ)(Ol,{onDismiss:l,domainName:i}):(0,c.tZ)(kl,{description:e,isDarkWebInsights:t,secondaryDescription:a,linkLabel:s,domainName:i,href:o,onConfirm:g,onDismiss:l,onClick:r})},zl=({img:e,title:t,subtitle:a,stepLabel:n,stepNumber:i,caps:s,dotStyle:o})=>(0,c.tZ)("div",{className:"container--vE8T8LPnPv"},(0,c.tZ)("img",{src:e,className:"img--m_seeXYeAW"}),(0,c.tZ)(d.nvN,{size:"medium",caps:!!s||void 0,sx:{marginTop:"-43px",marginBottom:"11px"}},t),(0,c.tZ)(d.nvN,{color:d.colors.grey00,size:"small"},a),(0,c.tZ)("div",{className:"numberContainer--QTEn2wceZi"},(0,c.tZ)("div",{className:"dot--jKi_w8fAhr",style:o}),n&&i?(0,c.tZ)(d.nvN,{size:"small",sx:{textAlign:"left"}},n," ",i):null)),jl=()=>{const{translate:e}=(0,p.Z)(),t={marginTop:"18px"};return(0,c.tZ)(d.Zbd,{sx:{padding:"12px 12px 48px",minHeight:"200px"}},(0,c.tZ)(d.Ejs,{sx:{justifyContent:"space-between",marginTop:"80px",paddingLeft:"24px",borderBottom:`solid 2px ${d.colors.grey00}`}},(0,c.tZ)(zl,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi40NTgzIDEuNUMxMi42NzQyIDEuNSAxLjUgMTIuNjc0MiAxLjUgMjYuNDU4M0MxLjUgNDAuMjQyNCAxMi42NzQyIDUxLjQxNjcgMjYuNDU4MyA1MS40MTY3QzQwLjI0MjQgNTEuNDE2NyA1MS40MTY3IDQwLjI0MjQgNTEuNDE2NyAyNi40NTgzQzUxLjQxNjcgMTIuNjc0MiA0MC4yNDI0IDEuNSAyNi40NTgzIDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjEyMTkgMTIuMTIxOSAwLjUgMjYuNDU4MyAwLjVDNDAuNzk0NyAwLjUgNTIuNDE2NyAxMi4xMjE5IDUyLjQxNjcgMjYuNDU4M0M1Mi40MTY3IDQwLjc5NDcgNDAuNzk0NyA1Mi40MTY3IDI2LjQ1ODMgNTIuNDE2N0MxMi4xMjE5IDUyLjQxNjcgMC41IDQwLjc5NDcgMC41IDI2LjQ1ODNaIiBmaWxsPSIjNjE1QjU3Ii8+CjxwYXRoIGQ9Ik0yNi4xMjgzIDMwSDI3LjYxNjNWMjEuMzI0SDI2LjYyMDNDMjYuNTYwMyAyMi4wNSAyNi4wMzgzIDIyLjQ0NiAyNC41MjAzIDIyLjQ0NlYyMy4zMTZIMjYuMTI4M1YzMFoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=",title:e("team_breach_report_verify_domain_stepper_title"),subtitle:e("team_dark_web_insights_stepper_verify_domain_subtitle"),caps:!0,dotStyle:t}),(0,c.tZ)(zl,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi40NTgzIDEuNUMxMi42NzQyIDEuNSAxLjUgMTIuNjc0MiAxLjUgMjYuNDU4M0MxLjUgNDAuMjQyNCAxMi42NzQyIDUxLjQxNjcgMjYuNDU4MyA1MS40MTY3QzQwLjI0MjQgNTEuNDE2NyA1MS40MTY3IDQwLjI0MjQgNTEuNDE2NyAyNi40NTgzQzUxLjQxNjcgMTIuNjc0MiA0MC4yNDI0IDEuNSAyNi40NTgzIDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjEyMTkgMTIuMTIxOSAwLjUgMjYuNDU4MyAwLjVDNDAuNzk0NyAwLjUgNTIuNDE2NyAxMi4xMjE5IDUyLjQxNjcgMjYuNDU4M0M1Mi40MTY3IDQwLjc5NDcgNDAuNzk0NyA1Mi40MTY3IDI2LjQ1ODMgNTIuNDE2N0MxMi4xMjE5IDUyLjQxNjcgMC41IDQwLjc5NDcgMC41IDI2LjQ1ODNaIiBmaWxsPSIjNjE1QjU3Ii8+CjxwYXRoIGQ9Ik0yNC4wMDQ5IDMwSDMwLjEyNDlWMjguNzUySDI1LjYzMDlWMjguNjI2QzI1LjYzMDkgMjYuNTYyIDMwLjEwNjkgMjYuODUgMzAuMTA2OSAyMy43NTRDMzAuMTA2OSAyMi4yMyAyOC45NDI5IDIxLjIwNCAyNy4wODg5IDIxLjIwNEMyNC45NDA5IDIxLjIwNCAyMy44NTQ5IDIyLjQ4MiAyMy44MzA5IDI0LjA2NkgyNS4yNDY5QzI1LjM2MDkgMjMuMDI4IDI2LjA1MDkgMjIuNDQgMjcuMDQ2OSAyMi40NEMyNy45ODI5IDIyLjQ0IDI4LjU3MDkgMjIuOTggMjguNTcwOSAyMy43NkMyOC41NzA5IDI1Ljg2IDI0LjAwNDkgMjUuNzIyIDI0LjAwNDkgMjguODE4VjMwWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",title:e("team_dark_web_insights_view_insights_stepper_title"),subtitle:e("team_dark_web_insights_view_insights_stepper_subtitle"),caps:!0,dotStyle:t}),(0,c.tZ)(zl,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1NCA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi45NDc5IDEuNUMxMi44ODQ0IDEuNSAxLjUgMTIuNjgzMiAxLjUgMjYuNDU4M0MxLjUgNDAuMjMzNSAxMi44ODQ0IDUxLjQxNjcgMjYuOTQ3OSA1MS40MTY3QzQxLjAxMTQgNTEuNDE2NyA1Mi4zOTU4IDQwLjIzMzUgNTIuMzk1OCAyNi40NTgzQzUyLjM5NTggMTIuNjgzMiA0MS4wMTE0IDEuNSAyNi45NDc5IDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjExMyAxMi4zNTAyIDAuNSAyNi45NDc5IDAuNUM0MS41NDU3IDAuNSA1My4zOTU4IDEyLjExMyA1My4zOTU4IDI2LjQ1ODNDNTMuMzk1OCA0MC44MDM3IDQxLjU0NTcgNTIuNDE2NyAyNi45NDc5IDUyLjQxNjdDMTIuMzUwMiA1Mi40MTY3IDAuNSA0MC44MDM3IDAuNSAyNi40NTgzWiIgZmlsbD0iIzYxNUI1NyIvPgo8cGF0aCBkPSJNMjMuNzMzNSAyMy45MjhIMjUuMTQ5NUMyNS4yMDM1IDIyLjgwNiAyNi4wMDE1IDIyLjM2OCAyNi44Nzc1IDIyLjM2OEMyNy45MDk1IDIyLjM2OCAyOC41NjM1IDIyLjg3OCAyOC41NjM1IDIzLjU1QzI4LjU2MzUgMjQuMjgyIDI3Ljg0MzUgMjQuODUyIDI2LjgxNzUgMjQuODgyTDI2LjA3MzUgMjQuOTEyVjI2LjFMMjYuODc3NSAyNi4xMjRDMjcuOTYzNSAyNi4xNDggMjguNzc5NSAyNi42NTIgMjguNzc5NSAyNy41MzRDMjguNzc5NSAyOC4zNTYgMjguMDUzNSAyOC45MjYgMjYuODgzNSAyOC45MjZDMjUuOTQxNSAyOC45MjYgMjUuMjQ1NSAyOC40MzQgMjUuMDc3NSAyNy40MDJIMjMuNjU1NUMyMy42OTE1IDI5LjA4MiAyNC45MDM1IDMwLjEyIDI2Ljg1MzUgMzAuMTMyQzI4LjgwOTUgMzAuMTQ0IDMwLjM0NTUgMjkuMjIgMzAuMzQ1NSAyNy41N0MzMC4zNDU1IDI2LjQxOCAyOS41NTM1IDI1LjcxNiAyOC41MDk1IDI1LjQyOEMyOS42MjU1IDI1LjA0NCAzMC4xMjk1IDI0LjM0OCAzMC4xMjk1IDIzLjQ5QzMwLjEyOTUgMjEuOTcyIDI4Ljc3MzUgMjEuMjA0IDI2Ljg5NTUgMjEuMjA0QzI1LjE0MzUgMjEuMjA0IDIzLjczMzUgMjIuMTQ2IDIzLjczMzUgMjMuOTI4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",title:e("team_breach_report_reduce_risk_title"),subtitle:e("team_breach_report_reduce_risk_subtitle"),caps:!0,dotStyle:t})))};var Rl,Pl=a(417468);const Ul=a(894017),Bl="team_breach_report_domain_register_invalid_error",Gl={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support",DOMAIN_ALREADY_EXISTS:"team_settings_domain_register_duplicated_error"},Fl=({onSuccess:e,onError:t})=>{const{translate:a}=(0,p.Z)(),i=(0,Pl.f)(),[s,r]=(0,n.useState)(""),[l,u]=(0,n.useState)(""),[_,m]=(0,n.useState)(!1),[g,y]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{if(void 0!==i){const e=i.substring(i.lastIndexOf("@")+1);r(e)}}),[i]),(0,c.tZ)(n.Fragment,null,Rl||(Rl=(0,c.tZ)(jl,null)),(0,c.tZ)("div",null,(0,c.tZ)(d.Zbd,{sx:{padding:"24px",margin:"24px 0"}},(0,c.tZ)(d.X6q,{size:"x-small"},a("team_dark_web_insights_verify_domain_title")),(0,c.tZ)(d.nvN,{sx:{marginBottom:"20px",marginTop:"10px"},color:d.colors.grey00},a("team_breach_report_verify_domain_description")),(0,c.tZ)(d.Ejs,{gap:"16px"},(0,c.tZ)(d.k$b,{sx:{width:"75%"}},(0,c.tZ)(d.oil,{onChange:e=>{r(e.target.value),u("")},fullWidth:!0,value:s,autoFocus:!0,endAdornment:l||""===s||!Ul.isFQDN(s)?void 0:(0,c.tZ)(d.rE2,{color:d.colors.accessibleValidatorGreen}),feedbackText:l||void 0,feedbackType:l?"error":void 0})),(0,c.tZ)(d.k$b,{sx:{width:"20%"}},(0,c.tZ)(d.zxk,{type:"button",disabled:""===s||g,onClick:()=>{(async e=>{if(!Ul.isFQDN(e))return void u(a(Bl));y(!0);const t=await Qt.C.registerTeamDomain({domain:e});if(y(!1),t.success)return u(""),void m(!0);if(!t.success){const{error:{code:e}}=t,n=Gl[e];u(a(null!=n?n:Bl))}})(s),(0,z.Kz)(new o.UserVerifyDomainEvent({domainVerificationStep:o.DomainVerificationStep.TapContinueCtaWithDomainUrl}))}},a("team_dwi_verify_domain_button"))))),_?(0,c.tZ)(Ll,{description:a.markup("breach_report_verify_domain_dialog_description_markup"),secondaryDescription:a("breach_report_verify_domain_dialog_secondary_description"),linkLabel:a("breach_report_verify_domain_href_label"),href:gr,onClick:()=>{(0,z.Kz)(new o.UserOpenHelpCenterEvent({helpCenterArticleCta:o.HelpCenterArticleCta.ViewDomainVerificationGuide}))},domainName:s,onSuccess:()=>{e(s)},isDarkWebInsights:!0,onError:t,onDismiss:t}):null))};async function Vl(e,t,a=0){const n=await Qt.C.getDarkWebInsightsReportResults({domain:e,offset:a,count:t});if(n?.success)return n.data;throw new Error("[fetchDarkWebInsightsResults] - Server Error: Unable to load dark web insight report results data")}var $l,ql,Wl;const Hl=({domainName:e})=>{const{translate:t}=(0,p.Z)();return(0,c.tZ)(d.Zbd,{sx:{minHeight:"575px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},$l||($l=(0,c.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEzIiBoZWlnaHQ9IjExMyIgdmlld0JveD0iMCAwIDExMyAxMTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjAuNSIgd2lkdGg9IjExMiIgaGVpZ2h0PSIxMTMiIHJ4PSI1NiIgZmlsbD0iI0Y1RjdGNyIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUwLjAzMzggMjYuNTYyMkM0MC45NzkgMjcuNjk4NiAzNC41NiAzNS45NjAyIDM1LjY5NjQgNDUuMDE1TDM2LjY0OTUgNTIuNjA4NUwzMS45OTUyIDUzLjE5MjZDMzAuODk5MiA1My4zMzAyIDMwLjEyMjMgNTQuMzMwMSAzMC4yNTk4IDU1LjQyNjFMMzQuNTYyMSA4OS43MDVDMzQuNjk5NyA5MC44MDEgMzUuNjk5NyA5MS41Nzc5IDM2Ljc5NTYgOTEuNDQwNEw3OS4wNDI4IDg2LjEzOEM4MC4xMzg4IDg2LjAwMDQgODAuOTE1NyA4NS4wMDA1IDgwLjc3ODIgODMuOTA0NUw3Ni40NzU5IDQ5LjYyNTZDNzYuMzM4MyA0OC41Mjk2IDc1LjMzODQgNDcuNzUyNyA3NC4yNDI0IDQ3Ljg5MDJMNjkuNDM5NiA0OC40OTNMNjguNDg2NiA0MC44OTk1QzY3LjM1MDEgMzEuODQ0OCA1OS4wODg1IDI1LjQyNTcgNTAuMDMzOCAyNi41NjIyWk00MC43NDk5IDQ0LjQ2OTlMNDEuNjkxOSA1MS45NzU2TDY0LjM5MjggNDkuMTI2NUw2My40NTA3IDQxLjYyMDhDNjIuNjY0IDM1LjM1MjEgNTYuOTQ0NCAzMC45MDgxIDUwLjY3NTcgMzEuNjk0OUM0NC40MDcxIDMyLjQ4MTcgMzkuOTYzMSAzOC4yMDEyIDQwLjc0OTkgNDQuNDY5OVpNNzguMTg0MiAzMi4yODA4TDc0LjE0ODUgMzYuNDAzNkw3NS43NCAzNy45NjE2TDc5Ljc3NTggMzMuODM4OEw3OC4xODQyIDMyLjI4MDhaTTc3LjI0NzEgNDAuMDg4Mkw3OS45MzA0IDM5LjUxNDhMODAuMjkzMiA0MS4yMTI1TDc3LjYwOTkgNDEuNzg1OUw3Ny4yNDcxIDQwLjA4ODJaTTcxLjA0MTMgMzEuODczOEw3MC44ODg3IDM1Ljg0ODRMNzIuNzg0MiAzNS45MjEyTDcyLjkzNjggMzEuOTQ2Nkw3MS4wNDEzIDMxLjg3MzhaIiBmaWxsPSIjOUZBRUIxIi8+Cjwvc3ZnPgo="})),ql||(ql=(0,c.tZ)("br",null)),(0,c.tZ)(d.nvN,{color:d.colors.black,bold:!0,size:"large"},t("team_dashboard_dark_web_insights_domain_incident_free_title",{domainName:e})),Wl||(Wl=(0,c.tZ)("br",null)),(0,c.tZ)(d.nvN,{color:d.colors.grey00},t("team_dwi_domain_incident_free_description")))};var Kl,Ql;const Yl={minHeight:"575px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},Xl=()=>{const{translate:e}=(0,p.Z)();return(0,c.tZ)(d.Zbd,{sx:Yl},(0,c.tZ)(d.HoD,{size:88,color:d.colors.dashGreen00,strokeWidth:1}),Kl||(Kl=(0,c.tZ)("br",null)),(0,c.tZ)(d.nvN,{color:d.colors.grey00},e("team_dark_web_insights_scanning_incidents_txt")))},Jl=()=>{const{translate:e}=(0,p.Z)();return(0,c.tZ)(d.Zbd,{sx:Yl},(0,c.tZ)(d.HoD,{size:88,color:d.colors.dashGreen00,strokeWidth:1}),Ql||(Ql=(0,c.tZ)("br",null)),(0,c.tZ)(d.nvN,{color:d.colors.grey00},e("team_dashboard_dark_web_insights_generating_msg")))};var ec=a(96805);const tc=({breach:e,id:t,isFirstInGroup:a=!1,isLastInGroup:n=!1,opened:i=!1})=>{const{translate:s}=(0,p.Z)();return(0,c.tZ)("tr",{id:t,sx:{backgroundColor:d.colors.grey06,borderLeft:`3px solid ${d.colors.dashGreen00}`,display:i?"table-row":"none",height:"44px","> td":{verticalAlign:"middle",padding:"5px 16px",paddingTop:a?"18px":void 0,paddingBottom:n?"18px":void 0}}},(0,c.tZ)("td",{colSpan:2},(0,c.tZ)(d.nvN,{size:"small",as:"div",sx:{fontWeight:"light",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},(0,c.tZ)("div",{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}},e.domain&&""!==e.domain?(0,c.tZ)(d.plG,{size:"small",text:e.domain,backgroundColor:d.colors.dashGreen00}):null,(0,c.tZ)("div",{title:e.domain,sx:{paddingLeft:"8px",width:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e.domain)))),(0,c.tZ)("td",null,(0,c.tZ)(d.nvN,{sx:{"::first-letter":{textTransform:"uppercase"},textTransform:"lowercase"},size:"x-small",color:d.colors.grey00},e.types.map((e=>s(nc[e]))).join(", "))),(0,c.tZ)("td",{colSpan:3},(0,c.tZ)(d.nvN,{size:"x-small",as:"span",color:d.colors.grey00},(0,c.tZ)(Us.v,{date:(0,Ht.Z)(e.breachDateUnix),format:ea._T.ll}))))},ac={borderBottom:`1px solid ${d.colors.dashGreen05}`,height:"55px",position:"relative",borderLeft:"3px solid white","&:hover,:focus-visible":{cursor:"pointer",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.16)"},'&[aria-expanded="true"]':{borderLeftColor:d.colors.dashGreen00},"> td":{verticalAlign:"middle",padding:"0 16px"}},nc={[ec.BreachType.Password]:"team_dark_web_insights_incident_data_type_password",[ec.BreachType.CreditCard]:"team_dark_web_insights_incident_data_type_credit_card",[ec.BreachType.IPAddress]:"team_dark_web_insights_incident_data_type_ip_address",[ec.BreachType.MailingAddress]:"team_dark_web_insights_incident_data_type_mailing_address",[ec.BreachType.Phone]:"team_dark_web_insights_incident_data_type_phone",[ec.BreachType.Email]:"team_dark_web_insights_incident_data_type_email",[ec.BreachType.Social]:"team_dark_web_insights_incident_data_type_social",[ec.BreachType.GeoLocation]:"team_dark_web_insights_incident_data_type_geolocation",[ec.BreachType.UserName]:"team_dark_web_insights_incident_data_type_username",[ec.BreachType.PersonalInfo]:"team_dark_web_insights_incident_data_type_personalinfo"},ic=({userReport:e,isPendingMember:t=!1,onInviteAction:a,shouldShowInviteButton:i})=>{const{translate:s}=(0,p.Z)(),[o,r]=(0,n.useState)(!1),l=e.leaks?.map(((t,a)=>`${e.email}-${a}`)).join(" ");return(0,c.tZ)(n.Fragment,null,(0,c.tZ)("tr",{id:e.email,key:e.email,tabIndex:0,"aria-expanded":o,"aria-controls":l,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),r((e=>!e)))},onClick:()=>{r((e=>!e))},sx:ac},(0,c.tZ)("td",null,(0,c.tZ)(d.nvN,{size:"x-small",as:"span"},e.email)),(0,c.tZ)("td",null,(0,c.tZ)(d.Ejs,{flexDirection:"row"},(0,c.tZ)(d.nvN,{size:"medium",as:"span",sx:{fontWeight:"bold"}},e.breachesCount),e.viewStatus===ec.EmailIncidentViewStatus.New?(0,c.tZ)(d.P_k,{dot:!0,ariaLabel:s("team_new_label")}):null)),(0,c.tZ)(d.nvN,{size:"x-small",as:"td",color:d.colors.grey00,sx:{maxWidth:"160px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textTransform:"lowercase","::first-letter":{textTransform:"uppercase"}}},(e=>{const t=e.leaks.map((e=>e.types.map((e=>s(nc[e])))));return[...new Set(t.flat())].join(", ")})(e)),(0,c.tZ)("td",null,(0,c.tZ)(d.nvN,{size:"x-small",as:"span",color:d.colors.grey00},(0,c.tZ)(Us.v,{date:(0,Ht.Z)(e.leaks[0].breachDateUnix),format:ea._T.ll}))),(0,c.tZ)("td",null,i?(0,c.tZ)(d.zxk,{onClick:()=>{a(e.email)},type:"button",nature:"secondary"},s("team_dark_web_insights_incident_summary_invite_button")):(0,c.tZ)(d.nvN,{size:"x-small",as:"span",color:d.colors.grey00},s(t?"team_dark_web_insights_incident_summary_pending":"team_dark_web_insights_incident_summary_member"))),(0,c.tZ)("td",{"aria-label":s("team_dark_web_insights_incident_summary_expand")},(0,c.tZ)(d.veu,{sx:{transform:o?"scale3D(1, -1, 1)":"scale3D(1, 1, 1)"}}))),e.leaks.map(((t,a,n)=>{const i=`${e.email}-${t.domain}-${t.breachDateUnix}`;return(0,c.tZ)(tc,{id:i,key:i,breach:t,opened:o,isFirstInGroup:0===a,isLastInGroup:a===n.length-1})})))},sc=({emailsToInvite:e,reports:t,isLoading:a,pendingMembers:n,onInviteAction:i})=>{const{translate:s}=(0,p.Z)(),o=[{headerLabel:s("team_dark_web_insights_table_header_email_affected"),headerKey:"email-affected"},{headerLabel:s("team_dark_web_insights_table_header_incidents"),headerKey:"incidents"},{headerLabel:s("team_dark_web_insights_table_header_data_affected"),headerKey:"data-affected"},{headerLabel:s("team_dark_web_insights_table_header_last_incident"),headerKey:"last-incident"},{headerLabel:s("team_dark_web_insights_table_header_member_status"),headerKey:"member-status"},{headerLabel:"",headerKey:"actions"}];return(0,c.tZ)("div",{sx:{minWidth:"100%",minHeight:"600px"}},a?(0,c.tZ)("div",{sx:{display:"block",width:"950px",height:"600px",position:"absolute",textAlign:"center"}},(0,c.tZ)(d.HoD,{sx:{position:"relative",top:"50%"},size:120,color:d.colors.dashGreen00,strokeWidth:1})):null,(0,c.tZ)("table",{sx:{minWidth:"100%"}},(0,c.tZ)(js,{columns:o}),(0,c.tZ)("tbody",{sx:a?{opacity:"0.5"}:{}},t.map((t=>(0,c.tZ)(ic,{key:t.email,userReport:t,onInviteAction:i,isPendingMember:n.includes(t.email),shouldShowInviteButton:e.includes(t.email)}))))))},oc=({label:e,labelGridArea:t,title:a,titleGridArea:i})=>(0,y.tZ)(n.Fragment,null,(0,y.tZ)(y.nv,{sx:{gridArea:t},textStyle:"ds.specialty.monospace.small",color:"ds.text.warning.quiet"},a),(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",sx:{gridArea:i}},e)),rc=({gridArea:e})=>(0,y.tZ)("div",{sx:{gridArea:e,backgroundColor:"ds.border.neutral.quiet.idle",height:"100%",width:"1px",alignSelf:"center"}});var lc,cc;const dc=({reports:e,suggestedInvitees:t,onInviteAll:a})=>{const{translate:n}=(0,p.Z)();return(0,y.tZ)(d.Zbd,{sx:{marginBottom:"24px",padding:"24px 24px"}},(0,y.tZ)(y.X6,{as:"h3",sx:{marginBottom:"24px"}},n("team_dark_web_insights_summary_title")),(0,y.tZ)(d.T5p,{gridTemplateColumns:"1fr 1px 1fr 1px 1fr max-content",gridTemplateAreas:'"label-0 divider-left label-1 divider-right label-2 invite-all" "title-0 divider-left title-1 divider-right title-2 invite-all"',alignItems:"center",sx:{columnGap:"16px",justifyContent:"center"}},(0,y.tZ)(oc,{labelGridArea:"label-0",label:n("team_dark_web_insights_summary_employees_affected"),titleGridArea:"title-0",title:e.emailsImpactedCount}),lc||(lc=(0,y.tZ)(rc,{gridArea:"divider-left"})),(0,y.tZ)(oc,{labelGridArea:"label-1",label:n("team_dark_web_insights_summary_total_incidents"),titleGridArea:"title-1",title:e.leaksCount}),cc||(cc=(0,y.tZ)(rc,{gridArea:"divider-right"})),(0,y.tZ)(oc,{labelGridArea:"label-2",label:n("team_dark_web_insights_summary_not_protected"),titleGridArea:"title-2",title:n("team_dark_web_insights_summary_employee_invitation",{count:t.length})}),(0,y.tZ)(d.dDn,{gridArea:"invite-all",alignSelf:"center"},(0,y.tZ)(y.zx,{onClick:a},n("team_dark_web_insights_summary_invite_all_button")))))},uc=e=>e.filter((({status:e})=>"removed"!==e)).length;var _c=a(351055),mc=a(336039),pc=a(93131),gc=a(215230),yc=a(420145);const bc={INVITE_RESTRICTED:"team_invite_result_dialog_refused_member_reason_admin_restricted_markup",PRE_EXISTING_MP_USER:"team_invite_result_dialog_refused_member_reason_pre_existing_mp_user_markup",GENERIC_ERROR:"team_invite_result_dialog_refused_member_reason_generic_error_markup",EMAIL_DOES_NOT_MATCH_SSO_DOMAIN:"team_invite_result_dialog_refused_member_reason_EMAIL_DOES_NOT_MATCH_SSO_DOMAIN",ALREADY_MEMBER:"team_invite_result_dialog_refused_member_reason_already_member",ALREADY_MEMBER_OTHER_TEAM:"team_invite_result_dialog_refused_member_reason_already_member_other_team",HAS_AUTOMATIC_RENEW:"team_invite_result_dialog_refused_member_reason_has_automatic_renew",NO_FREE_SLOT_FREE_PLAN:"team_invite_result_dialog_refused_member_reason_no_free_slot_free_plan",SSO_ALREADY_ACTIVATED:"team_invite_result_dialog_refused_member_reason_sso_already_activated",PENDING_DEACTIVATION_DOMAIN_DOES_NOT_MATCH:"team_invite_result_dialog_refused_member_reason_pending_deactivation_domain_does_not_match"};let hc;function xc(e){const[t,a]=n.useState(!0),[i,s]=n.useState({}),[o,r]=n.useState(null),[l,c]=n.useState(null),[d,u]=n.useState(null);return n.useEffect((()=>{if(void 0===e)return;const t=new AbortController;return(async()=>{a(!0);try{const{teamInfo:{ssoServiceProviderUrl:e,ssoIdpMetadata:a,ssoEnabled:n,recoveryEnabled:i,duoSecretKey:o,duoIntegrationKey:r,duoApiHostname:l,duo:d,activeDirectoryToken:_,activeDirectorySyncType:m,activeDirectorySyncStatus:p,uuid:g},capabilities:y,planTier:b}=await(0,ee.I)();if(t.signal.aborted)return;s({ssoServiceProviderUrl:e,ssoIdpMetadata:a,ssoEnabled:n,recoveryEnabled:i,duoSecretKey:o,duoIntegrationKey:r,duoApiHostname:l,duo:d,activeDirectoryToken:_,activeDirectorySyncType:m,activeDirectorySyncStatus:p,uuid:g}),u(b),c(y)}catch(e){const t=new Error(`useTeamSettings: ${e}`);r(t)}finally{a(!1)}})(),()=>{t.abort()}}),[e]),{teamSettingsLoading:t,teamSettingsError:o,teamSettings:i,updateTeamSettings:async t=>{if(null===e)return;const a={teamId:e,settings:t};try{await(0,kn.jy)(a)}catch(e){var n;throw new Error(null!=(n=e?.additionalInfo?.message)?n:"Failed to save metadata")}const o={...i,...t};s(o)},planTier:d,teamCapabilities:l}}!function(e){e.SSO_ALREADY_ACTIVATED="sso_already_activated",e.USER_HAS_MASTER_PASSWORD="USER_HAS_MASTER_PASSWORD"}(hc||(hc={}));const Sc="inviteResultDialogHeader--v_8lOJQXCj",fc="refusedMember--SNbCU5FzB1",vc="reason--jFHJ7kk1d9",Cc="irDialogIcon--Rx0OQmu57r";var Ec;const Zc={invitedMembers:{},refusedMembers:{},show:!1},Nc=()=>{const[e,t]=n.useState(Zc);return{invitePartialSuccessState:e,setInvitePartialSuccessState:t,handleInvitationResultClosed:()=>{t(Zc)}}},Tc=({teamId:e,isOpen:t,invitedMembers:a,refusedMembers:i,onClose:s})=>{const{translate:o}=(0,p.Z)(),[r,l]=n.useState([]),[c,u]=n.useState([]),_=Object.keys(a).length,m=Object.keys(i).length,{teamSettings:g,teamSettingsLoading:y}=xc(e),b=g?.ssoEnabled;return n.useEffect((()=>{if(y)return;const e=[],t=[];Object.keys(i).forEach((a=>{const n=i[a];n!==hc.SSO_ALREADY_ACTIVATED||b?n===hc.USER_HAS_MASTER_PASSWORD&&b?t.push({email:a,key:bc.PRE_EXISTING_MP_USER,errorType:n}):e.push({email:a,errorType:n}):t.push({email:a,key:bc.INVITE_RESTRICTED,errorType:n})})),l(e),u(t)}),[y,b,i]),n.createElement(d.VqE,{closeIconName:o("_common_dialog_dismiss_button"),isOpen:t,onClose:s,ariaDescribedby:"refusedList"},n.createElement(d.$N8,{title:o("team_invite_result_dialog_title")}),n.createElement(d.a7O,null,y?Ec||(Ec=n.createElement(zi.Z,{size:30})):n.createElement(n.Fragment,null,_?n.createElement("div",{className:"successfulInvitesRatio--Jbd0Eax7op"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNiA5TDcuOTU5MjggMTFMMTEuOTc5NiA3TTAuNSA5QzAuNSA0LjMwNTQ1IDQuMzA2MyAwLjUgOSAwLjVDMTMuNjkzNyAwLjUgMTcuNSA0LjMwNTQ1IDE3LjUgOUMxNy41IDEzLjY5NDYgMTMuNjkzNyAxNy41IDkgMTcuNUM0LjMwNjMgMTcuNSAwLjUgMTMuNjk0NiAwLjUgOVoiIHN0cm9rZT0iIzIwQjQyMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",className:Cc}),n.createElement("span",{className:Sc},o("team_invite_result_dialog_successful_invites_rate",{proposedMembers:_+m,invitedMembers:_}))):null,n.createElement("div",{className:"refusedMemberListTitle--Omq1aAlxkx"},n.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNS41IDEyLjVMMTIuNSA1LjVNMTIuNSAxMi41TDUuNSA1LjVNMC41IDlDMC41IDQuMzA1ODcgNC4zMDU4NyAwLjUgOSAwLjVDMTMuNjk0MSAwLjUgMTcuNSA0LjMwNTg3IDE3LjUgOUMxNy41IDEzLjY5NDEgMTMuNjk0MSAxNy41IDkgMTcuNUM0LjMwNTg3IDE3LjUgMC41IDEzLjY5NDEgMC41IDlaIiBzdHJva2U9IiNGRjAwMkQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K",className:Cc}),n.createElement("span",{id:"refusedList",className:Sc},o("team_invite_result_dialog_refused_member_list_title",{count:m}))),n.createElement("ul",{className:"refusedMemberList--pPxtCXVRX3"},r.map((e=>n.createElement("li",{className:fc,key:e.email},e.email,n.createElement("span",{className:vc},": ",bc[e.errorType.toUpperCase()]?o(bc[e.errorType.toUpperCase()]):o.markup(bc.GENERIC_ERROR,{helpCenter:ie.Bw},{linkTarget:"_blank"}))))),c.map((e=>n.createElement("li",{className:fc,key:e.email},e.email,n.createElement("span",{className:vc},": ",(e=>{switch(e){case bc.INVITE_RESTRICTED:return yc.Iu.markup(bc.INVITE_RESTRICTED,{helpCenter:ie.Iw});case bc.PRE_EXISTING_MP_USER:return yc.Iu.markup(bc.PRE_EXISTING_MP_USER,{ssoLimitations:ie.Iw,dashlaneSupport:ie.Bw});default:return yc.Iu.markup(bc.GENERIC_ERROR,{helpCenter:ie.Bw})}})(e.key)))))))),n.createElement(d.cNS,{primaryButtonTitle:o("team_invite_result_dialog_button_ok"),primaryButtonOnClick:s,secondaryButtonTitle:o("team_invite_result_dialog_button_help_center"),secondaryButtonOnClick:()=>(0,O.Yo)(ie.Bw)}))},Dc=({handleClickOnRetry:e})=>{const{translate:t}=(0,p.Z)();return(0,c.tZ)(n.Fragment,null,(0,c.tZ)("div",{sx:{transform:"translate(-5px, -5px)",margin:"25px 0px"}},(0,c.tZ)(d.enX,{color:y.O9.lightTheme.ds.text.danger.quiet,size:75})),(0,c.tZ)(d.$N8,{id:"backup-code-generation-error-dialog-title",title:t("team_members_generate_recovery_codes_error_dialog_title")}),(0,c.tZ)(d.a7O,null,(0,c.tZ)(d.nvN,{id:"backup-code-generation-error-dialog-description",sx:{color:y.O9.lightTheme.ds.text.neutral.standard}},t("team_members_generate_recovery_codes_error_dialog_description"))),(0,c.tZ)(d.cNS,{primaryButtonTitle:t("team_members_generate_recovery_codes_error_dialog_confirm_button"),primaryButtonProps:{id:"backup-code-generation-error-dialog-try-again-button",type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()}))};var Mc,Ic=a(757510);const Ac=({memberLogin:e,recoveryCodes:t,handleClickOnDone:a})=>{const{translate:n}=(0,p.Z)();return(0,c.tZ)("div",null,(0,c.tZ)(d.$N8,{id:"backup-code-generation-dialog-list-title",title:n("team_members_generate_recovery_codes_dialog_title",{memberLogin:e})}),(0,c.tZ)(d.a7O,null,(0,c.tZ)(d.nvN,{id:'id="backup-code-generation-dialog-list-description"',sx:{mb:"24px",mt:"6px",color:y.O9.lightTheme.ds.text.neutral.standard}},n("team_members_generate_recovery_codes_dialog_description",{memberLogin:e})),(0,c.tZ)(d.j49,{color:y.O9.lightTheme.ds.text.brand.standard,id:'id="backup-code-generation-dialog-list-eyebrow"'},n("team_members_generate_recovery_codes_dialog_codes_label")),(0,c.tZ)(d.Zbd,{sx:{mt:"6px",padding:"8px 12px",width:"100%"}},t?.map(((e,t)=>(0,c.tZ)(d.nvN,{key:e,"data-testid":`two-factor-authentication-backup-code-${t}`},e)))),(0,c.tZ)(d.zxk,{sx:{mt:"24px"},type:"button",nature:"secondary",id:"backup-code-generation-dialog-list-download-button",onClick:()=>{const e=t?.join("\n");(0,Xs.W)(e,Ic.B)}},(0,c.tZ)(d.Ejs,null,(0,c.tZ)(d.k$b,{sx:{mr:"10px"}},Mc||(Mc=(0,c.tZ)(d._8t,{size:16}))),n("team_members_generate_recovery_codes_dialog_download_button")))),(0,c.tZ)(d.cNS,{primaryButtonTitle:n("team_members_generate_recovery_codes_dialog_confirm_button"),primaryButtonProps:{id:"id=backup-code-generation-dialog-list-done-button",type:"button",autoFocus:!0},primaryButtonOnClick:()=>a()}))};var wc;const kc=({isOpen:e,memberLogin:t,closeBackupCodeDialog:a})=>{const[i,s]=(0,n.useState)(!1),[o,r]=(0,n.useState)(),l=async()=>{const e=await Qt.C.getRecoveryCodesAsTeamCaptain({login:t});e.success?r(e.data.recoveryCodes):s(!0)},u=()=>{s(!1),r(void 0),a()};(0,n.useEffect)((()=>{e&&!i&&l()}),[e]);const{translate:_}=(0,p.Z)();return(0,c.tZ)(d.VqE,{isOpen:e,closeIconName:i?_("BUTTON_CLOSE_DIALOG"):"",onClose:()=>{u()}},i?(0,c.tZ)(Dc,{handleClickOnRetry:()=>{s(!1),l()}}):o?(0,c.tZ)(Ac,{memberLogin:t,recoveryCodes:o,handleClickOnDone:u}):(0,c.tZ)(n.Fragment,null,(0,c.tZ)(d.$N8,{id:"backup-code-generation-dialog-loader-title",title:_("team_members_generate_recovery_codes_dialog_loading_title",{memberLogin:t})}),(0,c.tZ)(d.a7O,null,(0,c.tZ)("div",{sx:{mt:"26px"}},wc||(wc=(0,c.tZ)(zi.Z,{mode:"light",size:75}))))))};var Oc=a(156652),Lc=a(714072);const zc=({closeDialog:e,resendOrReactivate:t})=>{const{translate:a}=(0,p.Z)(),i=(0,Oa.V)(),{getInviteLinkDataForAdmin:s,inviteLinkDataForAdmin:o}=(0,Lc.h)(),r=!1===o?.disabled,l=(0,ie.cI)(o?.teamKey);return(0,n.useEffect)((()=>{s()}),[]),(0,c.tZ)(U.o,{showCloseIcon:!0,isOpen:!0,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:(0,c.tZ)(n.Fragment,null,(0,c.tZ)(y.JO,{sx:{marginRight:"4px"},name:"NotificationOutlined",size:"medium",color:"ds.text.inverse.catchy"}),a("team_members_resend_invite_dialog_resend_confirm")),secondaryButtonTitle:r?(0,c.tZ)(n.Fragment,null,(0,c.tZ)(y.JO,{sx:{marginRight:"4px"},name:"ActionCopyOutlined",size:"medium",color:"ds.text.neutral.catchy"}),a("team_members_resend_copy_invite_link")):void 0,secondaryButtonOnClick:r?()=>{navigator.clipboard.writeText(l),i.showAlert(a("team_members_share_invite_link_copied"),d.BLW.SUCCESS)}:void 0,primaryButtonOnClick:()=>{t()}}),onRequestClose:e,title:a("team_members_reinvite_dialog_title")},(0,c.tZ)(d.Ejs,{flexDirection:"column",gap:4,sx:{marginTop:"12px"}},(0,c.tZ)(d.nvN,null,a("team_members_resend_invite_dialog_message")),r?(0,c.tZ)(n.Fragment,null,(0,c.tZ)(d.nvN,null,a("team_members_resend_invite_link_description")),(0,c.tZ)(d.nvN,{bold:!0,sx:{textDecoration:"underline"}},l)):null))},jc={REVOKE_ERROR_MSG:"team_members_revoke_error_message",REVOKE_SUCCESS_MSG:"team_members_revoke_success_message",SINGLE:{REVOKE_DIALOG_CONFIRM:"team_members_revoke_single_dialog_confirm",REVOKE_DIALOG_CANCEL:"team_members_revoke_single_dialog_cancel",REVOKE_DIALOG_MSG:"team_members_revoke_single_dialog_message",REVOKE_DIALOG_TITLE:"team_members_revoke_single_dialog_title"},MULTIPLE:{REVOKE_DIALOG_CONFIRM:"team_members_remove_multiple_dialog_confirm",REVOKE_DIALOG_CANCEL:"team_members_revoke_multiple_dialog_cancel",REVOKE_DIALOG_MSG:"team_members_revoke_multiple_dialog_message",REVOKE_DIALOG_TITLE:"team_members_remove_multiple_dialog_title"}},Rc=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,p.Z)(),i=(0,Oa.V)(),{reportTACError:s}=V(),o=1===a.length,r=o?jc.SINGLE:jc.MULTIPLE;return(0,c.tZ)(U.o,{isOpen:!0,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:n(r.REVOKE_DIALOG_CONFIRM),primaryButtonOnClick:()=>(async()=>{t();const o=(0,tn.v0)(e.globalState);if(!o)return void s(new Error(Ya.N));const{teamId:r}=o;if(r)try{const t=a.map((e=>e.login)),{content:{removedMembers:s,unproposedMembers:l,refusedMembers:c}}=await(new nn.Z).revokeMembers({auth:o,memberLogins:t}),u=Object.keys({...s,...l});u.forEach((t=>{const n=a.find((e=>e.login===t));e.dispatch(Oc.Rb(n))})),Object.keys(c).forEach((t=>{const s=a.find((e=>e.login===t));if(!s)throw new Error(`member '${t}' not found in members list`);i.showAlert(n(jc.REVOKE_ERROR_MSG),d.BLW.ERROR),e.dispatch(Oc.Jo(s))})),u.length&&(i.showAlert(n(jc.REVOKE_SUCCESS_MSG,{count:u.length}),d.BLW.SUCCESS),await(0,kn.hh)({teamId:r,action:"memberRevoked",users:u}))}catch(e){s(e)}})(),secondaryButtonTitle:n(r.REVOKE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:o?n(jc.SINGLE.REVOKE_DIALOG_TITLE):n(jc.MULTIPLE.REVOKE_DIALOG_TITLE,{count:a.length})},o?n(jc.SINGLE.REVOKE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(jc.MULTIPLE.REVOKE_DIALOG_MSG))},Pc={CAPTAIN_PROMOTE_ERROR_GENERIC_TITLE:"team_members_captain_promote_error_generic_title",CAPTAIN_PROMOTE_ERROR_GENERIC_MESSAGE:"team_members_captain_promote_error_generic_message",CAPTAIN_PROMOTE_INVITE_ERROR_PK_TITLE:"team_members_captain_promote_invite_error_public_key_title",CAPTAIN_PROMOTE_INVITE_ERROR_PK_MESSAGE:"team_members_captain_promote_invite_error_public_key_message",CAPTAIN_PROMOTE_SUCCESS_MSG:"team_members_captain_promote_success_message",CAPTAIN_MULTIPLE_PROMOTE_DIALOG_MSG_NOBODY:"team_members_captain_multiple_promote_dialog_message_nobody",SINGLE:{PROMOTE_DIALOG_CONFIRM:"team_members_captain_single_promote_dialog_confirm",PROMOTE_DIALOG_CANCEL:"team_members_captain_single_promote_dialog_cancel",PROMOTE_DIALOG_MSG:"team_members_captain_single_promote_dialog_message",PROMOTE_DIALOG_TITLE:"team_members_captain_single_promote_dialog_title"},MULTIPLE:{PROMOTE_DIALOG_CONFIRM:"team_members_captain_multiple_promote_dialog_confirm",PROMOTE_DIALOG_CANCEL:"team_members_captain_multiple_promote_dialog_cancel",PROMOTE_DIALOG_MSG:"team_members_captain_multiple_promote_dialog_message",PROMOTE_DIALOG_TITLE:"team_members_captain_multiple_promote_dialog_title"}},Uc=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,p.Z)(),i=(0,Oa.V)(),{reportTACError:s,addAlertToQueue:o}=V(),r=e=>{const t=su(e);(e=>{e.forEach((e=>{s(e)}))})(t);const a=t[0],i={title:n(Pc.CAPTAIN_PROMOTE_ERROR_GENERIC_TITLE),message:n(Pc.CAPTAIN_PROMOTE_ERROR_GENERIC_MESSAGE)},r={title:n(Pc.CAPTAIN_PROMOTE_INVITE_ERROR_PK_TITLE),message:n(Pc.CAPTAIN_PROMOTE_INVITE_ERROR_PK_MESSAGE)};let l;try{l=JSON.parse(a.message)}catch{l={}}o("MISSING_PUBLIC_KEY"===l?.code?r:i)};if(!a.length)return(0,c.tZ)(U.o,{isOpen:!0,footer:(0,c.tZ)(d.cNS,{intent:"secondary",secondaryButtonTitle:n(Pc.MULTIPLE.PROMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(Pc.MULTIPLE.PROMOTE_DIALOG_TITLE)},n(Pc.CAPTAIN_MULTIPLE_PROMOTE_DIALOG_MSG_NOBODY));const l=1===a.length,u=l?Pc.SINGLE:Pc.MULTIPLE;return(0,c.tZ)(U.o,{isOpen:!0,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:l?n(Pc.SINGLE.PROMOTE_DIALOG_CONFIRM):n(Pc.MULTIPLE.PROMOTE_DIALOG_CONFIRM,{count:a.length}),primaryButtonOnClick:async()=>{const o=(0,tn.v0)(e.globalState);if(!o)return void s(new Error(Ya.N));const{teamId:l}=o;if(!l)return;const{errors:c,successes:u}=await nu(a,(async t=>(await(0,kn.JQ)({teamId:l,memberLogin:t.login}),e.dispatch(Oc.VW(t)),i.showAlert(n(Pc.CAPTAIN_PROMOTE_SUCCESS_MSG,{username:t.name||t.login||"Member"}),d.BLW.SUCCESS),t.login)));if(u.length)try{await(0,kn.hh)({teamId:l,action:"adminPromoted",users:u})}catch(e){r(e)}finally{t()}c.length&&r(c)},secondaryButtonTitle:n(u.PROMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(u.PROMOTE_DIALOG_TITLE)},l?n(Pc.SINGLE.PROMOTE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(Pc.MULTIPLE.PROMOTE_DIALOG_MSG))},Bc={CAPTAIN_DEMOTE_FAILURE_MSG:"team_members_captain_demote_failure_message",CAPTAIN_DEMOTE_SUCCESS_MSG:"team_members_captain_demote_success_message",CAPTAIN_MULTIPLE_DEMOTE_DIALOG_MSG_NOBODY:"team_members_captain_multiple_demote_dialog_message_nobody",SINGLE:{DEMOTE_DIALOG_CONFIRM:"team_members_captain_single_demote_dialog_confirm",DEMOTE_DIALOG_CANCEL:"team_members_captain_single_demote_dialog_cancel",DEMOTE_DIALOG_MSG:"team_members_captain_single_demote_dialog_message",DEMOTE_DIALOG_TITLE:"team_members_captain_single_demote_dialog_title"},MULTIPLE:{DEMOTE_DIALOG_CONFIRM:"team_members_captain_multiple_demote_dialog_confirm",DEMOTE_DIALOG_CANCEL:"team_members_captain_multiple_demote_dialog_cancel",DEMOTE_DIALOG_MSG:"team_members_captain_multiple_demote_dialog_message",DEMOTE_DIALOG_TITLE:"team_members_captain_multiple_demote_dialog_title"}},Gc=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,p.Z)(),i=(0,Oa.V)(),{reportTACError:s}=V(),o=e=>{(e=>{e.forEach((e=>{s(e)}))})(su(e)),i.showAlert(n(Bc.CAPTAIN_DEMOTE_FAILURE_MSG),d.BLW.ERROR)};if(!a.length)return(0,c.tZ)(U.o,{isOpen:!0,footer:(0,c.tZ)(d.cNS,{intent:"secondary",secondaryButtonTitle:n(Bc.MULTIPLE.DEMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(Bc.MULTIPLE.DEMOTE_DIALOG_TITLE)},n(Bc.CAPTAIN_MULTIPLE_DEMOTE_DIALOG_MSG_NOBODY));const r=1===a.length,l=r?Bc.SINGLE:Bc.MULTIPLE;return(0,c.tZ)(U.o,{isOpen:!0,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:r?n(Bc.SINGLE.DEMOTE_DIALOG_CONFIRM):n(Bc.MULTIPLE.DEMOTE_DIALOG_CONFIRM,{count:a.length}),primaryButtonOnClick:async()=>{const r=(0,tn.v0)(e.globalState);if(!r)return void s(new Error(Ya.N));const{teamId:l}=r;if(!l)return;const{errors:c,successes:u}=await nu(a,(async t=>(await(0,kn.Lx)({teamId:l,memberLogin:t.login}),e.dispatch(Oc.bj(t)),i.showAlert(n(Bc.CAPTAIN_DEMOTE_SUCCESS_MSG,{username:t.name||t.login||"Member"}),d.BLW.SUCCESS),t.login)));if(u.length)try{await(0,kn.hh)({teamId:l,action:"adminDemoted",users:u})}catch(e){o(e)}finally{t()}c.length&&o(c)},secondaryButtonTitle:n(l.DEMOTE_DIALOG_CANCEL),secondaryButtonOnClick:t}),onRequestClose:t,title:n(l.DEMOTE_DIALOG_TITLE)},r?n(Bc.SINGLE.DEMOTE_DIALOG_MSG,{username:a[0].login||a[0].name}):n(Bc.MULTIPLE.DEMOTE_DIALOG_MSG))};var Fc;const Vc=({closeDialog:e})=>{const{translate:t}=(0,p.Z)(),a=(0,Oa.V)(),{inviteLinkDataForAdmin:i,getInviteLinkDataForAdmin:s}=(0,Lc.h)();(0,n.useEffect)((()=>{s()}),[s]);const o=(0,ie.cI)(i?.teamKey);return(0,c.tZ)(U.o,{showCloseIcon:!0,isOpen:!0,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:(0,c.tZ)(n.Fragment,null,Fc||(Fc=(0,c.tZ)(y.JO,{name:"ActionCopyOutlined",size:"medium",color:"ds.text.inverse.catchy"})),t("team_memebers_share_link_dialog_copy_link_button")),primaryButtonOnClick:async()=>{await navigator.clipboard.writeText(o),a.showAlert(t("team_members_share_invite_link_copied"),d.BLW.SUCCESS)}}),onRequestClose:e,title:t("team_memebers_share_link_dialog_title")},(0,c.tZ)(n.Fragment,null,(0,c.tZ)(d.nvN,null,t("team_memebers_share_link_dialog_paragraph")),(0,c.tZ)(d.nvN,{sx:{marginTop:"16px",fontWeight:"600"}},o)))},$c=({membersWithoutPublicKey:e,onClose:t})=>{const{translate:a}=(0,p.Z)();return(0,c.tZ)(U.o,{isOpen:Boolean(e.length),footer:(0,c.tZ)(d.cNS,{intent:"secondary",secondaryButtonTitle:a("team_members_error_popup_public_keys_ok"),secondaryButtonOnClick:t}),onRequestClose:t,title:a("team_members_error_popup_public_keys_title")},(0,c.tZ)("div",null,a("team_members_error_popup_public_keys_message"),(0,c.tZ)("ul",{sx:{listStyleType:"disc",paddingLeft:"40px",marginTop:"1em",marginBottom:"1em"}},e.map((({login:e})=>(0,c.tZ)("li",{key:e},e))))))},qc=({closeDialog:e,applyActionOnMembers:t})=>{const{translate:a}=(0,p.Z)(),i=(0,Oa.V)(),{getInviteLinkDataForAdmin:s,inviteLinkDataForAdmin:o,createInviteLink:r,toggleInviteLink:l}=(0,Lc.h)(),{teamInfo:u}=(0,_.G)();return(0,n.useEffect)((()=>{s()}),[s]),(0,c.tZ)(U.o,{showCloseIcon:!0,isOpen:!0,footer:(0,c.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:a("team_activation_dialog_activate_button"),primaryButtonOnClick:()=>(async()=>{var e;const n=null!=(e=u?.teamInfo?.name)?e:"";o?.teamKey?o?.disabled&&await l(!1):await r(n),i.showAlert(a("team_activation_dialog_notification"),d.BLW.SUCCESS),await s(),t("shareInviteLink")})(),secondaryButtonTitle:a("team_activation_dialog_notrightnow_button"),secondaryButtonOnClick:e}),onRequestClose:e,title:a("team_activation_dialog_title")},(0,c.tZ)(d.nvN,null,a("team_activation_dialog_paragrah")))};var Wc=a(918007);const Hc={teamCaptain:"team_members_assignment_dialog_admin_description",groupManager:"team_members_assignment_dialog_group_manager_description",member:"team_members_assignment_dialog_member_description"},Kc=({member:e,newRole:t,updateUsersRights:a,closeDialog:i})=>{const{translate:s}=(0,p.Z)(),o=(0,Oa.V)(),r=Jc(e),[l,c]=(0,n.useState)(null!=t?t:r);return(0,y.tZ)(d.VqE,{isOpen:!0,onClose:i,closeIconName:s("_common_dialog_dismiss_button")},(0,y.tZ)(d.$N8,{title:s("team_members_assignment_dialog_title",{user:e.login})}),(0,y.tZ)(d.a7O,null,(0,y.tZ)(On.S,{value:l,onChange:e=>{c(e.target.value)},groupName:"roles"},Object.values(Xc).map((e=>(0,y.tZ)(On.E,{key:e,value:e},(0,y.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"small"},s(ed[e])),(0,y.tZ)(d.nvN,{color:"ds.text.neutral.quiet",size:"small"},s(Hc[e])))))),l!==Xc.Member?(0,y.tZ)(y.ke,{mood:"brand",title:s("team_members_assignment_dialog_groups_infobox")}):null),(0,y.tZ)(d.cNS,{primaryButtonTitle:s("team_members_assignment_dialog_update_button"),primaryButtonOnClick:async()=>{if(l===r)return i();try{const t=await a([{member:e,oldRole:r,newRole:l}]);if(!t)return;if(t.successes.length)o.showAlert(s("team_members_assignment_single_success",{username:e.name||e.login||"Member",previousRole:s(ed[r]),newRole:s(ed[l])}),d.BLW.SUCCESS);else if(t.errors.length)throw t.errors[0].error}catch{o.showAlert(s("team_members_assignment_single_error",{username:e.name||e.login||"Member"}),d.BLW.ERROR)}finally{i()}},primaryButtonProps:{type:"button",style:{padding:"0 20px"},disabled:l===r},secondaryButtonTitle:s("team_members_assignment_dialog_cancel_button"),secondaryButtonOnClick:i,secondaryButtonProps:{type:"button",style:{border:"none",padding:"0 20px",color:"ds.text.neutral.catchy",backgroundColor:"ds.container.expressive.neutral.quiet.idle"}}}))},Qc="team_members_assignment_multiple_error",Yc=({selectedMembers:e,newRole:t,updateUsersRights:a,closeDialog:n})=>{const{translate:i}=(0,p.Z)(),s=(0,Oa.V)();return(0,y.tZ)(U.o,{isOpen:!0,footer:(0,y.tZ)(d.cNS,{intent:"primary",primaryButtonTitle:i("team_members_assignment_multiple_dialog_submit"),primaryButtonOnClick:async()=>{const o=e.map((e=>({member:e,oldRole:Jc(e),newRole:t})));try{const e=await a(o);if(!e)return;const n=i(ed[t]);e.successes.length&&e.errors.length?s.showAlert(i("team_members_assignment_multiple_partial_success",{countSuccess:e.successes.length,countTotal:o.length,newRole:n}),d.BLW.WARNING):e.successes.length?s.showAlert(i("team_members_assignment_multiple_success",{count:e.successes.length,newRole:n}),d.BLW.SUCCESS):e.errors.length&&s.showAlert(i(Qc,{count:e.errors.length}),d.BLW.ERROR)}catch{s.showAlert(i(Qc,{count:e.length}),d.BLW.ERROR)}finally{n()}},secondaryButtonTitle:i("team_members_assignment_multiple_dialog_cancel"),secondaryButtonOnClick:n}),onRequestClose:n,title:i("team_members_assignment_multiple_dialog_title",{countTotal:e.length,newRole:i(ed[t])})},(()=>{switch(t){case Xc.TeamCaptain:return i("team_members_assignment_multiple_dialog_admin_message");case Xc.GroupManager:return i("team_members_assignment_multiple_dialog_group_manager_message");default:return i("team_members_assignment_multiple_dialog_member_message")}})())};let Xc;!function(e){e.TeamCaptain="teamCaptain",e.GroupManager="groupManager",e.Member="member"}(Xc||(Xc={}));const Jc=e=>e.isTeamCaptain?Xc.TeamCaptain:e.isGroupManager?Xc.GroupManager:Xc.Member,ed={teamCaptain:"team_members_assignment_dialog_admin_label",groupManager:"team_members_assignment_dialog_group_manager_label",member:"team_members_assignment_dialog_member_label"},td=({selectedMembers:e,newRole:t,lee:a,closeDialog:n})=>{const{reportTACError:i}=V(),{translate:s}=(0,p.Z)(),{addGroupManager:o,removeGroupManager:r}=(0,wa.u)(Wc.J),l=async e=>{const t=(0,tn.v0)(a.globalState);if(!t)return void i(new Error(Ya.N));const{teamId:n}=t;if(!n)throw new Error("No team ID when attempting role assignment");const s={errors:[],successes:[]};for await(const{member:t,oldRole:i,newRole:l}of e)try{switch(i){case Xc.TeamCaptain:await(0,kn.Lx)({teamId:n,memberLogin:t.login}),a.dispatch(Oc.bj(t)),await(0,kn.hh)({teamId:n,action:"adminDemoted",users:[t.login]});break;case Xc.GroupManager:await r({memberLogin:t.login,teamId:n}),a.dispatch(Oc.vE(t))}switch(l){case Xc.TeamCaptain:await(0,kn.JQ)({teamId:n,memberLogin:t.login}),a.dispatch(Oc.VW(t)),await(0,kn.hh)({teamId:n,action:"adminPromoted",users:[t.login]});break;case Xc.GroupManager:await o({memberLogin:t.login,teamId:n}),a.dispatch(Oc.lp(t))}s.successes.push(t.login)}catch(e){s.errors.push({member:t.login,error:e})}return s};return e.length?1===e.length?(0,y.tZ)(Kc,{member:e[0],newRole:t,updateUsersRights:l,closeDialog:n}):(0,y.tZ)(Yc,{selectedMembers:e,newRole:null!=t?t:Xc.Member,updateUsersRights:l,closeDialog:n}):(0,y.tZ)(U.o,{isOpen:!0,footer:(0,y.tZ)(d.cNS,{intent:"secondary",secondaryButtonTitle:s("team_members_assignment_nobody_dialog_cancel"),secondaryButtonOnClick:n}),onRequestClose:n,title:s("team_members_assignment_nobody_dialog_title")},s("team_members_assignment_nobody_dialog_message",{newRole:t?s(ed[t]):""}))},ad=e=>e.filter((e=>["pending","proposed"].includes(e.status))),nd="securityScoreOver80--Hgr2G6S0v_",id="securityScoreOver60--_JHvGMsVMu",sd="securityScoreOver40--uopteVjbhe",od="securityScoreOver20--DGwlRT6aTn",rd="securityScoreOver0--KWOlPM746R",ld="securityScoreUnknown--X1UUUGTTOI",cd="box--b300GjbePX",dd="shield--aR0K8YOyOo",ud="medium--oK53lyprG3",_d="small--Y3Ur7GidSI",md=({score:e,size:t,children:a})=>{const i="small"===t?_d:ud;return n.createElement("div",{className:I()(cd,(s=e,s.caseOf({nothing:()=>ld,just:e=>e>=80?nd:e>=60?id:e>=40?sd:e>=20?od:rd})),i)},n.createElement("div",{className:dd}),n.createElement("div",null,a));var s},pd=({score:e})=>{const{translate:t}=(0,p.Z)();return(0,y.tZ)("div",{className:"separator--Ms8Z6xmqQa"},(0,y.tZ)(md,{score:e,size:"medium"},(0,y.tZ)("div",{sx:{color:"ds.text.neutral.standard"}},t("team_members_team_security_score_label"),(0,y.tZ)(d.ua7,{placement:"left",content:t("team_account_heading_security_score_update_frequency")},(0,y.tZ)("span",null,(0,y.tZ)(y.JO,{name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"xsmall",color:"ds.text.neutral.standard"})))),(0,y.tZ)("div",{className:"score--R6OziY_sED"},e.map((e=>`${(0,Uo.E)(e)}%`)).valueOr("–"))))},gd={container:"container--Pih3tFzute",header:"header--sWYs4tJFeg",seatsCount:"seatsCount--nUk1RMEdN1",title:"title--XG6lvelVTY",counter:"counter--qUaIaAvQ63",progressBarBackground:"progressBarBackground--iKhu1za_vU",progressBar:"progressBar--ihAKLss_mc",seatsCountBottomline:"seatsCountBottomline--hr897DNBX6",link:"link--y0d0DGiFaw"},yd=({accountRoute:e,companyName:t,takenSeats:a,totalSeats:i,teamSecurityScore:r,shouldDisplayTeamSecurityScore:l})=>{const{translate:c}=(0,p.Z)();return n.createElement("div",{className:gd.container},n.createElement("div",{className:gd.header},n.createElement("div",{className:gd.seatsCount},n.createElement("div",{className:gd.title},n.createElement("span",{className:gd.counter},c("team_members_header_title_counter",{takenSeats:a,totalSeats:i})),c("team_members_header_title_label",{companyName:t})),n.createElement("div",{className:gd.seatsCountBottomline},n.createElement("div",{className:gd.progressBarBackground},n.createElement("div",{className:gd.progressBar,style:{width:i?Math.round(360*a/i):0}})),n.createElement(s.rU,{to:e,className:gd.link,onClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.BuySeats,clickOrigin:o.ClickOrigin.OnboardedUsersLimit}))}},c("team_members_add_more_seats")))),l&&n.createElement("div",{className:gd.teamSecurityScore},n.createElement(pd,{score:r}))))};var bd=a(957549),hd=a(548095),xd=a(358389);const Sd=({title:e,icon:t,description:a,onClick:n,key:i})=>(0,y.tZ)(d.W7o,{key:i,fullWidth:!0,onClick:n,sx:{height:"auto",textAlign:"left"}},(0,y.tZ)(d.T5p,{gap:"4px",gridTemplateColumns:"20px auto",gridTemplateRows:"auto auto"},(0,y.tZ)(d.dDn,null,(0,y.tZ)(y.JO,{name:t,size:"medium"})),(0,y.tZ)(d.dDn,null,(0,y.tZ)(y.nv,{as:"span",textStyle:"ds.body.standard.strong"},e)),a?(0,y.tZ)(d.dDn,{gridArea:"2 / 2 / 3 / 3",sx:{textWrap:"wrap"}},(0,y.tZ)(y.nv,{as:"span",color:"ds.text.neutral.quiet",textStyle:"ds.title.block.small"},a)):null));var fd;const vd=({members:e,onMembersActionSelect:t})=>{const{translate:a}=(0,p.Z)(),{getInviteLinkDataForAdmin:n}=(0,Lc.h)(),i=(0,xe.o)(R.w.OnboardingWebTeamsignuppage);return(0,y.tZ)(d.h_2,{sx:{zIndex:1001},content:[(0,y.tZ)(Sd,{key:"resendInvite",onClick:()=>{t("reinviteAll",ad(e))},icon:"NotificationOutlined",title:a("team_members_resend_invite_all")}),!!i&&(0,y.tZ)(Sd,{key:"shareInviteLink",onClick:async()=>{const e=await n();t(!e?.teamKey||e?.disabled?"enableInviteLink":"shareInviteLink")},icon:"ActionCopyOutlined",title:a("team_members_share_invite_link")}),(0,y.tZ)(Sd,{key:"exportUserCSV",onClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.DownloadCsv})),(e=>{(0,Xs.S)((e=>{const t=e.map((e=>{var t,a,n,i;return[e.login,e.status,e.twoFAInformation.type,null!=(t=e.nbrPasswords)?t:0,null!=(a=e.weakPasswords)?a:0,null!=(n=e.reused)?n:0,null!=(i=e.compromisedPasswords)?i:0,e.nbrPasswords>=5?e.securityIndex:"unavailable",e.ssoStatus,e.recoveryCreationDateUnix?"enabled":"disabled"].join(",")})).join("\n");return`${["login email","status","twoFA_Status","number_passwords","weak_passwords","reused_passwords","compromised_passwords","password_health_score","sso_status","admin_recovery_status"].join(",")}\n${t}`})(e),"team-members.csv","text/csv;charset=utf-8")})(e)},icon:"DownloadOutlined",title:a("team_members_download_csv"),description:a("team_members_download_csv_description")})].filter(Boolean)},(0,y.tZ)(y.zx,{intensity:"quiet",mood:"neutral",size:"medium",layout:"iconOnly",sx:{marginLeft:"16px"},icon:fd||(fd=(0,y.tZ)(y.JO,{name:"ActionMoreOutlined",size:"medium",color:"ds.text.neutral.standard"}))}))};var Cd=a(821458),Ed=a(833511);const Zd=({onMultipleReassignActionSelect:e})=>{const{translate:t}=(0,p.Z)(),[a,i]=n.useState(!1),s=t=>{e(t),i(!1)};return n.createElement(Ed.j,{onOutsideClick:()=>{i(!1)}},n.createElement("div",{className:"container--zGfanmJ20J"},n.createElement(Cd.Z,{label:t("team_members_bulk_actions_menu_label"),onClick:()=>{i(!a)},classNames:["dropdownButton--eX1Pwf6noX"],icon:n.createElement("img",{className:I()("buttonIcon--K7qOhGWIeC",{"flip--CjjllwCv0e":a}),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iNiIgdmlld0JveD0iMCAwIDEwIDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNSAwLjVMNSA1LjVMMC41IDAuNSIgc3Ryb2tlPSIjNkU4NjhCIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg=="}),iconClassName:["iconContainer--_MWkwTD793"],iconPosition:"right"}),a?n.createElement("ul",{className:"menu--svPbw6Qghp"},n.createElement("li",{key:"admin",onClick:()=>s(Xc.TeamCaptain)},t("team_members_bulk_actions_menu_admin")),n.createElement("li",{key:"groupManager",onClick:()=>s(Xc.GroupManager)},t("team_members_bulk_actions_menu_group_manager")),n.createElement("li",{key:"member",onClick:()=>s(Xc.Member)},t("team_members_bulk_actions_menu_member"))):null))};var Nd;!function(e){e[e.TEAM_CAPTAIN=0]="TEAM_CAPTAIN",e[e.GROUP_MANAGER=1]="GROUP_MANAGER",e[e.BILLING_ADMIN=2]="BILLING_ADMIN",e[e.ACCEPTED=3]="ACCEPTED",e[e.PENDING_PROPOSED=4]="PENDING_PROPOSED",e[e.DEFAULT=5]="DEFAULT"}(Nd||(Nd={}));const Td=({isTeamCaptain:e,isBillingAdmin:t,isGroupManager:a,status:n})=>{switch(!0){case e:return Nd.TEAM_CAPTAIN;case a:return Nd.GROUP_MANAGER;case t:return Nd.BILLING_ADMIN;case"accepted"===n:return Nd.ACCEPTED;case["pending","proposed"].includes(n):return Nd.PENDING_PROPOSED;default:return Nd.DEFAULT}},Dd=(e,t)=>"number"==typeof e?e:t&&["pending","removed"].includes(t)?-1:0,Md=e=>e.map((e=>({...e,filterableStatus:"proposed"===e.status?"pending":e.status,sortableLastActivity:e.revokedDateUnix||e.lastUpdateDateUnix||0,sortablePasswords:Dd(e.nbrPasswords,e.status),sortableRights:Td(e),sortableSecurityScore:Dd(e.securityIndex,e.status),sortableSafePasswords:Dd(e.safePasswords,e.status),sortableWeakPasswords:Dd(e.weakPasswords,e.status),sortableReused:Dd(e.reused,e.status),sortableCompromisedPasswords:Dd(e.compromisedPasswords,e.status)})));var Id=a(654),Ad=a(988852);const wd=({member:e,onDismiss:t,onMemberActionSelect:a})=>{const{translate:n}=(0,p.Z)(),i=!!e.twoFAInformation&&("totp_device_registration"===e.twoFAInformation.type||"totp_login"===e.twoFAInformation.type);return(0,y.tZ)(Ed.j,{onOutsideClick:t},(0,y.tZ)("ul",{className:"menu--tp5V4puFsY"},(()=>{if("removed"===e.status)return(0,y.tZ)("li",{key:"reactivate",id:"reactivate-quick-action",onClick:()=>a("reactivate",e)},(0,y.tZ)(y.JO,{name:"ItemEmailOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_reactivate_single_label"));const t=[];return"pending"!==e.status&&"proposed"!==e.status||t.push((0,y.tZ)("li",{key:"resendInvite",id:"reinvite-quick-action",onClick:()=>a("reinvite",e)},(0,y.tZ)(y.JO,{name:"ItemEmailOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_resend_invite_label"))),"pending"!==e.status&&"proposed"!==e.status&&t.push((0,y.tZ)("li",{key:"reassign",id:"reassign-quick-action",onClick:()=>a("reassign",e)},(0,y.tZ)(y.JO,{name:"ItemPersonalInfoOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_change_role_label"))),t.push((0,y.tZ)(y.u,{key:"revoke",content:n("team_members_assignment_dialog_remove_billing_contact_tooltip"),location:"top",passThrough:!e.isBillingAdmin,sx:{whiteSpace:"normal"}},(0,y.tZ)("li",{key:"revoke",id:"revoke-quick-action",onClick:e.isBillingAdmin?void 0:()=>a("revoke",e),sx:e.isBillingAdmin?{cursor:"not-allowed !important",opacity:"0.5"}:void 0},(0,y.tZ)(y.JO,{name:"ActionDeleteOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_revoke_single_label")))),i&&"pending"!==e.status&&"proposed"!==e.status&&t.push((0,y.tZ)("li",{key:"generate2FABackupCodes",id:"generate-2fa-recovery-code-quick-action",onClick:()=>a("generateBackupCode",e)},(0,y.tZ)(y.JO,{name:"RecoveryKeyOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_generate_recovery_codes_label"))),t})()))};var kd;const Od=()=>kd||(kd=(0,y.tZ)("svg",{width:"368",height:"226",viewBox:"0 0 368 226",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,y.tZ)("rect",{width:"368",height:"226",rx:"2",fill:"#EFF0F0"}),(0,y.tZ)("path",{d:"M52 32C52 27.5817 55.5817 24 60 24H308C312.418 24 316 27.5817 316 32V192H52V32Z",fill:"#6EA2AD",fillOpacity:"0.2"}),(0,y.tZ)("rect",{x:"36",y:"192",width:"296",height:"10",rx:"5",fill:"#6EA2AD",fillOpacity:"0.2"}),(0,y.tZ)("path",{d:"M60 34C60 32.8954 60.8954 32 62 32H306C307.105 32 308 32.8954 308 34V192H60V34Z",fill:"white"}),(0,y.tZ)("rect",{x:"76",y:"54",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"88",y:"56",width:"23",height:"4",rx:"2",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"122",y:"54",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"134",y:"56",width:"23",height:"4",rx:"2",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"168",y:"54",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"180",y:"56",width:"23",height:"4",rx:"2",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"250",y:"52",width:"26",height:"12",rx:"4",fill:"#0E6173"}),(0,y.tZ)("rect",{x:"280",y:"52",width:"12",height:"12",rx:"4",fill:"#A2A3A3",fillOpacity:"0.2"}),(0,y.tZ)("rect",{x:"76",y:"78",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"88",y:"76",width:"12",height:"12",rx:"6",fill:"#3E5D64"}),(0,y.tZ)("rect",{x:"104",y:"78",width:"47",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"172",y:"78",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"208",y:"78",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"244",y:"78",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"76",y:"98",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"88",y:"96",width:"12",height:"12",rx:"6",fill:"#9FAEB1"}),(0,y.tZ)("rect",{x:"104",y:"98",width:"35",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"172",y:"98",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"208",y:"98",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"244",y:"98",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("path",{d:"M287 102C287 102.109 286.982 102.215 286.95 102.313L287.696 103.06C287.889 102.753 288 102.389 288 102C288 100.895 287.105 100 286 100C284.895 100 284 100.895 284 102C284 103.105 284.895 104 286 104C286.352 104 286.684 103.909 286.971 103.749L286.202 102.98C286.137 102.993 286.069 103 286 103C285.448 103 285 102.552 285 102C285 101.448 285.448 101 286 101C286.552 101 287 101.448 287 102Z",fill:"#232425",fillOpacity:"0.92"}),(0,y.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M285.052 97L284.648 98.5289C284.603 98.5474 284.558 98.5667 284.513 98.5868L283.128 97.8012L281.801 99.1279L282.577 100.496C282.553 100.548 282.53 100.602 282.509 100.655L281 101.066V102.959L282.526 103.362C282.545 103.41 282.564 103.456 282.585 103.501L281.801 104.884L283.128 106.21L284.495 105.435C284.549 105.459 284.602 105.481 284.656 105.503L285.067 107H286.959L287.361 105.489C287.41 105.47 287.459 105.45 287.507 105.43L288.884 106.21L290.21 104.884L289.431 103.51C289.453 103.46 289.473 103.409 289.492 103.358L291 102.944V101.052L289.481 100.648C289.462 100.604 289.442 100.561 289.422 100.519L290.21 99.1279L288.884 97.8012L287.51 98.58C287.46 98.5587 287.41 98.5385 287.359 98.5194L286.945 97H285.052ZM284.227 99.5741C284.253 99.5884 284.279 99.6003 284.305 99.6099C284.44 99.6678 284.6 99.6656 284.74 99.5901C284.894 99.5069 285.055 99.4377 285.221 99.3832L285.479 99.2986L285.822 98H286.181L286.537 99.3085L286.805 99.3876C286.979 99.4391 287.148 99.5067 287.31 99.5896C287.488 99.6808 287.695 99.655 287.843 99.5405L288.715 99.0465L288.965 99.2968L288.437 100.227L288.442 100.23C288.363 100.352 288.337 100.507 288.386 100.657L288.419 100.758L288.44 100.798C288.529 100.962 288.577 101.064 288.628 101.221L288.713 101.479L290 101.821V102.182L288.703 102.538L288.624 102.805C288.572 102.979 288.505 103.148 288.422 103.31C288.331 103.488 288.356 103.695 288.471 103.844L288.965 104.715L288.715 104.965L287.866 104.484C287.716 104.353 287.494 104.32 287.306 104.418C287.145 104.503 286.975 104.572 286.801 104.625L286.535 104.706L286.19 106H285.829L285.565 105.036C285.533 104.814 285.354 104.639 285.13 104.612C284.986 104.562 284.846 104.5 284.711 104.427C284.532 104.33 284.319 104.354 284.167 104.471L283.297 104.965L283.046 104.715L283.528 103.866C283.604 103.778 283.65 103.663 283.65 103.538V103.396L283.593 103.287C283.503 103.114 283.437 102.965 283.387 102.801L283.305 102.534L282 102.189V101.83L283.039 101.547L283.032 101.521C283.22 101.473 283.365 101.319 283.4 101.126C283.451 100.983 283.513 100.845 283.585 100.711C283.682 100.531 283.657 100.317 283.539 100.165L283.046 99.2968L283.297 99.0465L284.227 99.5741Z",fill:"#232425",fillOpacity:"0.92"}),(0,y.tZ)("rect",{x:"76",y:"118",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"88",y:"116",width:"12",height:"12",rx:"6",fill:"#3E5D64"}),(0,y.tZ)("rect",{x:"104",y:"118",width:"47",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"172",y:"118",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"208",y:"118",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"244",y:"118",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("path",{d:"M287 122C287 122.109 286.982 122.215 286.95 122.313L287.696 123.06C287.889 122.753 288 122.389 288 122C288 120.895 287.105 120 286 120C284.895 120 284 120.895 284 122C284 123.105 284.895 124 286 124C286.352 124 286.684 123.909 286.971 123.749L286.202 122.98C286.137 122.993 286.069 123 286 123C285.448 123 285 122.552 285 122C285 121.448 285.448 121 286 121C286.552 121 287 121.448 287 122Z",fill:"#232425",fillOpacity:"0.92"}),(0,y.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M285.052 117L284.648 118.529C284.603 118.547 284.558 118.567 284.513 118.587L283.128 117.801L281.801 119.128L282.577 120.496C282.553 120.548 282.53 120.602 282.509 120.655L281 121.066V122.959L282.526 123.362C282.545 123.41 282.564 123.456 282.585 123.501L281.801 124.884L283.128 126.21L284.495 125.435C284.549 125.459 284.602 125.481 284.656 125.503L285.067 127H286.959L287.361 125.489C287.41 125.47 287.459 125.45 287.507 125.43L288.884 126.21L290.21 124.884L289.431 123.51C289.453 123.46 289.473 123.409 289.492 123.358L291 122.944V121.052L289.481 120.648C289.462 120.604 289.442 120.561 289.422 120.519L290.21 119.128L288.884 117.801L287.51 118.58C287.46 118.559 287.41 118.539 287.359 118.519L286.945 117H285.052ZM284.227 119.574C284.253 119.588 284.279 119.6 284.305 119.61C284.44 119.668 284.6 119.666 284.74 119.59C284.894 119.507 285.055 119.438 285.221 119.383L285.479 119.299L285.822 118H286.181L286.537 119.309L286.805 119.388C286.979 119.439 287.148 119.507 287.31 119.59C287.488 119.681 287.695 119.655 287.843 119.54L288.715 119.047L288.965 119.297L288.437 120.227L288.442 120.23C288.363 120.352 288.337 120.507 288.386 120.657L288.419 120.758L288.44 120.798C288.529 120.962 288.577 121.064 288.628 121.221L288.713 121.479L290 121.821V122.182L288.703 122.538L288.624 122.805C288.572 122.979 288.505 123.148 288.422 123.31C288.331 123.488 288.356 123.695 288.471 123.844L288.965 124.715L288.715 124.965L287.866 124.484C287.716 124.353 287.494 124.32 287.306 124.418C287.145 124.503 286.975 124.572 286.801 124.625L286.535 124.706L286.19 126H285.829L285.565 125.036C285.533 124.814 285.354 124.639 285.13 124.612C284.986 124.562 284.846 124.5 284.711 124.427C284.532 124.33 284.319 124.354 284.167 124.471L283.297 124.965L283.046 124.715L283.528 123.866C283.604 123.778 283.65 123.663 283.65 123.538V123.396L283.593 123.287C283.503 123.114 283.437 122.965 283.387 122.801L283.305 122.534L282 122.189V121.83L283.039 121.547L283.032 121.521C283.22 121.473 283.365 121.319 283.4 121.126C283.451 120.983 283.513 120.845 283.585 120.711C283.682 120.531 283.657 120.317 283.539 120.165L283.046 119.297L283.297 119.047L284.227 119.574Z",fill:"#232425",fillOpacity:"0.92"}),(0,y.tZ)("rect",{x:"76",y:"138",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"88",y:"136",width:"12",height:"12",rx:"6",fill:"#6E868B"}),(0,y.tZ)("rect",{x:"104",y:"138",width:"41",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"172",y:"138",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"208",y:"138",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("rect",{x:"244",y:"138",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,y.tZ)("path",{d:"M287 142C287 142.109 286.982 142.215 286.95 142.313L287.696 143.06C287.889 142.753 288 142.389 288 142C288 140.895 287.105 140 286 140C284.895 140 284 140.895 284 142C284 143.105 284.895 144 286 144C286.352 144 286.684 143.909 286.971 143.749L286.202 142.98C286.137 142.993 286.069 143 286 143C285.448 143 285 142.552 285 142C285 141.448 285.448 141 286 141C286.552 141 287 141.448 287 142Z",fill:"#232425",fillOpacity:"0.92"}),(0,y.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M285.052 137L284.648 138.529C284.603 138.547 284.558 138.567 284.513 138.587L283.128 137.801L281.801 139.128L282.577 140.496C282.553 140.548 282.53 140.602 282.509 140.655L281 141.066V142.959L282.526 143.362C282.545 143.41 282.564 143.456 282.585 143.501L281.801 144.884L283.128 146.21L284.495 145.435C284.549 145.459 284.602 145.481 284.656 145.503L285.067 147H286.959L287.361 145.489C287.41 145.47 287.459 145.45 287.507 145.43L288.884 146.21L290.21 144.884L289.431 143.51C289.453 143.46 289.473 143.409 289.492 143.358L291 142.944V141.052L289.481 140.648C289.462 140.604 289.442 140.561 289.422 140.519L290.21 139.128L288.884 137.801L287.51 138.58C287.46 138.559 287.41 138.539 287.359 138.519L286.945 137H285.052ZM284.227 139.574C284.253 139.588 284.279 139.6 284.305 139.61C284.44 139.668 284.6 139.666 284.74 139.59C284.894 139.507 285.055 139.438 285.221 139.383L285.479 139.299L285.822 138H286.181L286.537 139.309L286.805 139.388C286.979 139.439 287.148 139.507 287.31 139.59C287.488 139.681 287.695 139.655 287.843 139.54L288.715 139.047L288.965 139.297L288.437 140.227L288.442 140.23C288.363 140.352 288.337 140.507 288.386 140.657L288.419 140.758L288.44 140.798C288.529 140.962 288.577 141.064 288.628 141.221L288.713 141.479L290 141.821V142.182L288.703 142.538L288.624 142.805C288.572 142.979 288.505 143.148 288.422 143.31C288.331 143.488 288.356 143.695 288.471 143.844L288.965 144.715L288.715 144.965L287.866 144.484C287.716 144.353 287.494 144.32 287.306 144.418C287.145 144.503 286.975 144.572 286.801 144.625L286.535 144.706L286.19 146H285.829L285.565 145.036C285.533 144.814 285.354 144.639 285.13 144.612C284.986 144.562 284.846 144.5 284.711 144.427C284.532 144.33 284.319 144.354 284.167 144.471L283.297 144.965L283.046 144.715L283.528 143.866C283.604 143.778 283.65 143.663 283.65 143.538V143.396L283.593 143.287C283.503 143.114 283.437 142.965 283.387 142.801L283.305 142.534L282 142.189V141.83L283.039 141.547L283.032 141.521C283.22 141.473 283.365 141.319 283.4 141.126C283.451 140.983 283.513 140.845 283.585 140.711C283.682 140.531 283.657 140.317 283.539 140.165L283.046 139.297L283.297 139.047L284.227 139.574Z",fill:"#232425",fillOpacity:"0.92"}),(0,y.tZ)("path",{d:"M301.378 106.526L286.622 102.184L290.094 117.815L292.698 111.736L298.774 117.815L301.378 115.21L295.302 109.131L301.378 106.526Z",fill:"#444444"}),(0,y.tZ)("path",{d:"M290.094 118.249C290.081 118.249 290.067 118.249 290.053 118.248C289.866 118.23 289.711 118.094 289.67 117.909L286.198 102.278C286.165 102.128 286.213 101.972 286.325 101.867C286.437 101.762 286.598 101.724 286.744 101.767L301.501 106.109C301.676 106.161 301.801 106.317 301.812 106.5C301.822 106.683 301.717 106.853 301.549 106.925L296.062 109.278L301.685 114.903C301.855 115.073 301.855 115.348 301.685 115.517L299.081 118.123C298.911 118.292 298.637 118.292 298.467 118.123L292.844 112.497L290.493 117.986C290.424 118.147 290.266 118.249 290.094 118.249ZM292.698 111.302C292.812 111.302 292.923 111.347 293.005 111.429L298.774 117.201L300.765 115.21L294.995 109.438C294.894 109.337 294.849 109.191 294.876 109.049C294.903 108.908 294.999 108.789 295.132 108.732L300.099 106.602L287.205 102.808L290.225 116.406L292.299 111.566C292.356 111.433 292.474 111.338 292.616 111.31C292.643 111.305 292.671 111.302 292.698 111.302Z",fill:"white"})));var Ld;const zd="onboarding_web_tacgetstarted",jd=({tooltipDismissed:e,setTooltipDismissed:t,children:a})=>{const{translate:n}=(0,p.Z)(),i=(0,at.v)(),{[zd]:s=!1}=i.status!==Re.rq.Success?{}:i.data;return(0,y.tZ)(d.ua7,{sx:{maxWidth:"400px"},passThrough:e||!s,placement:"left-start",arrowSize:8,trigger:"persist",content:(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"8px",sx:{padding:"8px",textAlign:"left",width:"auto"}},(0,y.tZ)(y.X6,{as:"h1",color:"ds.text.inverse.catchy"},n("team_groups_add_assign_admin_tooltip_title")),(0,y.tZ)(y.nv,{color:"ds.text.inverse.standard"},n("team_groups_add_assign_admin_tooltip_description")),Ld||(Ld=(0,y.tZ)(Od,null)),(0,y.tZ)(y.zx,{onClick:()=>t(!0),sx:{alignSelf:"end"}},n("team_groups_add_assign_admin_tooltip_confirm_button")))},a)};var Rd=a(360592);const Pd="team_get_started_task_learn_more",Ud=({isCompleted:e,isDisabled:t,title:a,content:n,helpDocLink:i,ctaOnClick:s,ctaText:o,upNextImage:r,disabledText:l,isCtaDisabled:c,disabledCtaTooltipText:u,isUpNext:_,infoBoxText:m})=>{const{translate:g}=(0,p.Z)();return(0,y.tZ)(d.Zbd,{sx:{padding:"32px",marginTop:"8px",marginBottom:_?"32px":"auto",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:e?"ds.container.agnostic.neutral.standard":"ds.container.agnostic.neutral.supershy",boxShadow:_?"0px 12px 24px rgba(0, 0, 0, 0.24)":"unset"}},(0,y.tZ)(d.T5p,{gap:"8px",gridTemplateRows:"auto",gridTemplateColumns:"2fr auto",gridTemplateAreas:_?"'title image' 'content image' 'cta image'":"'title cta' 'content cta' 'learnMore cta'"},(0,y.tZ)(d.dDn,{gridArea:"title"},(0,y.tZ)(y.X6,{as:"h2",textStyle:_?"ds.title.section.medium":"ds.title.block.medium",sx:{marginBottom:_?"16px":"8px",fontWeight:"bold"},color:e?"ds.text.neutral.quiet":"ds.text.neutral.catchy"},g(a))),(0,y.tZ)(d.dDn,{gridArea:"content"},(0,y.tZ)(y.nv,{textStyle:_?"ds.body.standard.regular":"ds.body.reduced.regular",color:e?"ds.text.neutral.quiet":"ds.text.neutral.standard"},g(n)),m&&!e&&_&&!c?(0,y.tZ)(y.ke,{sx:{marginTop:"16px"},mood:"brand",title:g(m)}):null),_?(0,y.tZ)(d.dDn,{gridArea:"image",sx:{paddingLeft:"32px"}},r):null,(0,y.tZ)(d.dDn,{gridArea:"cta",justifySelf:_?"start":"end",sx:{marginTop:_?"32px":"0"}},e||t?(0,y.tZ)(y.Ct,{label:g(t?l||"team_get_started_task_disabled":"team_get_started_task_completed"),mood:t?"neutral":"positive",intensity:"catchy"}):(0,y.tZ)(Rd.M,{disabled:c,size:_?"medium":"small",mood:_?"brand":"neutral",intensity:_?"catchy":"quiet",onClick:s,content:u?g(u):""},g(o)),_?(0,y.tZ)((()=>i?(0,y.tZ)(y.zx,{sx:{marginLeft:"8px"},mood:"brand",intensity:"supershy",size:"medium",onClick:()=>(0,O.Yo)(i)},g(Pd)):null),null):null),_?null:(0,y.tZ)(d.dDn,{gridArea:"learnMore"},(0,y.tZ)((()=>i?(0,y.tZ)(d.k$b,{as:y.nv,innerAs:d.rUS,size:"small",color:e?"ds.text.neutral.quiet":"ds.text.brand.standard",rel:"noopener noreferrer",target:"_blank",href:i},g(Pd)):null),null))),!m||e||_||c?null:(0,y.tZ)(y.ke,{sx:{marginTop:"32px"},mood:"brand",title:g(m)}))},Bd=a.p+"2d07f8aaf28eb418a6e1.png",Gd=()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.OpenUsersPage}))};var Fd;const Vd="showAssignAdminTipState";var $d,qd,Wd;const Hd="team_members_row_invitation_pending",Kd=({checkedMembers:e,currentLoggedLogin:t,members:a,onMemberActionSelect:i,onMemberToggleCheck:o})=>{var r,l,c;const{translate:u}=(0,p.Z)(),_=(0,s.TH)(),m=null!=(r=_.state?.[Vd])&&r,[g,b]=(0,n.useState)(null),[h,x]=(0,n.useState)(!1),S=e=>{b(e===g?null:e)},f=(e,t)=>{S(g),i(e,t)},v=()=>(0,y.tZ)(d.Ejs,{gap:"4px"},(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},u("team_members_row_security_score_unavailable")),(0,y.tZ)(y.u,{wrapTrigger:!0,location:"bottom",content:u("team_members_row_security_score_breakdown_less_than_five")},(0,y.tZ)("div",{sx:{display:"flex",alignItems:"center"}},$d||($d=(0,y.tZ)(y.JO,{name:"FeedbackInfoOutlined",color:"ds.text.neutral.quiet",size:"xsmall"})))));return(0,y.tZ)("tbody",{className:"tableBody--UVKDDE_osD"},(()=>{const n=(e,t)=>null!=t?t:"accepted"!==e?"-":0;return a.map(((a,i)=>{return(0,y.tZ)("tr",{key:a.login,className:"removed"===a.status?"revoked--DFG0wnOSMX":""},(0,y.tZ)("td",null,a.login!==t&&"removed"!==a.status&&(0,y.tZ)(y.XZ,{checked:!!Array.from(e).find((e=>e.login===a.login)),"aria-label":"Select user",onChange:()=>o(a)})),(0,y.tZ)("td",{className:"loginCell--zmWQn6nt_m"},(0,y.tZ)(Ps.q,{email:a.login,size:30}),(0,y.tZ)("div",{className:"loginText--UrH7gOl5S5"},(0,y.tZ)(Id.Z,{className:"loginTextEmail--_rJiVfje4x",tooltipText:a.login},a.login))),(0,y.tZ)("td",{className:"securityScoreCell--TRrWX93JKm"},(e=>{const t=Di.Maybe.maybe(e.nbrPasswords>=5||!e.nbrPasswords&&e.securityIndex&&e.securityIndex>0?e.securityIndex:null);return t.caseOf({just:e=>0===e?l||(l=(0,y.tZ)(v,null)):(0,y.tZ)(md,{score:t,size:"small"},(0,y.tZ)("div",{className:"securityScoreCellText--uh3PGGldwN"},`${(0,Uo.E)(e)}%`)),nothing:()=>c||(c=(0,y.tZ)(v,null))})})(a)),(0,y.tZ)("td",{className:"passwordsCell--gft4asedk5"},(0,y.tZ)("span",{className:"passwordsCellIcon--oJaMYYHQ_9"}),(s=a.status,r=a.nbrPasswords,"accepted"!==s?"-":!r||r<5?"<5":r)),(0,y.tZ)("td",null,n(a.status,a.safePasswords)),(0,y.tZ)("td",null,n(a.status,a.weakPasswords)),(0,y.tZ)("td",null,n(a.status,a.reused)),(0,y.tZ)("td",null,n(a.status,a.compromisedPasswords)),(0,y.tZ)("td",null,(e=>{switch(!0){case["pending","proposed"].includes(e.status):return u(Hd);case Boolean(e.lastUpdateDateUnix||e.revokedDateUnix):return(0,y.tZ)(Ad.Z,{date:(0,Ht.Z)(e.lastUpdateDateUnix||e.revokedDateUnix)});case"pending"===e.status:return u(Hd);default:return u("team_members_row_never_logged_in")}})(a)),(0,y.tZ)("td",null,a.isBillingAdmin?(0,y.tZ)(y.u,{location:"top",content:u("team_account_heading_billing_admin_tooltip"),sx:{textAlign:"start"}},(0,y.tZ)("div",{sx:{display:"flex",alignItems:"center"}},(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.strong",sx:{display:"inline-block"}},u("team_account_heading_billing_admin")),(0,y.tZ)(y.JO,{name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"small"}))):null,(e=>"removed"===e.status?u("team_members_row_revoked"):e.isTeamCaptain?u("team_members_row_captain"):e.isGroupManager?u("team_members_row_group_manager"):u("team_members_row_member"))(a)),(0,y.tZ)("td",{className:"actionsCell--NotN6ngLnK",style:{position:"relative"}},a.login===g?(e=>(0,y.tZ)(wd,{member:e,onDismiss:()=>S(e.login),onMemberActionSelect:f}))(a):null,a.login!==t?1===i&&m?(0,y.tZ)(jd,{tooltipDismissed:h,setTooltipDismissed:x},(0,y.tZ)(y.zx,{id:"users-action-menu-button",onClick:()=>S(a.login),layout:"iconOnly",intensity:"supershy",icon:qd||(qd=(0,y.tZ)(y.JO,{name:"SettingsOutlined",color:"ds.text.neutral.standard"}))})):(0,y.tZ)(y.zx,{id:"users-action-menu-button",onClick:()=>S(a.login),layout:"iconOnly",intensity:"supershy",icon:Wd||(Wd=(0,y.tZ)(y.JO,{name:"SettingsOutlined",color:"ds.text.neutral.standard"}))}):null));var s,r}))})())},Qd={container:"container--lTIFkRrWrT",top:"top--Ax5tGm_mED",topButton:"topButton--vxY2fF8Lv4",tableHeaderContainer:"tableHeaderContainer--NOzH1jto0x",topContainer:"topContainer--ST6B1mEZjJ",topLeft:"topLeft--viTEuhR25Z",revokeButton:"revokeButton--_sdxTpsqR2 topButton--vxY2fF8Lv4",statusFilters:"statusFilters--SMNEn98faE",topRight:"topRight--YZ2DF7wcrD",topPagination:"topPagination--rTlBiQ0EDF",topPaginationText:"topPaginationText--etP6KJCQ0A",topPaginationTextStrong:"topPaginationTextStrong--VTW8829LEc",addButton:"addButton--qfO5ovYdoU",checkbox:"checkbox--jmvgdO7ugt",checkboxChecked:"checkboxChecked--vFOuF2l2VW checkbox--jmvgdO7ugt",checkboxHeaderChecked:"checkboxHeaderChecked--jVnsRESmiO checkboxChecked--vFOuF2l2VW checkbox--jmvgdO7ugt",checkboxMinus:"checkboxMinus--g44ABlDkh2 checkbox--jmvgdO7ugt",checkboxAdd:"checkboxAdd--GpneSBisBK checkbox--jmvgdO7ugt",table:"table--a8O2px0gHj",bottom:"bottom--b6BPTxGASq",nameColumn:"nameColumn--XYrrfjBTYI",tableHeadContent:"tableHeadContent--V8YR8p9Rji",tableHeadLabel:"tableHeadLabel--uX3llf_9jK"},Yd="team_members_heading_name",Xd="team_members_heading_security_score",Jd="team_members_heading_password_count",eu="team_members_heading_last_login",tu=24,au=({lee:e,members:t,onMembersActionSelect:a,onMembersInvite:i})=>{var s;const{translate:o}=(0,p.Z)(),r=(0,tn.v0)(e.globalState),l=null!=(s=r?.login)?s:"",[c,d]=(0,n.useState)(Md(t)),[u,_]=(0,n.useState)(new Set),[m,g]=(0,n.useState)(0),[b,h]=(0,n.useState)(["accepted","pending","removed"]),[x,S]=(0,n.useState)(""),[f,v]=(0,n.useState)({sortBy:"sortableRights",sortOrder:"asc"});(0,n.useEffect)((()=>{_(new Set),d(Md(t))}),[t]);const C=()=>{const e=x?.toLocaleUpperCase(),t="asc"===f.sortOrder?wn.ascend:wn.descend;return(0,wn.sortWith)([t((0,wn.prop)(f.sortBy))])(c.filter((e=>e.filterableStatus&&b.includes(e.filterableStatus))).filter((t=>!x||t.login.toLocaleUpperCase().includes(e))))},E=e=>{g(e)},Z=e=>{const t=e===f.sortBy&&"asc"===f.sortOrder?"desc":"asc";v({sortBy:e,sortOrder:t})},N=e=>{g(0),h((t=>t.includes(e)?t.filter((t=>t!==e)):t.concat([e])))},T=e=>!e.isBillingAdmin&&["accepted","pending","proposed"].includes(e.status),D=()=>{_(new Set)},M=()=>{const e=m*tu,t=new Set;C().slice(e,e+tu).reduce(((e,t)=>(l===t.login||e.add({...t}),e)),t),Array.from(u).forEach((e=>t.add({...e}))),_(t)},I=m*tu,A=C(),w={first:A.length?I+1:0,last:Math.min(A.length,I+tu)},k=A.slice(I,I+tu),O=(e=>{const t=e.filter((e=>Array.from(u).find((t=>t.login===e.login)))).length;let a;return e.find((e=>e.login===l)),e.length,a=0===t?M:D,(0,y.tZ)(y.XZ,{onChange:a,"aria-label":"select-all"})})(k),L=[{headerLabel:"",headerElement:O,headerKey:"checkbox"},{headerLabel:o(Yd),tooltipLabel:o(Yd),onClick:()=>Z("login"),sortOrder:"login"!==f.sortBy?void 0:f.sortOrder,headerKey:"login"},{headerLabel:o(Xd),tooltipLabel:o(Xd),onClick:()=>Z("sortableSecurityScore"),sortOrder:"sortableSecurityScore"!==f.sortBy?void 0:f.sortOrder,headerKey:"security-score"},{headerLabel:o(Jd),tooltipLabel:o(Jd),onClick:()=>Z("sortablePasswords"),sortOrder:"sortablePasswords"!==f.sortBy?void 0:f.sortOrder,headerKey:"num-passwords"},{headerLabel:o("team_members_heading_safe"),tooltipLabel:o("team_members_heading_safe_tooltip"),onClick:()=>Z("sortableSafePasswords"),sortOrder:"sortableSafePasswords"!==f.sortBy?void 0:f.sortOrder,headerKey:"safe-passwords"},{headerLabel:o("team_members_heading_weak"),tooltipLabel:o("team_members_heading_weak_tooltip"),onClick:()=>Z("sortableWeakPasswords"),sortOrder:"sortableWeakPasswords"!==f.sortBy?void 0:f.sortOrder,headerKey:"weak-passwords"},{headerLabel:o("team_members_heading_reused"),tooltipLabel:o("team_members_heading_reused_tooltip"),onClick:()=>Z("sortableReused"),sortOrder:"sortableReused"!==f.sortBy?void 0:f.sortOrder,headerKey:"reused-passwords"},{headerLabel:o("team_members_heading_compromised"),tooltipLabel:o("team_members_heading_compromised_tooltip"),onClick:()=>Z("sortableCompromisedPasswords"),sortOrder:"sortableCompromisedPasswords"!==f.sortBy?void 0:f.sortOrder,headerKey:"compromised-passwords"},{headerLabel:o(eu),tooltipLabel:o(eu),onClick:()=>Z("sortableLastActivity"),sortOrder:"sortableLastActivity"!==f.sortBy?void 0:f.sortOrder,headerKey:"last-login"},{headerLabel:(0,y.tZ)("span",{sx:{display:"flex",alignItems:"center"}},o("team_members_heading_rights")," ",(0,y.tZ)(y.JO,{name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"small"})),tooltipLabel:(0,y.tZ)("div",{sx:{textAlign:"left","& > * > p:not(:last-child)":{marginBottom:"10px"}}},o.markup("team_members_heading_rights_tooltip_markup")),onClick:()=>Z("sortableRights"),sortOrder:"sortableRights"!==f.sortBy?void 0:f.sortOrder,headerKey:"permissions"},{headerLabel:"",headerKey:"actions"}];return(0,y.tZ)("div",{className:Qd.container},(0,y.tZ)("div",{className:Qd.top},(0,y.tZ)("div",{className:Qd.tableHeaderContainer},(0,y.tZ)(xd.n,{type:"search",containerStyle:{flexGrow:1,maxWidth:"300px",marginBottom:"15px"},onChange:e=>{g(0),S(e.currentTarget.value)},placeholder:o("team_members_filter_control_search_placeholder"),placeholderIcon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNy4zNzUgMTMuNzY0Nkw0LjM3NSAxNi43NjQ2TTE2LjM3NSA5LjI2NDY1QzE2LjM3NSAxMS43NDk5IDE0LjM2MDMgMTMuNzY0NiAxMS44NzUgMTMuNzY0NkM5LjM4OTcyIDEzLjc2NDYgNy4zNzUgMTEuNzQ5OSA3LjM3NSA5LjI2NDY1QzcuMzc1IDYuNzc5MzcgOS4zODk3MiA0Ljc2NDY1IDExLjg3NSA0Ljc2NDY1QzE0LjM2MDMgNC43NjQ2NSAxNi4zNzUgNi43NzkzNyAxNi4zNzUgOS4yNjQ2NVoiIHN0cm9rZT0iI0NDQzdDMiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KPC9zdmc+Cg=="}),(0,y.tZ)("div",{className:Qd.topContainer},(0,y.tZ)("div",{className:Qd.topLeft},(0,y.tZ)("div",{className:Qd.statusFilters},(0,y.tZ)(y.XZ,{label:o("team_members_filter_control_include_active"),onChange:()=>N("accepted"),checked:b.includes("accepted")}),(0,y.tZ)(y.XZ,{label:o("team_members_filter_control_include_invited"),onChange:()=>N("pending"),checked:b.includes("pending")}),(0,y.tZ)(y.XZ,{label:o("team_members_filter_control_include_revoked"),onChange:()=>N("removed"),checked:b.includes("removed")}))),u.size>0&&[(0,y.tZ)(Zd,{key:"dropdown",onMultipleReassignActionSelect:e=>{let t=[...u];switch(e){case"member":t=t.filter((e=>e.isTeamCaptain||e.isGroupManager));break;case"teamCaptain":t=t.filter((e=>!e.isTeamCaptain&&"accepted"===e.status));break;case"groupManager":t=t.filter((e=>!e.isGroupManager&&"accepted"===e.status))}a("reassign",t,e)}}),(0,y.tZ)(bd.Z,{key:"button",classNames:[Qd.revokeButton],label:o("team_members_revoke_multiple_label"),disabled:![...u].some(T),onClick:()=>{let e=[...u];e=e.filter(T),a("revoke",e)}})],(0,y.tZ)("div",{className:Qd.topRight},(0,y.tZ)("div",{className:Qd.topPagination},(0,y.tZ)("div",{className:Qd.topPaginationText},(0,y.tZ)("span",{className:Qd.topPaginationTextStrong},o("team_members_filter_pagination_top_count",{first:w.first,last:w.last})),o("team_members_filter_pagination_top_total",{total:A.length})),(0,y.tZ)(hd.Z,{className:Qd.paginationArrows,currentPageIndex:m,isShort:!0,itemsLength:A.length,itemsPerPage:tu,onChange:E})),(0,y.tZ)(y.zx,{icon:"ActionAddOutlined",layout:"iconLeading",onClick:i},o("team_members_quota_progress_add")),t.length>1&&(0,y.tZ)(vd,{members:t,onMembersActionSelect:a}))))),(0,y.tZ)("table",{className:Qd.table},(0,y.tZ)(js,{columns:L}),(0,y.tZ)(Kd,{checkedMembers:u,currentLoggedLogin:l,members:k,onMemberActionSelect:(e,t)=>{a(e,[t])},onMemberToggleCheck:e=>{_((t=>{const a=Array.from(t).find((t=>t.login===e.login)),n=new Set(t);return a?n.delete(a):n.add({...e}),n}))}})),(0,y.tZ)("div",{className:Qd.bottom},(0,y.tZ)(hd.Z,{currentPageIndex:m,itemsLength:A.length,itemsPerPage:tu,onChange:E})))},nu=async(e,t)=>{const a={errors:[],successes:[]};for await(const n of e)try{const e=await t(n);a.successes.push(e)}catch(e){a.errors.push(e)}return a},iu=({refusedMembers:e={}}={})=>Object.keys(e).length>0,su=e=>(e instanceof Array?e:[e]).map((e=>e instanceof Error?e:e instanceof Object?new Error(JSON.stringify(e)):new Error(e))),ou="counter--NpfuOeApPm",ru="active--VJ5ITGfmuJ";var lu;const cu=["text/*",".csv",".txt"],du=({lee:e,isFreeTrial:t,isOpen:a,slotsTaken:i,slotsTotal:l,exclude:_,preFilledEmails:m,closeInviteDialog:g,handleInviteCompleteSuccess:y,handleInvitePartialSuccess:b,setShowActivationDialog:h})=>{const{routes:x}=(0,s.Xo)(),{translate:v}=(0,p.Z)(),C=(0,Oa.V)(),{reportTACError:E}=V(),{proposeMembers:Z}=(0,wa.u)(_c.L),N=(0,u.Y)(),{billingDetails:T,amountToPay:D,amountToTax:M,onSeatCountChange:w}=Xi(null),[k,O]=(0,n.useState)(!1),[L,j]=(0,n.useState)(!1),[R,P]=(0,n.useState)(null!=m?m:new Set([])),[U,B]=(0,n.useState)(0),[G,F]=(0,n.useState)(0),[$,q]=(0,n.useState)(0),[W,H]=(0,n.useState)(0),[K,Q]=(0,n.useState)(!1);(0,n.useEffect)((()=>{j(k)}),[k]),(0,n.useEffect)((()=>{P(null!=m?m:new Set([]))}),[m]),(0,n.useEffect)((()=>{R.size||q(0)}),[R]);const Y=()=>{g(),O(!1),B(0),F(0)},X=async(t,a)=>{var n;a=null!=(n=a)?n:0,F(t.length),O(!0);const i=a+Math.min(t.length-a,500),s=t.slice(a,i),r={};try{const a=await(async t=>{if(!(0,tn.v0)(e.globalState)){const e=new Error(Ya.N);throw E(e),e}if(!e.apiMiddleware.teamPlans)throw new Error("we want to remove this middleware but we can't just yet!");try{const e=await Z({proposedMemberLogins:t,force:!0});if("failure"===e.tag)throw new Error(e.error);return e.data}catch(e){const t=e.code&&e.subCode?`invite_error_${e.code}_${e.subCode}`:"team_members_invite_error_message";throw C.showAlert(v(t),d.BLW.ERROR),new Error(v(t))}})(s);if(B(i),(0,f.merge)(r,a),i<t.length)return X(t,i);if(iu(r)){b(r.proposedMembers,r.refusedMembers);const e=Object.keys(r.proposedMembers).length,t=Object.keys(r.refusedMembers).length;(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Complete,inviteCount:e,inviteFailedCount:t,inviteResentCount:0,inviteSuccessfulCount:e-t,isImport:$>0,importSize:$,isResend:!1}))}else y(t),W<0?1===R.size?C.showAlert(v("team_members_invite_success_message_with_added_seats_one_invite",{cost:v.price(T.currency,(D+M)/100)}),d.BLW.SUCCESS):C.showAlert(v("team_members_invite_success_message_with_added_seats",{total:R.size,count:-W,cost:v.price(T.currency,(D+M)/100)}),d.BLW.SUCCESS):C.showAlert(v("team_members_invite_success_message_with_count",{count:R.size}),d.BLW.SUCCESS),(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Complete,inviteCount:t.length,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:t.length,isImport:$>0,importSize:$,isResend:!1}));return Y()}catch(e){throw(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Error,inviteCount:R.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:$>0,importSize:$,isResend:!1})),Y(),e}},J=e=>function(e){if(function(e){const t=e.match(/[\x00-\x09\x0e-\x1F]/g);return!!t&&t.length/e.length>.03}(e))return[];if(!e.includes("@"))return[e];return function(e){const t={};return e.forEach((e=>t[e]=!0)),Object.keys(t)}(e.match(/[^<> ,;:\t\n\r"']+@[a-zA-Z0-9_.-]+/g)||[])}(e).filter((e=>!R.has(e))),ee=e=>(0,pa.vV)(e)&&!(e=>!!_?.includes(e))(e),te=e=>{q(e.length),P(new Set([...R,...e]))},ae=e=>{E(e)},ne=[...R].filter((e=>!ee(e))).length;let ie=0===R.size||ne>0||W<0&&Oi(-W)||K,se=null;(0,n.useEffect)((()=>{if(l){const e=l-(R.size-ne)-i;H(e),e<0?(w(-e),N.status===r.rq.Success&&(0,A.f1)(N.data)&&Q(!0)):Q(!1)}}),[R,N,l,i]);const{loading:oe,billingCountry:re}=S();if(oe)return(0,c.tZ)(d.HoD,{color:d.colors.midGreen00});const le="US"===re?"team_invite_dialog_input_counter_negative_tax":"team_invite_dialog_input_counter_negative_vat";if(l){const e=W<0?Oi(-W)?v("team_account_teamplan_upgrade_premium_buy_more_seats_than_cap",{seatCap:Mi,salesEmail:Ii}):M?v(le,{count:-W,total:l,cost:v.price(T.currency,(D+M)/100)}):v("team_invite_dialog_input_counter_negative",{count:-W,total:l,cost:v.price(T.currency,D/100)}):v("team_invite_dialog_input_counter",{count:W,total:l}),a=v("team_invite_dialog_input_counter_special",{total:l});let n=e;t&&W<1&&(ie=W<0||ie,n=a);const i=I()(ou,{"alert--WcUXIwBMog":W<1,[ru]:!k});se=(0,c.tZ)("div",{className:i},n)}return(0,c.tZ)(d.VqE,{isOpen:a,closeIconName:k?void 0:v("_common_dialog_dismiss_button"),onClose:()=>{k||((0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Cancel,inviteCount:R.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:$>0,importSize:$,isResend:!1})),Y(),P(new Set([])))},ariaDescribedby:"dialogContent"},(0,c.tZ)(d.$N8,{title:v("invite_user_dialog_title")}),(0,c.tZ)(d.a7O,null,(0,c.tZ)("div",{className:"dialog--QnJrEK3_WD"},(0,c.tZ)("div",{id:"dialogContent",className:"instruction--MOkv4LlYxY"},v(k?"team_invite_dialog_input_label_sending":"invite_user_dialog_input_label")),(0,c.tZ)(mc.Z,{accept:cu,passClicksThrough:!0,className:"fileDropZone--_MXyrjuinL",onChange:e=>{te(J(e.join("\0")))},onError:ae},(0,c.tZ)(pc.L,{key:"tags",setIsOverlayVisible:j,placeholder:v("team_invite_dialog_input_placeholder"),tags:[...R],isOverlayVisible:L,setTags:e=>{P(new Set(e))},formatToTags:J,validate:ee})),!K&&se,K?(0,c.tZ)("div",{className:"alertOverride--o2y2pG7WQg"},(0,c.tZ)(d.bZj,{severity:d.BLW.SUBTLE},(0,c.tZ)("span",{style:{fontSize:"14px",fontWeight:"400"}},v("team_dialog_starter_limit_warning"),lu||(lu=(0,c.tZ)("br",null)),(0,c.tZ)(s.rU,{to:x.teamAccountRoutePath},v("team_dialog_starter_change_plan"))))):null,(0,c.tZ)("div",{className:I()(ou,{[ru]:k})},v("team_invite_dialog_invitations_counter",{count:U,total:G})),(0,c.tZ)("div",{className:I()("import--aJf1GXo5F5",{[ru]:!k})},(0,c.tZ)(mc.Z,{accept:cu,onChange:e=>{te(J(e.join("\0")))},onError:ae},(0,c.tZ)("span",{className:"importTextAction--H7eyxahYri"},v("team_invite_dialog_import_description")))),(0,c.tZ)("div",{className:I()("importHint--xIB2QYXXMo",{[ru]:!k})},v("team_invite_dialog_import_example_text")))),(0,c.tZ)(d.cNS,{primaryButtonTitle:(0,c.tZ)(n.Fragment,null,(0,c.tZ)("span",{sx:{marginRight:"8px"}},(0,c.tZ)(d.bV6,{color:d.colors.white})),v("invite_user_dialog_button")),primaryButtonOnClick:async()=>{try{await X([...R]),h(!0)}catch(e){(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Error,inviteCount:R.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:$>0,importSize:$,isResend:!1})),C.showAlert(v("_common_generic_error"),d.BLW.ERROR)}P(new Set([]))},primaryButtonProps:{disabled:ie,type:"button"}}))},uu=({showActivationDialog:e,setShowActivationDialog:t,setShowSharingDialog:a})=>{const{toggleInviteLink:n,createInviteLink:i,getInviteLinkDataForAdmin:s}=(0,Lc.h)(),{setAsInteracted:o}=(0,Ie.d)(Te.NotificationName.ActivateInviteLink),{translate:r}=(0,p.Z)(),{teamInfo:l}=(0,_.G)(),u=(0,Oa.V)();return(0,c.tZ)(d.VqE,{closeIconName:r("_common_dialog_dismiss_button"),isOpen:e,onClose:()=>t(!1)},(0,c.tZ)(d.$N8,{title:r("team_activation_dialog_title")}),(0,c.tZ)(d.a7O,null,(0,c.tZ)(d.nvN,{sx:{marginBottom:"15px"},color:d.colors.dashGreen01},r("team_activation_dialog_paragrah"))),(0,c.tZ)(d.cNS,{primaryButtonTitle:r("team_activation_dialog_activate_button"),primaryButtonOnClick:async()=>{var e;o?.(),t(!1);const c=null!=(e=l?.teamInfo?.name)?e:"",_=await s();_?.teamKey?await n(!1):(await i(c),u.showAlert(r("team_activation_dialog_notification"),d.BLW.SUCCESS)),a(!0)},primaryButtonProps:{type:"button"},secondaryButtonTitle:r("team_activation_dialog_notrightnow_button"),secondaryButtonOnClick:()=>{o?.(),t(!1),u.showAlert(r("team_activation_dialog_cancel_notification"),d.BLW.SUBTLE)}}))};var _u=a(245338);const mu=({showSharingDialog:e,setShowSharingDialog:t})=>{const{translate:a}=(0,p.Z)(),{inviteLinkDataForAdmin:i,getInviteLinkDataForAdmin:s}=(0,Lc.h)(),o=(0,Oa.V)();return(0,n.useEffect)((()=>{s()}),[s]),(0,c.tZ)(d.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:e,onClose:()=>t(!1)},(0,c.tZ)(d.$N8,{title:a("team_sharing_invite_dialog_title")}),(0,c.tZ)(d.a7O,null,(0,c.tZ)(d.nvN,{sx:{marginBottom:"15px"},color:d.colors.dashGreen01},a("team_sharing_invite_dialog_paragrah")),(0,c.tZ)(d.nvN,{sx:{marginBottom:"15px",fontWeight:"600"},color:d.colors.dashGreen01},(0,ie.cI)(i?.teamKey))),(0,c.tZ)(d.cNS,null,(0,c.tZ)(_u.q,{copyValue:(0,ie.cI)(i?.teamKey),buttonText:a("team_sharing_invite_dialog_copy_link"),onClick:()=>{navigator.clipboard.writeText((0,ie.cI)(i?.teamKey)),o.showAlert(a("team_sharing_invite_dialog_copied_notification"),d.BLW.SUCCESS)}})))},pu=({lee:e,teamId:t,isFreeTrial:a,totalSeatCount:i,numSeatsTaken:s,excludedInviteMembers:o,shouldShowInviteDialog:r,handleCloseInviteDialog:l,handleInvitePartialSuccess:c,handleInviteCompleteSuccess:d,invitePartialSuccessState:u,handleInvitationResultClosed:_,preFilledInviteEmails:m})=>{const{inviteLinkDataForAdmin:p,inviteLinkDataLoading:g,getInviteLinkDataForAdmin:y}=(0,Lc.h)(),[b,h]=n.useState(!1),[x,S]=n.useState(!1),{interacted:f}=(0,Ie.d)(Te.NotificationName.ActivateInviteLink);return n.useEffect((()=>{y()}),[y]),n.createElement(n.Fragment,null,r?n.createElement(du,{lee:e,slotsTotal:i,slotsTaken:s,exclude:o,isFreeTrial:a,isOpen:r,closeInviteDialog:l,handleInvitePartialSuccess:c,handleInviteCompleteSuccess:e=>{!1===p?.disabled&&S(!0),d(e)},preFilledEmails:m,setShowActivationDialog:h}):null,f||!b||g||p?.teamKey?null:n.createElement(uu,{showActivationDialog:b,setShowActivationDialog:h,setShowSharingDialog:S}),x?n.createElement(mu,{showSharingDialog:x,setShowSharingDialog:S}):null,u.show?n.createElement(Tc,{teamId:t,isOpen:u.show,onClose:_,invitedMembers:u.invitedMembers,refusedMembers:u.refusedMembers}):null)},gu=({lee:e,isOpen:t,onClose:a,prefilledEmails:i,teamMembers:s,handleInviteCompleteSuccess:o})=>{const r=(0,n.useRef)(!1),{invitePartialSuccessState:l,setInvitePartialSuccessState:d,handleInvitationResultClosed:u}=Nc(),{teamId:_}=(0,wo.fV)(),m=uc(s),[p,g]=(0,n.useState)(0),[y,b]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const t=(0,tn.v0)(e.globalState);if(t)return(new nn.Z).status({auth:t}).then((e=>{r.current||(g(e.content.team.membersNumber+e.content.team.extraFreeSlots),b(e.content.team.isFreeTrial))})).catch(),()=>{r.current=!0}}),[]),(0,c.tZ)(pu,{lee:e,teamId:_,totalSeatCount:p,numSeatsTaken:m,excludedInviteMembers:s.filter((({status:e})=>"removed"!==e)).map((({login:e})=>e)),isFreeTrial:y,shouldShowInviteDialog:t,handleCloseInviteDialog:a,handleInvitePartialSuccess:(e,t)=>d({show:!0,invitedMembers:e,refusedMembers:t}),handleInviteCompleteSuccess:o,invitePartialSuccessState:l,handleInvitationResultClosed:u,preFilledInviteEmails:i})},yu=e=>{const[t,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)([]),[o,r]=(0,n.useState)(null),l=(0,n.useCallback)((async t=>{if(!t?.signal?.aborted)if(null!==e){a(!0);try{const t=await(0,kn.YY)({teamId:e});s(t)}catch(e){const t=new Error(`useTeamMember: ${e}`);r(t)}finally{a(!1)}}else r(new Error("No team id provided"))}),[e]);return(0,n.useEffect)((()=>{const e=new AbortController;return l(),()=>{e.abort()}}),[l]),{teamMembersLoading:t,teamMembersError:o,teamMembers:i,refreshTeamMembers:l}},bu="_common_toast_close_label",hu=({domainName:e})=>{const{showToast:t}=(0,y.pm)(),[a,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),{translate:l}=(0,p.Z)();return(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",layout:"iconLeading",onClick:async()=>{let a;try{(0,z.Kz)(new o.UserClickEvent({button:o.Button.DownloadCsv})),i(!0),a=setTimeout((()=>{r(!0)}),2e3),await(async()=>{const t=[],a=await Vl(e,10,0),n=Math.ceil(a.emailsImpactedCount/10);t.push(...a.emails);const i=async(a=0)=>{const s=[];for(;a<n||(n-a)%5!=0;)s.push(Vl(e,10,10*a)),a+=1;const o=await Promise.all(s);t.push(...o.flatMap((e=>e.emails))),a<n&&i(a)};await i(1),(e=>{(0,Xs.S)((e=>{let t=["email","domain","data_affected","incident_date","view_status"].join(",")+"\n";for(const a of e)for(const e of a.leaks)t+=[`"${a.email}"`,`"${e.domain}"`,`"${e.types.join(", ")}"`,`"${new Date(e.breachDateUnix).toLocaleString()}"`,`"${a.viewStatus}"`].join(",")+"\n";return t})(e),"DWI-report.csv","text/csv;charset=utf-8")})(t)})(),t({description:l("team_dark_web_insights_download_csv_success"),closeActionLabel:l(bu)})}catch(e){t({description:l("_common_generic_error"),mood:"danger",closeActionLabel:l(bu)})}finally{clearTimeout(a),i(!1),r(!1)}},icon:"DownloadOutlined",disabled:a,isLoading:s},l("team_dark_web_insights_download_csv"))};var xu,Su;const fu=({lee:e,domainName:t})=>{const{translate:a}=(0,p.Z)(),i=(0,Oa.V)(),{teamId:s}=(0,wo.fV)(),{teamMembers:r,refreshTeamMembers:l}=yu(s),{setHasNewBreaches:c}=ke(),[u,_]=(0,n.useState)(!0),[m,g]=(0,n.useState)(null),[b,h]=(0,n.useState)(!1),[x,S]=(0,n.useState)(1),[f,v]=(0,n.useReducer)((e=>e+1),0),{unseen:C,setAsSeen:E}=(0,Ie.m)(Te.NotificationName.TacDarkWebInsightsNewBadge),[Z,N]=(0,n.useState)(!1),[T,D]=(0,n.useState)(new Set([])),M=r.filter((e=>["pending","proposed"].includes(e.status))).map((e=>e.login)),I=r.filter((e=>["pending","proposed","accepted"].includes(e.status))).map((e=>e.login)),A=(0,n.useMemo)((()=>{var e;return null!=(e=m?.allImpactedEmails.filter((e=>!I.includes(e))))?e:[]}),[m?.allImpactedEmails,I]),w=async(e,t)=>{try{const a=await Vl(e,10,t);return!!a&&(g(a),!0)}catch{return!1}};(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacDarkWebInsights),c(!1),w(t,0).then((()=>{(0,z.Kz)(new o.UserLoadDarkWebInsightsResultsEvent({})),_(!1)}))}),[c,t]),(0,n.useEffect)((()=>{C&&m?.emails&&E()}),[C,E,m?.emails]);const k=(0,n.useCallback)((async e=>{h(!0),await w(t,10*(e-1))?S(e):(i.showAlert(a("team_dark_web_insights_generic_error"),d.BLW.ERROR),v()),h(!1)}),[i,t,a]),O=(0,n.useCallback)((()=>{A.length<=0||(N(!0),(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})),D(new Set(A)))}),[A]);return(0,y.tZ)(n.Fragment,null,u?xu||(xu=(0,y.tZ)(Xl,null)):null,!u&&m?.emails?0===m.leaksCount?(0,y.tZ)(Hl,{domainName:t}):(0,y.tZ)(n.Fragment,null,(0,y.tZ)(dc,{reports:m,suggestedInvitees:A,onInviteAll:O}),(0,y.tZ)(d.Zbd,{sx:{padding:"32px 24px"}},(0,y.tZ)("div",{sx:{display:"flex",justifyContent:"space-between",marginBottom:"24px",alignItems:"center"}},(0,y.tZ)(y.X6,{as:"h3"},a("team_dark_web_insights_table_title")),(0,y.tZ)(hu,{domainName:t})),(0,y.tZ)(sc,{reports:m.emails,isLoading:b,pendingMembers:M,emailsToInvite:A,onInviteAction:e=>{N(!0),(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})),D(new Set([e]))}}),(0,y.tZ)(d.T5p,{gridTemplateColumns:"1fr auto 1fr",alignItems:"center",sx:{paddingTop:6,paddingBottom:3}},(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.title.block.small"},a("team_dark_web_insights_table_pagination_page_size",{pageSize:10})),(0,y.tZ)(d.tlE,{key:f,totalPages:Math.ceil(m.emailsImpactedCount/10),currentPage:x,onPageChange:k})),(0,y.tZ)(gu,{lee:e,isOpen:Z,prefilledEmails:T,onClose:()=>{N(!1),D(new Set([]))},handleInviteCompleteSuccess:()=>l(),teamMembers:r}))):null,u||m?.emails||""===t?null:Su||(Su=(0,y.tZ)(Jl,null)))};var vu,Cu;const Eu=({lastVerificationAttemptDateUnix:e,onRetry:t})=>{const{translate:a}=(0,p.Z)();return(0,c.tZ)(d.Ejs,{sx:{justifyContent:"space-between",flexDirection:"column",margin:"30px 0",paddingLeft:"24px",borderLeft:`solid 2px ${d.colors.grey00}`,gap:5}},(0,c.tZ)(d.nvN,{size:"x-small",bold:!0},a("team_dwi_pending_latest_attempt_label")," ",e?(0,c.tZ)(Ad.Z,{date:(0,Ht.Z)(e)}):null),(0,c.tZ)(d.zxk,{type:"button",nature:"ghost",sx:{width:"fit-content",margin:0,padding:0,minWidth:0,height:"fit-content","&:hover":{backgroundColor:"transparent !important",textDecoration:"underline"},"&:focus":{backgroundColor:"transparent !important",textDecoration:"underline"}},onClick:t},(0,c.tZ)(d.Ejs,{sx:{alignItems:"center",flexDirection:"row",gap:2}},vu||(vu=(0,c.tZ)(d.DuK,{size:12})),(0,c.tZ)(d.nvN,{size:"x-small",color:d.colors.midGreen00},a("team_dwi_pending_retry_button_label")))))},Zu=({domain:e,isDeactivating:t,handleDeactivateDomain:a,handleRetryValidateDomain:i})=>{const{translate:s}=(0,p.Z)(),{dnsToken:{computedToken:o,challengeDomain:r}={computedToken:"",challengeDomain:""},lastVerificationAttemptDateUnix:l}=e;return(0,c.tZ)(n.Fragment,null,Cu||(Cu=(0,c.tZ)(jl,null)),(0,c.tZ)("div",null,(0,c.tZ)(d.Zbd,{sx:{padding:"24px",margin:"24px 0"}},(0,c.tZ)(d.X6q,{size:"x-small"},s("team_breach_report_domain_verify_pending_title")),(0,c.tZ)(d.nvN,{sx:{marginBottom:"20px",marginTop:"10px"},color:d.colors.grey00},s("team_dwi_pending_verification_txt")),(0,c.tZ)(Eu,{lastVerificationAttemptDateUnix:l,onRetry:i}),(0,c.tZ)(d.Ejs,{gap:"16px"},(0,c.tZ)(d.k$b,{sx:{width:"70%"}},(0,c.tZ)(d.oil,{fullWidth:!0,defaultValue:e.name,disabled:!0})),(0,c.tZ)(d.k$b,null,(0,c.tZ)(d.zxk,{type:"button",disabled:t,nature:"secondary",onClick:a},s("team_dwi_pending_cancel_button_label"))),(0,c.tZ)(d.k$b,null,(0,c.tZ)(d.zxk,{type:"button",disabled:!0,sx:{maxWidth:"120px"}},s("team_breach_report_verifying_txt"))))),(0,c.tZ)(d.UQy,{size:"medium"},(0,c.tZ)(d.UlM,{open:!0},(0,c.tZ)(d._Oh,null,s("team_breach_report_domain_verify_dns_confirm_text")),(0,c.tZ)(d.rN7,null,(0,c.tZ)(d.T5p,{gap:"24px",gridTemplateColumns:"1fr",gridAutoRows:"auto"},(0,c.tZ)(d.nvN,{size:"small",color:d.colors.grey00},s("team_breach_report_domain_verify_dns_description")),(0,c.tZ)(Al.x,{inputValue:r,textInputProps:{fullWidth:!0,readOnly:!0,label:s("team_settings_domain_verify_host")}}),(0,c.tZ)(Al.x,{inputValue:o,textInputProps:{fullWidth:!0,readOnly:!0,label:s("team_settings_domain_verify_txt")}}),(0,c.tZ)(d.nvN,{size:"small",sx:{marginBottom:"20px"},color:d.colors.grey00},s("team_breach_report_domain_verify_dns_secondary_description"))))))))},Nu={background:"ds.container.expressive.neutral.quiet.idle",color:"ds.text.neutral.standard",cursor:"default"},Tu=({label:e})=>(0,c.tZ)(d.OTy,{sx:{":hover":Nu,":focus":Nu,...Nu},disabled:!0,selected:!1,size:"medium",label:e}),Du=({activeDomain:e,verifiedDomains:t,selectVerifiedDomain:a})=>{var n;const i=(0,xe.o)(R.w.DwiMultipleDomainsProd),s=null!=(n=e?.name)?n:"",o=t.map((e=>(0,c.tZ)(d.OTy,{sx:Nu,key:e.name,onClick:()=>{s!==e.name&&a(e)},selected:s===e.name,size:"medium",label:e.name})));return(0,c.tZ)(d.G8v,{sx:{marginTop:"12px",padding:0}},i&&t.length>1?o:""!==s?(0,c.tZ)(Tu,{label:s}):null)},Mu=e=>e?"auto":"800px",Iu=({mainContent:e,mainProps:t,secondaryContent:a,secondaryProps:n,withDefaultBackground:i,fullWidth:s,...o})=>(0,c.tZ)(d.T5p,{gap:"32px",gridTemplateAreas:["'top' 'bottom'","'top' 'bottom'","'left right'"],gridTemplateColumns:[null,null,`minmax(auto, ${Mu(null!=s&&s)}) 256px`],gridTemplateRows:["auto auto","auto auto","auto"],alignContent:"flex-start",sx:{py:"32px",px:"42px",bg:i?void 0:"white"},...o},(0,c.tZ)(d.dDn,{alignSelf:"flex-start",gridArea:["top","top","right"]},(0,c.tZ)(a,{...n})),(0,c.tZ)(d.dDn,{gridArea:["bottom","bottom","left"]},(0,c.tZ)(e,{...t}))),Au={display:"flex",justifyContent:"center",width:"100%",height:"100%",backgroundColor:`${d.colors.dashGreen06}`,alignItems:"center"},wu=e=>n.createElement("div",{className:"container--INT3GORhR4"},e.children);var ku=a(303724);const Ou=({header:e,children:t})=>(0,c.tZ)(Ss,{header:e},(0,c.tZ)("div",{className:"content--zBGSSVE1dv"},t)),Lu="group_name_already_in_use";var zu=a(799542);const ju=({children:e})=>(0,c.tZ)("div",{className:"groupHeader--al0rVgMEDT"},e),Ru={nameContainer:"nameContainer--NmQCGqTrTR",nameInput:"nameInput--Vpc7anR7aO",nameEditIcon:"nameEditIcon--Thlp4CT5Bq",spinner:"spinner--QQ6Zpwc8Zd",_errorText:"_errorText--shQIAebNjL",errorMessage:"errorMessage--Btb66DLL6K _errorText--shQIAebNjL",error:"error--UkyphHJLOB _errorText--shQIAebNjL"},Pu=({onNameChanged:e,defaultValue:t,editable:a,saving:i})=>{const s=(0,n.useRef)(null),[o,r]=(0,n.useState)(t),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null);(0,n.useEffect)((()=>{l&&s.current?.focus()}),[l,s]);const _=()=>{const a=s.current?.value.trim();c(!1),r(a||t),e&&a&&e(a).then((({success:e,error:t=null})=>{c(!e),u(e?null:t)}))},m=Boolean(d);return(0,y.tZ)(y.X6,{as:"h1",color:"ds.text.neutral.standard",textStyle:"ds.title.section.large"},!l&&(0,y.tZ)("div",{className:I()(Ru.nameContainer,{[Ru.hoverableContainer]:a}),onClick:()=>{a&&c(!0)}},o,i?(0,y.tZ)(zi.Z,{size:20,containerClassName:Ru.nameEditIcon}):(0,y.tZ)("img",{className:Ru.nameEditIcon,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMTAuMTY3OCAxLjA3MjAzQzEwLjkzMDUgMC4zMDkzMjMgMTIuMTY2OCAwLjMwOTMyMyAxMi45Mjk1IDEuMDcyMDNDMTMuNjkyMyAxLjgzNDc0IDEzLjY5MjMgMy4wNzEwOSAxMi45Mjk1IDMuODM0NzhNMS4xOTA0NCAxMC4wNDlMMC41IDEzLjUwMjJMMy45NTIyMSAxMi44MTE4TDExLjU0ODEgNS4yMTQ5N0w4Ljc4NjI4IDIuNDUzMkwxLjE5MDQ0IDEwLjA0OVoiIHN0cm9rZT0iIzBFNjQ3NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="})),l&&(0,y.tZ)("div",{className:Ru.editNameContainer},(0,y.tZ)("input",{ref:s,type:"text",className:I()(Ru.nameInput,{[Ru.error]:m}),defaultValue:o,onBlur:_,onKeyUp:e=>{13===e.keyCode&&_()}})),l&&m?(0,y.tZ)("div",{className:Ru.errorMessage},d):null)};var Uu=a(176103);const Bu="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNSAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNOC41IDEuMTMyMzJMMTQuNSA3LjEzMjMyTTguNSAxMy4xMzIzTDE0LjUgNy4xMzIzMk0xNC41IDcuMTMyMzJMMC41MDAwMDEgNy4xMzIzMiIgc3Ryb2tlPSIjRDZEMkNFIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",Gu="onboardingStepArrow--gqb_E47Df_",Fu="onboardingStepPanel--qnDSxlGTtS",Vu="onboardingStepCounterPanel--KZLs4foheX",$u="onboardingStepText--K_Kh_SIwEm",qu="circle--mihUuCFcJa";var Wu,Hu;const Ku=()=>{const{translate:e}=(0,p.Z)();return n.createElement("div",{className:"onboardingContainer--rP5364OajH"},n.createElement("div",{className:"onboardingTitlePanel--yGKYcW_2lp"},n.createElement("div",{className:"onboardingTitle--PulZ_ZvXpS"},e("team_groups_list_onboarding_title"))),n.createElement("div",{className:"onboardingStepsContainer--LZ8j5MDbRH"},n.createElement("div",{className:Fu},n.createElement("div",{className:Vu},n.createElement("div",{className:qu},"1")),n.createElement("div",{className:$u},e("team_groups_list_onboarding_step_1"))),n.createElement("div",{className:Gu},Wu||(Wu=n.createElement("img",{src:Bu}))),n.createElement("div",{className:Fu},n.createElement("div",{className:Vu},n.createElement("div",{className:qu},"2")),n.createElement("div",{className:$u},e("team_groups_list_onboarding_step_2"))),n.createElement("div",{className:Gu},Hu||(Hu=n.createElement("img",{src:Bu}))),n.createElement("div",{className:Fu},n.createElement("div",{className:Vu},n.createElement("div",{className:qu},"3")),n.createElement("div",{className:$u},e("team_groups_list_onboarding_step_3")))))};var Qu=a(739844);const Yu="onboarding_web_tacgetstarted",Xu=({key:e,index:t,isFirstTimeGroupCreation:a,hasNewGroupDelayPassed:n,children:i})=>{const{translate:s}=(0,p.Z)(),o=(0,at.v)(),{[Yu]:r=!1}=o.status!==Re.rq.Success?{}:o.data;return(0,y.tZ)(d.ua7,{sx:{"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}},animation:"fadeIn 250ms ease-out"},key:e,passThrough:0!==t||!a||!r||!n,placement:"bottom",arrowSize:12,trigger:"persist",content:(0,y.tZ)(y.nv,{color:"ds.text.inverse.standard"},s("team_groups_list_new_group_tooltip"))},i)};var Ju,e_;const t_="team_groups_list_search_placeholder",a_="isFirstTimeGroupCreation",n_=(e,t)=>{const a=e.name.toLocaleLowerCase(),n=t.name.toLocaleLowerCase();return a.localeCompare(n)},i_="onboarding_web_tacgetstarted",s_=({tooltipDismissed:e,setTooltipDismissed:t,children:a})=>{var n;const i=(0,s.TH)(),{translate:o}=(0,p.Z)(),r=(0,at.v)(),l=null!=(n=i.state?.[a_])&&n,{[i_]:c=!1}=r.status!==Re.rq.Success?{}:r.data;return(0,y.tZ)(d.ua7,{sx:{maxWidth:"400px"},passThrough:e||!l||!c,placement:"left-start",arrowSize:0,trigger:"persist",content:(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"8px",sx:{padding:"8px",textAlign:"left",width:"auto"}},(0,y.tZ)(y.X6,{as:"h1",color:"ds.text.inverse.catchy"},o("team_groups_edit_add_member_tooltip_title")),(0,y.tZ)(y.nv,{color:"ds.text.inverse.standard"},o("team_groups_edit_add_member_tooltip_content")),(0,y.tZ)(y.zx,{onClick:()=>t(!0),sx:{alignSelf:"end"}},o("team_invite_dialog_infobox_action")))},a)},o_=({lee:e,userGroup:t})=>{const a=(0,n.useRef)(null),{translate:i}=(0,p.Z)(),{teamId:s}=(0,wo.fV)(),{teamMembers:o}=yu(s),[r,l]=(0,n.useState)(null),[u,_]=(0,n.useState)(!1),[m,g]=(0,n.useState)([]),{invitePartialSuccessState:y,setInvitePartialSuccessState:b,handleInvitationResultClosed:h}=Nc(),x=(0,Oa.V)(),S=e=>(0,c.tZ)(Ps.q,{className:"avatar--ZwBEp_dc1w",email:e,size:32}),f=()=>Boolean(m.length);return(0,c.tZ)("div",null,(0,c.tZ)(zu.e,{ref:a,buttonLabel:i("team_groups_edit_add_members"),confirmButtonLabel:i("team_groups_edit_add_member_confirm"),cancelButtonLabel:i("team_groups_edit_add_member_cancel"),confirmButtonDisabled:!f(),onCancelButtonClick:()=>{g([]),l(null)},onConfirmButtonClick:async()=>{if(!f())return;const n=m,{groupId:o,revision:r,name:c}=t,u=n.map((e=>({alias:e.toLowerCase(),permission:"limited"})));if(null===s)return void e.reportError(new Error(Ya.N));const p=await(0,kn.j_)({teamId:s,groupId:o,revision:r,users:u});if(p.error)return"no_free_slot"===p.error.message||"not_enough_free_slots"===p.error.message?void x.showAlert(i("team_group_edit_add_member_not_enough_slots_error",{count:u.length,groupName:c}),d.BLW.ERROR):void x.showAlert(i("team_groups_edit_invite_member_to_group_error_message_markup"),d.BLW.ERROR);Object.keys(p.refusedMembers).length&&b({invitedMembers:{},refusedMembers:p.refusedMembers,show:!0}),a.current&&a.current.hidePopup(),g([]),l(null),_(!0)},popupClassName:"addMemberPopup--Zd2J1smSL4"},(0,c.tZ)(s_,{tooltipDismissed:u,setTooltipDismissed:_},(0,c.tZ)("span",{className:"addMemberLabel--DXxhvug4yq"},i("team_groups_edit_add_member_header")),r&&(0,c.tZ)("div",{className:"error--IjVtbntYUX"},r),(0,c.tZ)(Uu.J,{autoFocus:!0,className:"addMemberMultiselect--CDfv8wJoB6",dataSource:(()=>{const e=new Set(t.users.filter((({status:e})=>["accepted","pending"].includes(e))).map((({alias:e})=>e)));return o.filter((({login:t,status:a})=>"removed"!==a&&!e.has(t))).map((({login:e})=>({text:e,icon:S(e)})))})(),getCurrentSelectionAvatar:S,defaultValue:m,isItemValid:e=>(0,pa.vV)(e),onChange:e=>{g(e)},onError:e=>l(e?i(`team_groups_edit_error_${e.message}`):null),placeholder:i("team_groups_edit_add_member_input_placeholder")}))),(0,c.tZ)(Tc,{teamId:(0,v.ev)(e.globalState),isOpen:y.show,onClose:h,invitedMembers:y.invitedMembers,refusedMembers:y.refusedMembers}))};var r_;const l_=Di.Maybe.nothing(),c_=({onBackLinkClick:e,onDeleteClick:t,onRenameGroup:a,groupName:i,lee:s,userGroup:o})=>{const{translate:r}=(0,p.Z)(),[l,c]=(0,n.useState)(Di.Maybe.nothing()),[u,_]=(0,n.useState)(!1);return(0,y.tZ)(ju,null,(0,y.tZ)(y.zx,{mood:"brand",intensity:"supershy",layout:"iconLeading",icon:r_||(r_=(0,y.tZ)(y.JO,{name:"ArrowLeftOutlined"})),onClick:t=>{e(t)}},r("team_groups_edit_header_back")),(0,y.tZ)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,y.tZ)(Pu,{defaultValue:i,editable:!0,saving:u,onNameChanged:async e=>{_(!0);const{error:t}=await a(e);return _(!1),t===Lu?{success:!1,error:r("team_groups_edit_header_name_already_exists")}:{success:!0}}}),(0,y.tZ)("div",{style:{display:"flex",justifyContent:"left"}},(0,y.tZ)("span",{style:{marginRight:"8px"}},(0,y.tZ)(o_,{lee:s,userGroup:o})),(0,y.tZ)(zu.e,{buttonLabel:r("team_groups_edit_header_delete_group"),cancelButtonLabel:r("team_groups_edit_header_delete_group_cancel_button"),confirmButtonLabel:r("team_groups_edit_header_delete_group_confirm_button"),onCancelButtonClick:()=>{c(l_)},onConfirmButtonClick:()=>{c(l_),t()},confirmButtonDisabled:!l.caseOf({just:e=>e===i,nothing:()=>!1}),popupClassName:"confirmPopup--NTDDMjDo4B",buttonMood:"neutral",buttonIntensity:"quiet",buttonIconName:"ActionDeleteOutlined"},(0,y.tZ)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:12}},(0,y.tZ)(d.nvN,{size:"large"},r.markup("team_groups_edit_header_delete_group_confirm_title_markup",{group:i})),(0,y.tZ)(d.nvN,{color:"neutrals.8"},r("team_groups_edit_header_delete_group_confirm_subtitle")),(0,y.tZ)(d.oil,{fullWidth:!0,onChange:e=>{const t=e.target.value&&e.target.value.trim();c(Di.Maybe.maybe(t))},type:"text",defaultValue:l.caseOf({just:e=>e,nothing:()=>{}}),autoFocus:!0}))))))};var d_;const u_=e=>n.createElement("svg",{className:e.className,width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"none"},d_||(d_=n.createElement("path",{d:"M13.5 2.5V15.5H2.5V2.5M10.5 2.5V0.5H5.5V2.5M1 2.5H15M5.5 6V11M8 6V11M10.5 6V11",stroke:"#0E6476",strokeLinecap:"round",strokeLinejoin:"round"})));var __;const m_=n.memo((({member:e,handleRemoveMember:t})=>{const{translate:a}=(0,p.Z)();return n.createElement("tr",null,n.createElement("td",{className:"emailCell--c3avC4hgf6"},n.createElement("div",{className:"emailCellContainer--yFS7a4HnT_"},n.createElement(Ps.q,{className:"avatar--XHrkwJbc_C",email:e.alias,size:32}),e.alias)),n.createElement("td",{className:"rightsCell--Z6diiNotCT"},a((i=e.permission,s=e.status,"admin"===i&&"accepted"===s?"team_groups_edit_member_list_rights_manager":"limited"===i&&"accepted"===s?"team_groups_edit_member_list_rights_member":"pending"===s?"team_groups_edit_member_list_rights_pending":""))),n.createElement("td",{className:"plusCell--B02g3LGOlG"},n.createElement("div",{style:{cursor:"pointer"},onClick:()=>t(e)},__||(__=n.createElement(u_,null)))));var i,s})),p_=(0,wn.ascend)((0,wn.prop)("permission")),g_=(0,wn.ascend)((0,wn.compose)(wn.toLower,(0,wn.prop)("alias"))),y_=(0,wn.sortWith)([p_,g_]),b_=Di.Maybe.nothing(),h_=({lee:e,className:t,userGroup:a,revokeMembers:i})=>{const{translate:s}=(0,p.Z)(),[o,r]=(0,n.useState)(0),[l,c]=(0,n.useState)({showRemoveUserDialog:!1,removeMemberCandidate:Di.Maybe.nothing()}),u=e=>{c({showRemoveUserDialog:!0,removeMemberCandidate:Di.Maybe.just(e)})},_=()=>(a.users||[]).filter((e=>"accepted"===e.status||"pending"===e.status)),m=()=>{c({showRemoveUserDialog:!1,removeMemberCandidate:b_})},g=(0,wn.map)((e=>n.createElement(m_,{key:e.alias,member:e,handleRemoveMember:u}))),y=[{headerLabel:s("team_groups_edit_member_list_header_email"),headerKey:"email"},{headerLabel:s("team_groups_edit_member_list_header_group_rights"),colSpan:2,headerKey:"group-rights"}];return n.createElement("div",null,n.createElement("table",{className:I()(t,"table--hj3WYleNh5")},n.createElement(js,{columns:y}),n.createElement("tbody",null,(()=>{const e=24*o;return(0,wn.compose)(g,(0,wn.slice)(e,e+24),y_)(_())})())),n.createElement("div",{className:"pagination--Xk8h572zZ7"},n.createElement(hd.Z,{currentPageIndex:o,itemsLength:_().length,itemsPerPage:24,onChange:e=>{r(e)}})),n.createElement(U.o,{isOpen:l.showRemoveUserDialog,onRequestClose:m,footer:n.createElement(d.cNS,{primaryButtonTitle:s("team_groups_edit_member_list_action_remove_dialog_cta"),primaryButtonOnClick:()=>{Di.Maybe.sequence({removeMemberCandidate:l.removeMemberCandidate,userGroup:Di.Maybe.just(a)}).caseOf({just:({removeMemberCandidate:t,userGroup:a})=>{i(e.dispatchGlobal,{groupId:a.groupId,revision:a.revision,users:[t.userId]},{title:s("team_groups_edit_revoke_member_from_group_error_title"),message:s("team_groups_edit_revoke_member_from_group_error_message")})},nothing:()=>{}}),c({showRemoveUserDialog:!1,removeMemberCandidate:b_})},secondaryButtonTitle:s("team_groups_edit_member_list_action_remove_dialog_cancel"),secondaryButtonOnClick:m}),title:s("team_groups_edit_member_list_action_remove_dialog_header")},n.createElement("div",null,n.createElement("div",{className:"removeDialogTitle--Zn2JmJtOF0"},s("team_groups_edit_member_list_action_remove_dialog_title",{email:l.removeMemberCandidate.caseOf({just:e=>e.userId,nothing:()=>""})})),n.createElement("div",null,s("team_groups_edit_member_list_action_remove_dialog_subtitle")))))};var x_=a(947843),S_=a(988799);const f_=e=>`{${e.match.params.uuid}}`,v_={userGroup:{live:Qt.C.liveAdministrableUserGroup,liveParam:f_,query:Qt.C.getAdministrableUserGroup,queryParam:f_}},C_={strategies:v_},E_=(0,x_.$)((0,S_.i)((({lee:e,userGroup:t})=>{const{routes:a}=(0,s.Xo)(),{translate:i}=(0,p.Z)(),{addAlertToQueue:r}=V();(0,Qr.Bf)(),(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacGroupDetails)}),[]);const l=(e,t,a,n)=>{try{const e=JSON.parse(n);e.code&&(t.message+=` : ${e.code}`)}finally{e(ku.Qy.error({message:a,content:{error:n}})),r(t)}};if(!t)return null;const c=(0,y.tZ)(c_,{onBackLinkClick:()=>{(0,s.uX)(a.teamGroupsRoutePath)},onDeleteClick:()=>{const{groupId:n,revision:o}=t;(0,kn.FU)({groupId:n,revision:o}).then((()=>{(0,s.uX)(a.teamGroupsRoutePath)})).catch((t=>{const a={title:i("team_groups_edit_delete_group_error_title"),message:i("team_groups_edit_delete_group_error_message")};l(e.dispatchGlobal,a,"Group deletion failed",t.message)}))},onRenameGroup:async a=>{if(a===t.name)return{success:!0};const n=(t,a)=>{const n={title:i("team_groups_edit_rename_group_error_title"),message:i("team_groups_edit_rename_group_error_message")};return l(e.dispatchGlobal,n,a,t.message),{success:!1,error:"group_renaming_failed"}};try{if(!await Qt.C.isGroupNameAvailable(a))return{success:!1,error:Lu}}catch(e){return n(e,"Group name availability check failed")}try{const{groupId:e,revision:n}=t;return await(0,kn.J0)({groupId:e,revision:n,name:a}),{success:!0}}catch(e){return n(e,"Group renaming failed")}},groupName:t.name,lee:e.child(),userGroup:t});return(0,y.tZ)(Ou,{header:c},(0,y.tZ)(h_,{lee:e.child(),userGroup:t,revokeMembers:(e,t,a)=>{try{Qt.C.revokeUserGroupMembers(t).then((({error:t})=>{t&&l(e,a,"Revoke member from group failed",t.message)}))}catch(t){l(e,a,"Revoke member from group failed",t.message)}}}))}),C_),v_);var Z_=a(158432);const N_=(0,Z_.SP)("edit",{},[]),T_={userGroups:{live:Qt.C.liveAdministrableUserGroups,query:Qt.C.getAdministrableUserGroups}},D_={strategies:T_,loadingComponent:n.createElement(zi.Z,{containerStyle:{minHeight:240}})},M_=(0,x_.$)((0,S_.i)((({userGroups:e,lee:t})=>{const a=(0,n.useRef)(null),{translate:i}=(0,p.Z)(),{teamId:r}=(0,wo.fV)(),{routes:l}=(0,ms.Xo)(),{addAlertToQueue:c,reportTACError:u}=V(),[_,m]=(0,n.useState)(""),[g,b]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[S,f]=(0,n.useState)(""),[v,C]=(0,n.useState)(e),E=(0,n.useRef)(!1),Z=(0,s.k6)();(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacGroupList)}),[]),(0,n.useEffect)((()=>{const t=[...e].sort(n_),a=S?t.filter((e=>e.name.toLocaleLowerCase().includes(S.trim().toLocaleLowerCase()))):t;C(a)}),[S,e]);const N=e=>{Z.push({pathname:l.teamGroupRoutePath((0,Qu.FN)(e.groupId)),state:{[a_]:E.current}})},T=async e=>{var t;const a=null!=(t=e.target.value.trim())?t:"",n=""!==a&&await Qt.C.isGroupNameAvailable(a);m(a),b(n)},D=()=>{m("")},M=async()=>{if(!r)throw new Error("teamId missing when attempting to create group");try{await(0,kn.wZ)(t.dispatchGlobal,{name:_,teamId:r}),a.current?.hidePopup(),m(""),e?.length?E.current&&(E.current=!1):(E.current=!0,setTimeout((()=>{x(!0)}),700))}catch(e){let t;try{t=JSON.parse(e.message)?.code}catch{t=`${e?.message}`.toUpperCase()}t!==G&&c({title:i("team_groups_list_create_group_error_title"),message:i("MISSING_PUBLIC_KEY"===t?"team_groups_list_create_group_missing_public_key_error_message":"team_groups_list_create_group_error_message")}),u(new Error(e.message))}};return(0,y.tZ)(Ou,{header:(()=>{const e=!g&&""!==_;return(0,y.tZ)(ju,null,(0,y.tZ)("div",{sx:{display:"flex",justifyContent:"space-between"}},(0,y.tZ)(y.X6,{as:"h1",color:"ds.text.neutral.standard",textStyle:"ds.title.section.large"},i("team_groups_list_title")),(0,y.tZ)(zu.e,{ref:a,buttonLabel:i("team_groups_list_new_group_cta"),confirmButtonLabel:i("team_groups_list_new_group_creation_confirm_btn"),cancelButtonLabel:i("team_groups_list_new_group_creation_cancel_btn"),onConfirmButtonClick:M,onCancelButtonClick:D,confirmButtonDisabled:!g},(0,y.tZ)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:12}},(0,y.tZ)(y.nv,{as:"label"},i("team_groups_list_new_group_creation_header")),(0,y.tZ)(d.oil,{fullWidth:!0,onChange:T,defaultValue:_,type:"text",placeholder:i("team_groups_list_new_group_input_placeholder"),feedbackType:e?"error":void 0,feedbackText:e?i("team_groups_list_create_group_name_already_exists"):void 0,autoFocus:!0})))))})()},(()=>{const t=e?.length?(0,y.tZ)(d.T5p,{gap:"16px",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gridAutoRows:"48px"},v.map(((e,t)=>e?(0,y.tZ)(Xu,{key:e.groupId,index:t,isFirstTimeGroupCreation:E.current,hasNewGroupDelayPassed:h},(0,y.tZ)("div",{className:"groupItem",onClick:()=>N(e),onKeyDown:t=>{"Enter"===t.key&&N(e)},tabIndex:0,role:"button",title:e.name,sx:{cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"ds.container.expressive.neutral.quiet.idle",borderLeft:"4px solid",borderLeftColor:"ds.border.brand.standard.active",color:"ds.text.neutral.catchy",fontSize:"16px",fontWeight:"500",lineHeight:"20px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",padding:"8px 8px 8px 12px"}},e.name)):null))):Ju||(Ju=(0,y.tZ)(Ku,null));return(0,y.tZ)("div",{sx:{paddingY:"24px"}},(0,y.tZ)(y.ke,{title:i("team_groups_list_info_box_title"),mood:"brand"}),(0,y.tZ)(y.oi,{"aria-label":i(t_),placeholder:i(t_),type:"search",onChange:e=>{var t;return f(null!=(t=e.target.value)?t:"")},prefixIcon:e_||(e_=(0,y.tZ)(y.JO,{name:"ActionSearchOutlined"})),sx:{maxWidth:"365px",margin:0,padding:"16px 0"}}),t)})())}),D_),T_),I_=(0,Z_.SP)("list",{},[]),A_=lo(M_,Me.$.GROUPS),w_=lo(E_,Me.$.GROUPS);function k_(e){const{path:t,permission:a}=e;return n.createElement(s.GB,{exact:!0,path:[t,`${t}/:uuid`],component:wu,permission:a},n.createElement(s.rs,null,n.createElement(s.Vy,{exact:!0,path:t,component:A_,reducer:I_}),n.createElement(s.Vy,{path:`${t}/:uuid`,component:w_,reducer:N_})))}var O_=a(986081);const L_={settingsPage:"settingsPage--k2Ztg5L3TZ",withoutHeader:"withoutHeader--K7wlLBUI31",settingsContainer:"settingsContainer--nyZHFHWont",settingsPanel:"settingsPanel--F5zpYAN04H",settingsSinglePanel:"settingsSinglePanel--LTsNZL6FmT settingsPanel--F5zpYAN04H",settingsHeader:"settingsHeader--DA5bqRMOyd",settingsRow:"settingsRow--Mid_I3S6Qx",settingsLabel:"settingsLabel--jujfsFLy3D",settingsLabelContainer:"settingsLabelContainer--rCMIUljV94",settingsGreyedLabel:"settingsGreyedLabel--L0ZP86y4UJ",textSettingRow:"textSettingRow--JwyTaO5qbq",selectSettingRow:"selectSettingRow--CRjY3loqBA",switchSettingRow:"switchSettingRow--THK1RoaDKQ",textSettingLabel:"textSettingLabel--NnF9qI1YTv",selectSettingLabel:"selectSettingLabel--GL2kj6tANV",textFieldInputColumn:"textFieldInputColumn--G3ALnYhur_",helperLabelPanel:"helperLabelPanel--gGU7C6m_r2",infoBoxPanel:"infoBoxPanel--TMnBp9xS5d",textWithButtonSettingRow:"textWithButtonSettingRow--rWQRX8E5Np",textWithButtonSettingLabel:"textWithButtonSettingLabel--MRpg3N7VRW",versionContainer:"versionContainer--eWfpg9oE65",versionNumber:"versionNumber--uHC_eBvZbs",confirmationContent:"confirmationContent--C7lnmdM6Vl",title:"title--ZWrCKWwqvU"};var z_;const j_=({children:e,secondaryContent:t,title:a,isLoading:i=!1})=>i?z_||(z_=n.createElement(qr,{scopedToPage:!0})):n.createElement("div",{className:I()(L_.settingsPage,{[L_.withoutHeader]:!a})},n.createElement("div",{className:L_.settingsContainer},a?n.createElement("h1",{className:L_.title},a):null,n.createElement("div",{className:L_.settingsPanel},e),t));var R_=a(818345),P_=a(754674);const U_=({data:e,targetUri:t,...a})=>{const i=(0,n.useRef)(null);return(0,c.tZ)("form",{action:t,method:"post",ref:i,target:"_blank",rel:"noopener"},(()=>{const t=[];return Object.keys(e).forEach((a=>t.push((0,c.tZ)("input",{defaultValue:e[a],key:String(65535*Math.random()).replace(/\./,""),type:"hidden",name:a})))),(0,c.tZ)("div",null,t)})(),(0,c.tZ)(bd.Z,{onClick:()=>i.current?.submit(),...a}))},B_={uploadCsvLabel:"uploadCsvLabel--sX4DnYKGlL",fileContainer:"fileContainer--M2SFpr0Pvl",file:"file--dJtQQDGzSk",fileIcon:"fileIcon--MKumqlXPl7",fileTitle:"fileTitle--d2cupH4GiA",fileTitleHeader:"fileTitleHeader--jqYDFR_MsK",fileTitleHint:"fileTitleHint--g2OBjT1L4G",fileTitleHintError:"fileTitleHintError--F4iw3QsNVb",fileTitleHintSuccess:"fileTitleHintSuccess--JPyWdw7GS8",fileProgressBackground:"fileProgressBackground--NEs2tyO8Pe",fileProgress:"fileProgress--cr0wc0wF3w",fileProgressAnimation:"fileProgressAnimation--aFpkqnmOMV",fileProgressComplete:"fileProgressComplete--y2f1JLicyr",fileButtons:"fileButtons--ofyh4FIc7u",fileError:"fileError--RHrDBIVtVA",fileErrorTitle:"fileErrorTitle--Jx5QASYwkS",fileErrorTitleIcon:"fileErrorTitleIcon--b8GGJ4i0UT",fileErrorContent:"fileErrorContent--G67_aw40u7"},G_="team_settings_duo_header_general";var F_=a(183e3),V_=a(901500);const $_=({content:e,header:t,index:a})=>(0,y.tZ)(d.Ejs,{gap:"8px",sx:{flexFlow:"row",flexBasis:"25%"}},(0,y.tZ)(d.Ejs,{justifyContent:"center",alignItems:"center",sx:{width:36,height:36,borderRadius:36,flexShrink:0,backgroundColor:"ds.container.expressive.brand.quiet.idle",color:"ds.text.brand.standard"}},a),(0,y.tZ)("section",null,(0,y.tZ)(d.X6q,{sx:{fontSize:16,fontFamily:"Public Sans, PublicSans-Regular, Public Sans Regular",fontWeight:400,marginBottom:"8px"}},t),(0,y.tZ)(d.nvN,{sx:{fontSize:12,lineHeight:"16px",color:"ds.text.neutral.quiet"}},e))),q_=()=>{const{translate:e}=(0,p.Z)();return(0,c.tZ)("div",{sx:{display:"flex",flexDirection:"row",marginBottom:40,gap:"24px"}},(0,c.tZ)($_,{index:1,header:e("team_settings_master_password_policies_settings_stepper_step_request_title"),content:e("team_settings_master_password_policies_settings_stepper_step_request_subtitle")}),(0,c.tZ)($_,{index:2,header:e("team_settings_master_password_policies_settings_stepper_step_approval_title"),content:e("team_settings_master_password_policies_settings_stepper_step_approval_subtitle")}),(0,c.tZ)($_,{index:3,header:e("team_settings_master_password_policies_settings_stepper_step_recover_title"),content:e("team_settings_master_password_policies_settings_stepper_step_recover_subtitle")}),(0,c.tZ)($_,{index:4,header:e("team_settings_master_password_policies_settings_stepper_step_login_title"),content:e("team_settings_master_password_policies_settings_stepper_step_login_subtitle")}))};var W_,H_;const K_=({onClick:e,content:t})=>(0,y.tZ)(y.zx,{mood:"brand",intensity:"quiet",onClick:e,sx:{maxWidth:"fit-content"}},t);var Q_=a(920106),Y_=a(361809);var X_,J_;const{accessibleValidatorGreen:em}=d.colors,tm=({value:e,isDisabled:t,onSelectElementClick:a,options:i,saveValueFunction:s,successMessage:o,savingMessage:r})=>{const[l,c]=(0,n.useState)(Di.Maybe.nothing()),[u,_]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1);return(0,y.tZ)("div",{className:"container--Wz5267l08y"},(0,y.tZ)("div",{className:"select--EypTcJ6Y5l"},(0,y.tZ)(Y_.m,{value:e.valueOr(""),disabled:t||u||e.caseOf({just:()=>!1,nothing:()=>!0}),onChangeExtended:(e,t,a)=>{_(!0),s(a).then((()=>{_(!1),p(!0),c(Di.Maybe.nothing()),setTimeout((()=>{p(!1)}),1e3)})).catch((e=>{_(!1),p(!1);const t=(0,Xa.i)(e);c(Di.Maybe.just(t))}))},onClick:a,errorText:l.valueOr(""),successText:m?o:u?r:"",style:{marginTop:"-1.5em",width:320}},i.map((e=>(0,y.tZ)(Y_.t,{key:e.value,value:e.value,primaryText:e.label,disabled:e.disabled}))))),u||m?(0,y.tZ)("div",{className:"feedback--XqG4rKApan"},u?X_||(X_=(0,y.tZ)(d.HoD,{color:em,size:18})):J_||(J_=(0,y.tZ)(d.rE2,{size:20,color:em}))):null)},am={BUTTON_SAVE_LABEL:"team_settings_button_save_label",SAVING_LABEL:"team_settings_saving_label",BUTTON_EDIT_LABEL:"team_settings_button_edit_label",SAVE_SUCCESS_LABEL:"team_settings_save_success_label",SWITCH_DEFAULT_ERROR:"_common_generic_error"},nm=e=>t=>{e.onClick&&e.onClick(t)};function im(e,t,a){return n=>new Promise(((i,s)=>{let o=!1;if(e.validator){const t=e.validator(e.serializer?e.serializer(n):n);t&&(o=!0,s(new Error(e.getErrorMessageForKey?.(t))))}if(!o){var r;const o=(0,tn.v0)(t.globalState);if(!o)return a(new Error(Ya.N));const l=[];["disableAutoLoginDomains","idpSecurityGroups","teamDomain"].includes(null!=(r=e.feature)?r:"")?e.value.caseOf({just:t=>{const a=e.serializer?.(n),i=t.filter((e=>!a.some((t=>t===e)))),s=a.filter((e=>!t.some((t=>t===e))));l.push(...i.map((t=>({type:"remove_"+e.serverFeature,value:t})))),l.push(...s.map((t=>({type:"add_"+e.serverFeature,value:"disableAutoLoginDomains"===e.feature?t.toLowerCase():t}))))},nothing:()=>{e.serializer&&l.push(...e.serializer(n).map((t=>({type:"add_"+e.serverFeature,value:t}))))}}):"idp_url"===e.serverFeature&&0===n.length?l.push({type:"unset_"+e.serverFeature}):l.push({type:"set_"+e.serverFeature,value:n}),l.length?function(e,t){return(new nn.Z).editSettings({auth:e,operations:t})}(o,l).then((()=>{const a=e.serializer?e.serializer(n):n;e.feature&&t.dispatch(Q_.qs({feature:e.feature,value:a})),i()})).catch((t=>s(new Error(e.getErrorMessageForKey?.(t.message))))):i()}}))}function sm(e,t,a){return async n=>{e.feature&&t.dispatch(Q_.qs({feature:e.feature,value:e.serializer?e.serializer(n):n}));const i=(0,tn.v0)(t.globalState);if(!i)return a(new Error(Ya.N));const s="unset"===n?[{type:"unset_"+e.serverFeature}]:[{type:"set_"+e.serverFeature,value:e.serializer?e.serializer(n):n}];try{await(new nn.Z).editSettings({auth:i,operations:s})}catch(t){const a=t.data?.content||{},n=e.getErrorMessageForKey?.(a.error);throw new Error(n)}}}function om(e,t){return()=>Promise.resolve().then((()=>{t.dispatch(Q_.g7(e))}))}function rm(e,t,a){return async()=>{t.dispatch(Q_.GQ(e.feature));const n=(0,tn.v0)(t.globalState);if(!n)return a(new Error(Ya.N));const i=[{type:"set_"+e.serverFeature,value:e.value.caseOf({just:t=>{const a=!t;return e.serializer?e.serializer(a):a},nothing:()=>!1})}];if(e.value.valueOr(!1)){const{constraintsFromOtherFields:{requiredFor:a=[]}={}}=e;a.filter((e=>{const a=t.state[e.feature];return Boolean(a?.value)})).forEach((e=>{t.dispatch(Q_.GQ(e.feature)),i.push({type:"set_"+e.serverFeature,value:!1})}))}try{await(new nn.Z).editSettings({auth:n,operations:i})}catch(a){t.dispatch(Q_.GQ(e.feature));const n=a.data?.content||429===a.code&&{error:"too_many_requests"}||"not_authorized"===a.message&&{error:"not_authorized"}||{},i=e.getErrorMessageForKey?.(n.error);throw new Error(i)}}}function lm(e,t,a,n){switch(e.type){case"header":return function(e){return(0,y.tZ)("p",{key:e.label,className:L_.settingsHeader},e.label)}(e);case"textwithbutton":return i=e,(0,y.tZ)("div",{key:i.label,className:I()(L_.settingsRow,L_.textWithButtonSettingRow)},(0,y.tZ)("div",null,(0,y.tZ)("div",{className:I()(L_.settingsLabel,L_.textWithButtonSettingLabel)},i.label.split("//").map(((e,t)=>t%2?(0,y.tZ)("span",{className:L_.settingsGreyedLabel,key:e},e):e))),i.helperLabel?(0,y.tZ)("div",{className:L_.helperLabelPanel},i.helperLabel):null),(0,y.tZ)("div",null,(0,y.tZ)(P_.Z,{label:i.buttonLabel,onClick:nm(i)})));default:return function(e,t,a,n){let i=null,s=L_.settingsRow,o=L_.settingsLabel;switch(e.type){case"text":i=function(e,t,a,n){const i=!!e.multiLine,s=e.deserializer?e.deserializer(e.value):e.value;return(0,y.tZ)(on.X,{multiLine:i,defaultValue:s.valueOr(void 0),key:e.label,ariaLabelledBy:e.feature,saveBtnLabel:a(am.BUTTON_SAVE_LABEL),savingBtnLabel:a(am.SAVING_LABEL),editBtnLabel:a(am.BUTTON_EDIT_LABEL),placeholder:e.hintText,inputStyle:e.inputStyle,hintStyle:e.hintStyle,successMessage:a(am.SAVE_SUCCESS_LABEL),onSave:im(e,t,n),textFieldClassName:L_.textFieldInputColumn})}(e,t,a,n),s=I()(L_.settingsRow,L_.textSettingRow),o=I()(L_.settingsLabel,L_.textSettingLabel);break;case"select":i=function(e,t,a,n){return(0,y.tZ)(tm,{key:e.label,value:e.value.map((e=>e.toString())),saveValueFunction:sm(e,t,n),successMessage:a(am.SAVE_SUCCESS_LABEL),savingMessage:a(am.SAVING_LABEL),options:e.options})}(e,t,a,n),s=I()(L_.settingsRow,L_.selectSettingRow),o=I()(L_.settingsLabel,L_.selectSettingLabel);break;case"switch":i=function(e,t,a,n){const i=e.constraintsFromOtherFields?.disabledWhen?e.constraintsFromOtherFields.disabledWhen.reduce(((e,a)=>e.caseOf({just:e=>Di.Maybe.just(e),nothing:()=>{const e=t.state[a.feature];return"not_defined"===a.condition&&e.caseOf({just:e=>!e.length,nothing:()=>!0})||"is_disabled"===a.condition&&e.caseOf({just:e=>!e,nothing:()=>!0})||"is_enabled"===a.condition&&e.caseOf({just:e=>e,nothing:()=>!0})?Di.Maybe.maybe(a.warningMessage):Di.Maybe.nothing()}})),Di.Maybe.nothing()):Di.Maybe.nothing(),s=void 0!==(e.value.valueOr(!1)?e.confirmDisable:e.confirmEnable)?om:rm;return(0,y.tZ)(R_.Z,{isLoading:e.isLoading,genericErrorMessage:a(am.SWITCH_DEFAULT_ERROR),ariaLabelledBy:e.feature,key:e.label,value:e.value,isDisabled:i.caseOf({just:()=>!0,nothing:()=>!1}),disabledFeedbackMessage:i.valueOr(null),saveValueFunction:e.customSwitchHandler?e.customSwitchHandler:()=>s(e,t,n)(),successMessage:a(am.SAVE_SUCCESS_LABEL),savingMessage:a(am.SAVING_LABEL)})}(e,t,a,n),s=I()(L_.settingsRow,L_.switchSettingRow);break;case"cta":i=(0,y.tZ)(K_,{onClick:e.ctaAction,content:e.ctaLabel}),s=I()(L_.settingsRow,L_.switchSettingRow)}return(0,y.tZ)("div",{key:e.feature,className:s},(0,y.tZ)("div",{sx:{maxWidth:"50%"}},(0,y.tZ)("div",{className:L_.settingsLabelContainer},(0,y.tZ)("div",{className:o,id:e.feature},e.label.split("//").map(((e,t)=>t%2?(0,y.tZ)("span",{key:e,className:L_.settingsGreyedLabel},e):e))),e.badgeLabel?(0,y.tZ)(y.Ct,{label:e.badgeLabel,mood:"brand",iconName:e.badgeIconName,layout:"iconLeading"}):null),e.helperLabel?(0,y.tZ)("div",{className:L_.helperLabelPanel},e.helperLabel):null,e.infoBoxTitle&&e.infoBoxDescription?(0,y.tZ)("div",{className:L_.infoBoxPanel},(0,y.tZ)(y.ke,{size:"large",title:e.infoBoxTitle,description:e.infoBoxDescription})):null),i)}(e,t,a,n)}var i}const cm=({lee:e,createFieldListFunction:t,title:a,pageView:i})=>{const{translate:s}=(0,p.Z)(),{reportTACError:o}=V(),r=async()=>{var t;const a=await(0,kn.RR)({masterPassword:null!=(t=e.state.masterPasswordFieldValue)?t:""});if(e.dispatch(Q_.Kq(!a)),!a)return Promise.resolve();const n=e.state.confirmationField;if(!n)return;const i=rm(n,e,o);return e.dispatch(Q_.d()),i()},l=t=>{e.dispatch(Q_.kE(t.target.value))},c=t=>{"Enter"===t.key&&e.state.masterPasswordFieldValue&&r()};return(0,n.useEffect)((()=>{i&&(0,z.Nc)(i)}),[i]),(0,n.useEffect)((()=>{e.state.isLoading&&(async()=>{const t=(0,tn.v0)(e.globalState);if(t)try{var a,n,i,s,r;const o=await(new nn.Z).status({auth:t});e.dispatch(Q_.MP({allowPersistenceForMasterPassword:!o.content.team.info.mpPersistenceDisabled,allowSharing:!o.content.team.info.sharingDisabled,enforce2FA:"newDevice"===o.content.team.info.twoFAEnforced,cryptoForcedPayload:o.content.team.info.cryptoForcedPayload||"",disableAutoLoginDomains:null!=(a=o.content.team.info.autologinDomainDisabledArray)?a:[],enableForcedDomains:!!o.content.team.info.forcedDomainsEnabled,enablePersonalSpace:!!o.content.team.info.personalSpaceEnabled,enableRemoveForcedContent:!!o.content.team.info.removeForcedContentEnabled,enableVPN:!!o.content.team.info.secureWifiEnabled,forceAutomaticLogout:Number(o.content.team.info.forceAutomaticLogout||0),idpCertificate:null!=(n=o.content.team.info.idpCertificate)?n:"",idpSecurityGroups:null!=(i=o.content.team.info.idpSecurityGroups)?i:[],idpUrl:null!=(s=o.content.team.info.idpUrl)?s:"",lockOnExit:!!o.content.team.info.lockOnExit,collectSensitiveDataAuditLogsEnabled:!!o.content.team.info.collectSensitiveDataAuditLogsEnabled,ssoEnabled:!!o.content.team.info.ssoEnabled,teamDomain:null!=(r=o.content.team.info.teamDomains)?r:[]}))}catch(e){o(e)}else o(new Error(Ya.N))})()}),[]),n.createElement(j_,{title:a?s(a):void 0,isLoading:e.state.isLoading},t(e,s).map((t=>lm(t,e,s,o))),(()=>{if(!e.state.dialogIsVisible)return null;const t=e.state.confirmationField;if(!t)return null;const a=t.feature&&e.state[t.feature].valueOr(!1)?t.confirmDisable:t.confirmEnable;return a?n.createElement(F_.Z,{isOpen:!0,title:a.title,labelDismiss:a.dismiss,labelConfirm:a.confirm,onDismiss:()=>{e.dispatch(Q_.d())},onConfirm:()=>{r()},onChange:l,isMasterPasswordInvalid:e.state.isMasterPasswordInvalid,ctaIsDisabled:!e.state.masterPasswordFieldValue,onKeyDown:c},n.createElement("p",{className:L_.confirmationContent},a.helper1),n.createElement("p",{className:L_.confirmationContent},a.helper2),n.createElement("p",{className:L_.confirmationContent},a.label)):null})())};var dm=a(164718);const um="_common_generic_error",_m=a(894017),mm="team_settings_too_many_requests",pm="team_settings_enable_space_restrictions_save_error_msg_generic_error",gm="team_settings_lock_on_exit_save_error_msg_generic_error",ym=255,bm=(e,t,a,i)=>{const r=[],l=e.state.enablePersonalSpace.valueOr(!0)&&i;return l&&r.push(...((e,t)=>{const a=[];return a.push({type:"header",label:t("team_settings_header_team_space_options")},{type:"text",multiLine:!0,label:t("team_settings_team_domain"),helperLabel:t("team_settings_team_domain_helper"),hintText:t("team_settings_team_domain_placeholder"),feature:"teamDomain",serverFeature:"team_domain",value:e.state.teamDomain,serializer:e=>e?e.split(";").map((e=>e.trim().toLowerCase())).filter((e=>Boolean(e.length))):[],deserializer:e=>e.map((e=>e.length?e.join(";"):"")),validator:e=>e.some((e=>!_m.isFQDN(e)))?"wrong_url":e.some((e=>e.length>ym))?"wrong_size":null,getErrorMessageForKey:e=>{switch(e){case"wrong_size":return t("team_settings_team_domain_save_error_msg_wrong_size",{lengthLimit:ym});case"wrong_url":return t("team_settings_team_domain_save_error_msg_wrong_url");case"too_many_requests":return t(mm);default:return t("team_settings_team_domain_save_error_msg_generic_error")}}}),a.push({type:"switch",label:t("team_settings_enable_space_restrictions"),helperLabel:t("team_settings_enable_space_restrictions_helper"),value:e.state.enableForcedDomains,feature:"enableForcedDomains",serverFeature:"forced_domains_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?mm:pm),constraintsFromOtherFields:{disabledWhen:[{feature:"teamDomain",condition:"not_defined",warningMessage:t("team_settings_enable_space_restrictions_define_team_domain_first")}],requiredFor:[{feature:"enableRemoveForcedContent",serverFeature:"rm_forced_content_enabled"}]}}),a.push({type:"switch",label:t("team_settings_remove_forced_content"),helperLabel:t("team_settings_remove_forced_content_helper"),value:e.state.enableRemoveForcedContent,feature:"enableRemoveForcedContent",serverFeature:"rm_forced_content_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?mm:pm),constraintsFromOtherFields:{disabledWhen:[{feature:"teamDomain",condition:"not_defined",warningMessage:t("team_settings_remove_forced_content_define_team_domain_first")},{feature:"enableForcedDomains",condition:"is_disabled",warningMessage:t("team_settings_remove_forced_content_enable_forced_domains_first")}]}}),a})(e,t)),r.push({type:"header",label:t("team_settings_header_browser_settings")},{type:"text",multiLine:!0,label:t("team_settings_disable_auto_login_domains"),helperLabel:t("team_settings_disable_auto_login_domains_helper"),hintText:t("team_settings_disable_auto_login_domains_placeholder"),value:e.state.disableAutoLoginDomains,serializer:e=>(e.length?e.split(";"):[]).filter((e=>!!e.length)).map((e=>e.trim())),deserializer:e=>e.map((e=>e.join(";"))),validator:e=>e.some((e=>!new dm.Y(e).isUrlValid()))?"wrong_url":e.some((e=>e.length>ym))?"wrong_size":null,feature:"disableAutoLoginDomains",serverFeature:"autologin_domain_disabled",getErrorMessageForKey:e=>{switch(e){case"wrong_size":return t("team_settings_disable_auto_login_domains_save_error_msg_wrong_size",{lengthLimit:ym});case"wrong_url":return t("team_settings_disable_auto_login_domains_save_error_msg_"+e);case"too_many_requests":return t(mm);default:return t("team_settings_disable_auto_login_domains_save_error_msg_generic_error")}}}),r.push(...(()=>{const{translate:e}=(0,p.Z)(),{inviteLinkDataForAdmin:t,getInviteLinkDataForAdmin:a,inviteLinkDataLoading:i,createInviteLink:s,toggleInviteLink:o}=(0,Lc.h)(),{teamInfo:r}=(0,_.G)();return(0,n.useEffect)((()=>{a()}),[a]),[{type:"header",label:e("team_settings_header_user_access")},{type:"switch",isLoading:i,label:e("team_settings_enable_invite_link_label"),feature:"inviteLink",helperLabel:(0,y.tZ)(n.Fragment,null,e("team_settings_disable_enable_invite_link_helper"),!1===t?.disabled?(0,y.tZ)(d.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center",gap:"8px",sx:{marginTop:"12px"}},(0,y.tZ)(_u.q,{mood:"neutral",intensity:"supershy",iconProps:{color:"ds.text.neutral.standard"},copyValue:(0,ie.cI)(t.teamKey)}),(0,y.tZ)(d.nvN,{bold:!0,size:"x-small",sx:{textDecoration:"underline"}},(0,ie.cI)(t.teamKey))):null),value:Di.Maybe.maybe(!1===t?.disabled),customSwitchHandler:async n=>{const i=r?.teamInfo?.name,l=t?.teamKey;if(l){if(!await o(n.valueOr(!0)))throw Error(e(um))}else if(!await s(null!=i?i:""))throw Error(e(um));if(!await a())throw Error(e(um))}}]})()),r.push({type:"header",label:t("team_settings_header_security")}),r.push({type:"select",label:t("team_settings_force_auto_logout_after"),helperLabel:t("team_settings_force_auto_logout_after_helper"),value:e.state.forceAutomaticLogout,serializer:e=>Number(e),feature:"forceAutomaticLogout",serverFeature:"force_automatic_logout",options:["unset","15","30","60"].map((e=>({label:t("team_settings_force_auto_logout_after_"+e),value:e}))),getErrorMessageForKey:e=>t("too_many_requests"===e?mm:"team_settings_force_auto_logout_after_save_error_msg_generic_error")}),r.push({type:"switch",label:t("team_settings_lock_on_exit"),helperLabel:t("team_settings_lock_on_exit_helper"),value:e.state.lockOnExit,feature:"lockOnExit",serverFeature:"lock_on_exit",getErrorMessageForKey:e=>t("too_many_requests"===e?mm:gm)}),r.push({type:"switch",label:t("team_settings_collect_sensitive_data_audit_logs_enabled"),helperLabel:t(l?"team_settings_collect_sensitive_data_audit_logs_enabled_helper":"team_settings_collect_sensitive_data_audit_logs_enabled_helper_without_space"),value:e.state.collectSensitiveDataAuditLogsEnabled,feature:"collectSensitiveDataAuditLogsEnabled",serverFeature:"collect_sensitive_data_audit_logs_enabled",getErrorMessageForKey:e=>t("too_many_requests"===e?mm:gm)}),r.push({type:"select",label:t("team_settings_force_crypto_payload_label"),helperLabel:t("team_settings_force_crypto_payload_helper"),value:e.state.cryptoForcedPayload,feature:"cryptoForcedPayload",serverFeature:"crypto_forced_payload",options:[{label:t("team_settings_force_crypto_payload_option_disabled"),value:""},{label:t("team_settings_force_crypto_payload_option_argon2"),value:"$1$argon2d$16$3$32768$2$aes256$cbchmac$16$"},{label:t("team_settings_force_crypto_payload_option_pbkdf2_advanced"),value:"$1$pbkdf2$16$200000$sha256$aes256$cbchmac$16$"},{label:t("team_settings_force_crypto_payload_option_pbkdf2_standard"),value:"KWC3",disabled:!0}],getErrorMessageForKey:e=>t("too_many_requests"===e?mm:"team_settings_force_crypto_payload_save_error_msg_generic_error")},{type:"switch",label:t("team_settings_allow_sharing"),helperLabel:t("team_settings_allow_sharing_helper"),value:e.state.allowSharing,feature:"allowSharing",serverFeature:"sharing_disabled",getErrorMessageForKey:e=>t("too_many_requests"===e?mm:"team_settings_allow_sharing_save_error_msg_generic_error"),serializer:e=>!e}),r.push(((e,t,a)=>{const{shouldShowBuyOrUpgradePaywall:n,isTrialOrGracePeriod:i,accountSubscriptionCode:r,planType:l}=t,c=n&&i,d=n&&"starter"===l,u=`${ie.ub}?plan=${l===he.lD.Team?"team":"business"}&subCode=${r}&utm_source=button:buy_dashlane+click_origin:vpn_feature_activation_setting+origin_page:tac/settings/policies+origin_component:main_app`;let _,m,p;return c?(_=a("team_settings_available_in_paid_subscription_badge"),m=()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.BuyDashlane,clickOrigin:o.ClickOrigin.VpnFeatureActivationSetting})),(0,O.Yo)(u)},p=a("team_settings_buy_dashlane_cta")):d&&(_=a("team_settings_upgrade_badge"),m=()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.SeePlan,clickOrigin:o.ClickOrigin.VpnFeatureActivationSetting})),(0,s.uX)(`${e.routes.teamAccountChangePlanRoutePath}`)},p=a("team_settings_see_plans_cta")),{type:d||c?"cta":"switch",badgeIconName:d||c?"PremiumOutlined":void 0,badgeLabel:_,ctaAction:m,ctaLabel:p,label:a("team_settings_vpn"),helperLabel:a("team_settings_vpn_helper"),value:e.state.enableVPN,feature:"enableVPN",serverFeature:"secure_wifi",getErrorMessageForKey:e=>{switch(e){case"too_many_requests":return a("team_settings_too_many_requests");case"not_authorized":return a("team_settings_vpn_disabled_for_free_trial");default:return a("team_settings_vpn_save_error_msg_generic_error")}}}})(e,a,t)),r.push({type:"switch",label:t("team_settings_enforce_2fa"),helperLabel:t("team_settings_enforce_2fa_helper"),infoBoxTitle:t("team_settings_generate_recovery_codes_infobox_title"),infoBoxDescription:t.markup("team_settings_generate_recovery_codes_infobox_description_markup"),value:e.state.enforce2FA,feature:"enforce2FA",serverFeature:"two_factor_authentication_enforced",confirmEnable:{title:t("team_settings_enforce_2fa_confirm_enable_title"),label:t("team_settings_enforce_2fa_confirm_enable_helper2"),dismiss:t("team_settings_enforce_2fa_confirm_enable_dismiss"),confirm:t("team_settings_enforce_2fa_confirm_enable_confirm")},getErrorMessageForKey:e=>t("too_many_requests"===e?mm:"team_settings_enforce_2fa_save_error_msg_generic_error"),serializer:e=>e?"newDevice":"disabled"}),r};var hm=a(622880),xm=a(533258),Sm=a(460384),fm=a(287279);const vm=new Map([["business",o.B2bPlanTier.Business],["team",o.B2bPlanTier.Team],["legacy",o.B2bPlanTier.Legacy],["entreprise",o.B2bPlanTier.Business]]),Cm=({currentBillingPlanTier:e,emailDomainError:t,emailDomainSubmittedCount:a,emailDomainValidatedCount:n,encryptionServicePlatformSelected:i,idpValidationResponse:s,ssoSetupStep:r,ssoSolutionChosen:l,testSsoResponse:c})=>{(0,z.Kz)(new o.UserSetupSsoEvent({currentBillingPlanTier:e,emailDomainError:null!=t?t:o.EmailDomainError.OtherError,emailDomainSubmittedCount:null!=a?a:0,emailDomainValidatedCount:null!=n?n:0,encryptionServicePlatformSelected:null!=i?i:o.EncryptionServicePlatformSelected.AmazonWebServices,idpValidationResponse:null!=s?s:o.IdpValidationResponse.Success,ssoSetupStep:r,ssoSolutionChosen:l,testSsoResponse:null!=c?c:o.TestSsoResponse.NotTested}))},Em=e=>e&&vm.get(e)||o.B2bPlanTier.Business,Zm=e=>{Cm({...e,currentBillingPlanTier:Em(e.currentBillingPlanTier),ssoSolutionChosen:o.SsoSolutionChosen.SelfHostedSso})},Nm=e=>{Cm({...e,currentBillingPlanTier:Em(e.currentBillingPlanTier),ssoSolutionChosen:o.SsoSolutionChosen.NitroSso})};var Tm=a(605961),Dm=a.n(Tm),Mm=a(968074);const Im=e=>{const{markdownValue:t="",linkParams:a={},linkProps:i}=e,{linkTarget:s,onLinkClicked:o=(()=>{})}=a,r=t.includes("\n");return n.createElement(Dm(),{source:t,allowedTypes:["Text","Link","Emph","Strong","Paragraph","Softbreak","List","Item","Code"],containerTagName:"span",softBreak:"br",renderers:{Paragraph:r?"p":"span",Link:function(e){return n.createElement(Mm.Z,{...i,"aria-label":t,href:e.href,target:s,onClick:()=>{o(e.href)}},e.children)}}})},Am=({onClose:e,onConfirm:t,titleText:a,bodyText:i})=>{const{translate:s}=(0,p.Z)(),[o,r]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),u=s("_common_action_cancel");return(0,y.tZ)(d.VqE,{isOpen:!0,disableOutsideClickClose:!0,disableScrolling:!0,closeIconName:u,onClose:e},(0,y.tZ)(d.$N8,{title:a}),(0,y.tZ)(d.a7O,null,(0,y.tZ)(d.nvN,{color:l?"ds.text.danger.standard":"ds.text.neutral.standard"},null!=l?l:i)),(0,y.tZ)(d.cNS,null,(0,y.tZ)(y.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:()=>{e()},disabled:o},u),(0,y.tZ)(y.zx,{mood:"brand",intensity:"catchy",onClick:async()=>{r(!0),c(null);try{await t(),r(!1),e()}catch(e){c(e instanceof Error?e.message:s("_common_generic_error")),r(!1)}},isLoading:o,disabled:o},"Yes, clear setup")))};let wm;!function(e){e.ChooseSso="ChooseSso",e.SelfHosted="SelfHosted",e.Nitro="Nitro"}(wm||(wm={}));const km=({pageContext:e,onSetupClear:t})=>{const{routes:a}=(0,s.Xo)(),i=(0,w.B)(),{translate:r}=(0,p.Z)(),[l,c]=(0,n.useState)(!1),{teamId:d}=(0,wo.fV)(),{clearSettings:u,initSsoProvisioning:_}=(0,wa.u)(Sm.y),{status:m,data:g}=(0,Yr.k)(Sm.y,"ssoProvisioning");if(m!==Re.rq.Success||g.enableSSO.ssoEnabled)return null;const{global:{inferredSsoState:b,ssoCapable:h}}=g;if(!1===h)return(0,y.tZ)(y.ke,{mood:"neutral",size:"large",title:r("team_settings_es_sso_plan_error_header"),description:r("team_settings_es_sso_plan_missing_body"),actions:i?.premiumStatus?[(0,A.wt)(i.premiumStatus)?(0,y.tZ)(y.zx,{key:"buy",onClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.BuyDashlane,clickOrigin:o.ClickOrigin.SsoPaywallBanner})),(0,O.Yo)(`${ie.ub}?plan=business&subCode=${i?.subscriptionCode}`)},role:"link"},r("team_account_teamplan_plan_buy_dashlane")):(0,y.tZ)(s.rU,{key:"upgrade",to:`${a.teamAccountChangePlanRoutePath}?plan=business`},(0,y.tZ)(y.zx,null,r("team_settings_es_sso_plan_missing_button")))]:[]});const x=[xm.s5.enum.NitroIncomplete,xm.s5.enum.SelfHostedIncomplete];if(e!==wm.ChooseSso&&x.includes(b)){let a=null,i=async()=>{await(t?.()),Zm({ssoSetupStep:o.SsoSetupStep.ClearSsoSettings})};e===wm.SelfHosted&&b===xm.s5.enum.NitroIncomplete?(a={title:"To use self-hosted SSO, clear Confidential SSO setup",description:"If you want to use self-hosted SSO, which supports SCIM provisioning, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP.",cta:"Clear setup"},i=async()=>{await u(),await _({teamId:`${d}`}),await(t?.())}):e===wm.Nitro&&b===xm.s5.enum.SelfHostedIncomplete&&(a={title:"To use Confidential SSO, clear self-hosted SSO setup",description:"If you want to use Confidential SSO, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP.",cta:"Clear setup"},i=async()=>{await Qt.C.clearSelfHostedESSettings(),await _({teamId:`${d}`}),await(t?.())});const s=[xm.s5.enum.NitroComplete,xm.s5.enum.SelfHostedComplete];if(a&&!s.includes(b))return(0,y.tZ)(n.Fragment,null,l?(0,y.tZ)(Am,{onClose:()=>c(!1),onConfirm:i,titleText:"Are you sure?",bodyText:"This action can’t be undone."}):null,(0,y.tZ)(y.ke,{mood:"neutral",size:"large",title:a.title,description:(0,y.tZ)(Im,{markdownValue:a.description}),actions:[(0,y.tZ)(y.zx,{key:"clear",onClick:()=>c(!0)},a.cta)]}))}return(0,y.tZ)(y.ke,{mood:"warning",size:"large",title:"Switching between SSO options isn't available right now",description:"We're in the process of adding new capabilities to Confidential SSO. During this period, you can't switch between the two options. Before turning on your chosen SSO option, please make sure it meets your organization's needs."})};var Om,Lm=a(201428);const zm=[{li:"In a separate window, log in to your IdP account."},{li:"Find the section to create a new SSO application.",ol:[{li:"Add the ID and URLs provided here to your application."},{li:"Add members who will log in to Dashlane with SSO to your application."}]}],jm=({content:e})=>(0,y.tZ)("ol",{sx:{color:"ds.text.neutral.quiet"}},e.map((({li:e,ol:t},a)=>(0,y.tZ)(y.nv,{key:a,as:"li",textStyle:"ds.body.standard.regular"},(0,y.tZ)(Im,{markdownValue:e}),t?(0,y.tZ)(jm,{content:t}):null)))),Rm=()=>{var e,t,a;const{translate:n}=(0,p.Z)(),i=(0,Yr.k)(Sm.y,"ssoProvisioning"),s=i.status===Re.rq.Loading,o={entityId:null!=(e=i.data?.idpApplication.entityId)?e:"",acsUrl:null!=(t=i.data?.idpApplication.acsUrl)?t:"",signOnUrl:null!=(a=i.data?.idpApplication.signOnUrl)?a:""};return(0,y.tZ)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"24px",marginBottom:"32px"}},(0,y.tZ)("div",{sx:{ol:{listStyleType:"decimal",ml:"20px",ol:{listStyleType:"lower-alpha"}}}},(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard",sx:{mb:"8px"}},n("sso_confidential_idp_setup_page_title")),Om||(Om=(0,y.tZ)(jm,{content:zm}))),(0,y.tZ)(y.ke,{mood:"brand",size:"small",title:n("sso_confidential_idp_setup_infobox_message")}),(0,y.tZ)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"24px"}},(0,y.tZ)(Lm.x,{isLoading:s,value:o.entityId,label:n("sso_confidential_idp_setup_entity_id_label"),readOnly:!0}),(0,y.tZ)(Lm.x,{isLoading:s,value:o.acsUrl,label:n("sso_confidential_idp_setup_acs_url_label"),readOnly:!0}),(0,y.tZ)(Lm.x,{isLoading:s,value:o.signOnUrl,label:n("sso_confidential_idp_setup_sign_on_url_label"),readOnly:!0})))},Pm="sso_confidential_metadata_form_field_placeholder",Um="sso_confidential_metadata_form_error_could_not_find_entrypoint",Bm="sso_confidential_metadata_form_error_cound_not_validate_certificate",Gm="sso_confidential_metadata_form_error_server_error",Fm={XML_PARSE_FAILED:"sso_confidential_metadata_form_error_could_not_read_metadata",KEY_DESCRIPTOR_NOT_FOUND:Um,IDP_ENTRYPOINT_NOT_FOUND:Um,INVALID_IDP_SSO_DESCRIPTOR:Um,MISSING_CERTIFICATE:"sso_confidential_metadata_form_error_no_certificate",MULTIPLE_CERTIFICATES:"sso_confidential_metadata_form_error_multiple_certificates",INVALID_ENTRYPOINT:"sso_confidential_metadata_form_error_invalid_entrypoint",CERTIFICATE_TOO_SHORT:Bm,CERTIFICATE_TOO_LONG:Bm,CERTIFICATE_DECODE_FAILED:Bm},Vm={INVALID_METADATA_CONTENT:"sso_confidential_metadata_form_error_invalid_metadata_content",INVALID_METADATA_URL:"sso_confidential_metadata_form_error_invalid_metadata_url",DOMAIN_UPDATE_FAILED:Gm,SAVE_METADATA_FAILED:Gm,INTERNAL_ERROR:"sso_confidential_metadata_form_error_internal_error"},$m="Unexpected server error. Please try again or contact Customer Support.",qm="ssoIdpMetadata",Wm=()=>{var e;const[t,a]=(0,n.useState)(!1),{translate:i}=(0,p.Z)(),s=(0,Yr.k)(Sm.y,"ssoProvisioning"),{createTeam:r,validateMetadata:l,updateMetadata:c}=(0,wa.u)(Sm.y),d=s.status===Re.rq.Loading,u=null!=(e=s.data?.idpMetadata.metadataValue)?e:"",_={ssoIdpMetadata:u},m=s.data?.global.inferredSsoState,g=[xm.s5.enum.SelfHostedIncomplete,xm.s5.enum.SelfHostedComplete].includes(m),b=async e=>{var t;if(e&&!new dm.Y(e).isUrlValid())try{const a=await l({metadata:e});if(Nm({ssoSetupStep:o.SsoSetupStep.ValidateIdpMetadata,idpValidationResponse:(t=a,(0,fm.hx)(t)?Object.values(o.IdpValidationResponse).includes(t.error.tag)?t.error.tag:o.IdpValidationResponse.XmlParseFailed:o.IdpValidationResponse.Success)}),(0,fm.hx)(a)){const e=a.error.tag.toUpperCase();return i(e in Fm?Fm[e]:Fm.XML_PARSE_FAILED)}}catch(e){return e instanceof Error?e.message:"Unknown error"}};return(0,y.tZ)(Aa.J9,{initialValues:_,onSubmit:async(e,t)=>{try{a(!0);const n=s.data?.global.isTeamProvisionedInNitro;n||(await r(),Nm({ssoSetupStep:o.SsoSetupStep.CreateSsoApplication})),Nm({ssoSetupStep:o.SsoSetupStep.UpdateIdpSettings});const l=await c({metadata:""===e.ssoIdpMetadata?null:e.ssoIdpMetadata});if(a(!1),(0,fm.hx)(l)){const e=l.error.tag.toUpperCase();return t.setFieldError(qm,i(e in Vm?Vm[e]:$m))}}catch(e){return t.setFieldError(qm,$m)}},enableReinitialize:!0},(({isSubmitting:e,isValid:a,isValidating:n,dirty:s})=>{const o=g||e||d,r=o||!a||n||!s;return(0,y.tZ)(Aa.l0,{noValidate:!0},(0,y.tZ)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"}},(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard"},i("sso_confidential_metadata_form_section_heading")),(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{marginBottom:"24px"}},i("sso_confidential_metadata_form_paragraph")),(0,y.tZ)(Aa.gN,{name:qm,validateOnChange:!0,validate:b},(({field:t,meta:{error:a}})=>(0,y.tZ)(y.Kx,{required:!0,id:t.name,label:i("sso_confidential_metadata_form_field_label"),placeholder:i(Pm),"aria-label":i(Pm),autoCorrect:"off",autoComplete:"off",spellCheck:"false",disabled:o,feedback:!a||e||n?void 0:{text:a},error:!(!a||e||n),...t}))),(0,y.tZ)(y.zx,{type:"submit",sx:{mt:"12px",justifySelf:"end"},mood:u?"neutral":"brand",intensity:u?"quiet":"catchy",disabled:r,isLoading:t},i("sso_confidential_metadata_form_button_submit"))))}))},Hm="sso_confidential_verify_domain_field_placeholder",Km="sso_confidential_verify_domain_error_default",Qm={DOMAIN_ALREADY_PROVISIONED:"sso_confidential_verify_domain_error_domain_already_provisioned",SECURE_CONTENT_NOT_PARSED:"sso_confidential_verify_domain_error_secure_content_not_parsed"},Ym=["DOMAIN_NOT_FOUND","DOMAIN_CONFIGURATION_NOT_FOUND"],Xm="emailDomain",Jm=({disableForm:e})=>{var t,a;const{translate:i}=(0,p.Z)(),{spaceDetails:s}=(0,wo.fV)(),[r,l]=(0,n.useState)(""),[,c]=null!=(t=s?.associatedEmail.split("@"))?t:["",""],{deleteDomain:u,provisionDomain:_}=(0,wa.u)(Sm.y),m=(0,Yr.k)(Sm.y,"ssoProvisioning");(0,n.useEffect)((()=>{const e=m.data?.domainSetup[0]?.domainName;e&&l(e)}),[m?.data]);const g=null!=(a=m.data?.global.isTeamProvisionedInNitro)&&a&&m.data?.idpMetadata.metadataValue,b={emailDomain:g?r||c:""};return(0,y.tZ)(Aa.J9,{initialValues:b,onSubmit:async(e,t)=>{if(e.emailDomain)try{let a;a=await _({domainName:e.emailDomain}),(void 0===a||(0,fm.d6)(a))&&r&&(a=await u({domainName:r}));const n=void 0!==a&&(0,fm.hx)(a)&&Ym.includes((0,fm.Yv)(a).tag);if(Nm({ssoSetupStep:o.SsoSetupStep.SubmitEmailDomain,emailDomainSubmittedCount:1}),(0,fm.hx)(a)&&!n)return Nm({ssoSetupStep:o.SsoSetupStep.EmailDomainError,emailDomainSubmittedCount:1}),t.setErrors({[Xm]:Object.prototype.hasOwnProperty.call(Qm,a.error.tag)?i(Qm[a.error.tag]):i(Km)})}catch(e){var a;return t.setErrors({[Xm]:null!=(a=e?.message)?a:i(Km)})}else t.setErrors({[Xm]:e.emailDomain?null:i("sso_confidential_verify_domain_error_required")})},enableReinitialize:!0},(({isSubmitting:t,isValidating:a,isValid:n,dirty:s})=>{const o=e||t||!g,l=o||!n||a||!s&&b.emailDomain===r;return(0,y.tZ)(Aa.l0,{noValidate:!0},(0,y.tZ)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"}},(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard"},i(r?"sso_confidential_verify_domain_section_heading_update":"sso_confidential_verify_domain_section_heading")),r?(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",sx:{mb:"4px"}},i("sso_confidential_verify_domain_update_description")):null,(0,y.tZ)(Aa.gN,{name:Xm},(({field:a,meta:{error:n}})=>(0,y.tZ)(d.ua7,{passThrough:!e},(0,y.tZ)(y.qo,{label:i(Hm),labelPersists:!1,placeholder:i(Hm),id:Xm,required:!0,autoCorrect:"off",autoComplete:"off",disabled:o,...a,error:!(!n||t),feedback:n&&!t?{text:n,id:"error"}:void 0})))),(0,y.tZ)(y.zx,{type:"submit",sx:{mt:"12px",justifySelf:"end"},isLoading:t,mood:r?"neutral":"brand",intensity:r?"quiet":"catchy",disabled:l},i(r?"sso_confidential_verify_domain_button_update":"sso_confidential_verify_domain_button_submit"))))}))},ep=({checkingDomainVerification:e,setCheckingDomainVerification:t})=>{var a,i,s,r;const{translate:l}=(0,p.Z)(),[c,u]=(0,n.useState)(!1),_=(0,Yr.k)(Sm.y,"ssoProvisioning"),m=_.status===Re.rq.Error?"Something went wrong.":null,g=null!=(a=_.data?.domainSetup[0]?.domainName)?a:"",{checkDNSValidation:b}=(0,wa.u)(Sm.y),h=null!=(i=_.data?.domainVerificationInfo[g])?i:{txtValue:null,verificationStatus:null,subdomainValue:null,tokenFound:null,pendingReason:null},x=xm.X5.enum,S=h.verificationStatus===x?.valid,f=h.verificationStatus===x?.pending,v=h.verificationStatus===x?.invalid,C=f&&h.pendingReason===xm.Q8.enum.invalidToken,E=!g||!h.txtValue||S,Z=f&&c&&!C,N=(v||C)&&c,T=S&&c;return(0,n.useEffect)((()=>{if((v||f)&&c){const e=C?o.EmailDomainError.IncorrectText:v?o.EmailDomainError.OtherError:o.EmailDomainError.NotFound;Nm({ssoSetupStep:o.SsoSetupStep.VerifyDomain,emailDomainSubmittedCount:1}),Nm({emailDomainError:e,ssoSetupStep:o.SsoSetupStep.EmailDomainError,emailDomainSubmittedCount:1})}else h.verificationStatus===x?.valid&&c&&Nm({ssoSetupStep:o.SsoSetupStep.VerifyDomain,emailDomainSubmittedCount:1,emailDomainValidatedCount:1})}),[h.verificationStatus,c]),(0,y.tZ)("div",{sx:{alignItems:"stretch",display:"flex",flexFlow:"column nowrap",gap:"8px"}},(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard"},l("sso_confidential_verification_dns_txt_section_heading")),(0,y.tZ)("ol",{sx:{listStyleType:"decimal",ml:"20px"}},(0,y.tZ)(y.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},(0,y.tZ)(Im,{markdownValue:l("sso_confidential_verification_dns_txt_section_steps_1")})),(0,y.tZ)(y.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},(0,y.tZ)(Im,{markdownValue:l("sso_confidential_verification_dns_txt_section_steps_2")})),(0,y.tZ)(y.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},(0,y.tZ)(Im,{markdownValue:l("sso_confidential_verification_dns_txt_section_steps_3")}))),S?null:(0,y.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,y.tZ)(y.ke,{size:"small",mood:"brand",title:l("sso_confidential_verification_dns_txt_infobox_message")})),(0,y.tZ)(Lm.x,{label:l("sso_confidential_verification_dns_txt_subdomain_label"),labelPersists:!1,value:g&&null!=(s=h.subdomainValue)?s:"",disabled:!h?.subdomainValue?.length,readOnly:!!h?.subdomainValue?.length}),(0,y.tZ)(Lm.x,{label:l("sso_confidential_verification_dns_txt_txt_label"),labelPersists:!1,value:null!=(r=h.txtValue)?r:"",disabled:!h?.txtValue?.length,readOnly:!!h?.txtValue?.length}),m?(0,y.tZ)(y.X6,{as:"h3",textStyle:"ds.title.block.small",color:"ds.text.danger.quiet"},m):null,Z?(0,y.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,y.tZ)(y.ke,{size:"large",mood:"warning",title:l("sso_confidential_verification_dns_txt_verify_pending_title"),description:(0,y.tZ)(Im,{markdownValue:l("sso_confidential_verification_dns_txt_verify_pending_body")})})):null,N?(0,y.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,y.tZ)(y.ke,{size:"large",mood:"danger",title:l("sso_confidential_verification_dns_txt_verify_error_title"),description:C&&h.tokenFound?(0,y.tZ)(Im,{markdownValue:l("sso_confidential_verification_dns_txt_verify_error_incorrect_token_found",{tokenFound:h.tokenFound})}):(0,y.tZ)(Im,{markdownValue:l("sso_confidential_verification_dns_txt_verify_error_body")})})):null,T?(0,y.tZ)("div",{sx:{mt:"4px",mb:"10px",width:"100%"}},(0,y.tZ)(d.bZj,{severity:d.BLW.SUCCESS,closeIconName:"Close"},l("sso_confidential_verification_dns_txt_domain_verified"))):null,(0,y.tZ)(y.zx,{type:"button",isLoading:e,disabled:E||e,onClick:async()=>{t(!0),await b({domainName:g}),t(!1),u(!0)},sx:{alignSelf:"end",marginTop:"12px"}},l(c?"sso_confidential_verification_dns_txt_cta_retry":"sso_confidential_verification_dns_txt_cta_verify")))},tp="sso_confidential_enable_nitro_sso_confirm_dialog_cancel",ap=({title:e,body:t,primaryActionLabel:a,onConfirm:i,onCancel:s})=>{const{translate:o}=(0,p.Z)(),[r,l]=(0,n.useState)(!1);return(0,y.tZ)(y.Vq,{closeActionLabel:o(tp),title:e,isOpen:!0,onClose:s,actions:{primary:{children:a,onClick:async()=>{try{l(!0),await i()}catch{l(!1)}},disabled:r,isLoading:r},secondary:{children:o(tp),onClick:s,disabled:r}}},t)},np=()=>{var e;const{translate:t}=(0,p.Z)(),{showAlert:a}=(0,Oa.V)(),[i,s]=(0,n.useState)(!1),r=(0,Yr.k)(Sm.y,"ssoProvisioning"),{enableSso:l}=(0,wa.u)(Sm.y),c=r.data?.domainSetup[0]?.domainName,u=c?r.data?.domainVerificationInfo[c]:null,_=u?.verificationStatus!==xm.X5.enum.valid,m=r.data?.enableSSO.ssoEnabled,g=null!=(e=(0,xe.o)("provisioning_multiple_domains_confidential_sso_prod"))&&e,b=Boolean(_||m);return(0,y.tZ)(n.Fragment,null,(0,y.tZ)("div",{sx:{display:"grid",gap:"8px"}},(0,y.tZ)(y.nv,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard"},t(g?"sso_confidential_enable_nitro_sso_section_heading":"sso_confidential_enable_nitro_sso_section_heading_mono")),(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{mb:"4px",gridRow:"2",gridColumn:"1/1"}},t("sso_confidential_enable_nitro_sso_description")),(0,y.tZ)("div",{sx:{justifySelf:"end"}},(0,y.tZ)(y.zx,{id:"enableSso",onClick:()=>{s(!0),Nm({ssoSetupStep:o.SsoSetupStep.TurnOnSso})},disabled:b},t("sso_confidential_enable_nitro_sso_button_label")))),i?(0,y.tZ)(ap,{title:t("sso_confidential_enable_nitro_sso_confirm_dialog_title"),body:t("sso_confidential_enable_nitro_sso_confirm_dialog_body"),primaryActionLabel:t("sso_confidential_enable_nitro_sso_confirm_dialog_primary_action_label"),onConfirm:async()=>{await(async()=>{const e=await l();(0,fm.d6)(e)?a(t("sso_confidential_enable_nitro_sso_success_feedback"),d.BLW.SUCCESS):a(e.error.tag,d.BLW.ERROR)})(),Nm({ssoSetupStep:o.SsoSetupStep.CompleteSsoSetup}),s(!1)},onCancel:()=>{s(!1)}}):null)},ip=()=>{var e,t;const{translate:a}=(0,p.Z)(),[i,s]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),{testLoginUserWithEnclaveSSO:_}=(0,wa.u)(Sm.y),m=(0,Yr.k)(Sm.y,"ssoProvisioning"),g=null!=(e=m.data?.domainSetup[0]?.domainName)?e:"",b=null!=(t=(0,xe.o)("provisioning_multiple_domains_confidential_sso_prod"))&&t,h=m.data?.domainVerificationInfo[g]?.verificationStatus!==xm.X5.enum?.valid||!1;return(0,y.tZ)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"}},(0,y.tZ)("div",null,(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard",sx:{mb:"8px"}},a(b?"sso_confidential_test_nitro_sso_section_heading":"sso_confidential_test_nitro_sso_section_heading_mono")),(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard"},a("sso_confidential_test_nitro_sso_description"))),(0,y.tZ)("div",{sx:{justifySelf:"end",gridColumn:"2"}},(0,y.tZ)(Rd.M,{disabled:h,onClick:async()=>{s(!0);try{const e=await _({domainName:g}),t=(0,fm.d6)(e);Nm({ssoSetupStep:o.SsoSetupStep.TestSsoConnection,testSsoResponse:t?o.TestSsoResponse.Success:o.TestSsoResponse.Failure}),l(t),u(!t)}finally{s(!1)}},loading:i,content:a("sso_confidential_test_nitro_sso_no_extension_feedback"),neverShowTooltip:!0},a("sso_confidential_test_nitro_sso_button_label"))),r?(0,y.tZ)("div",{sx:{gridColumn:"1/span 2"}},(0,y.tZ)(d.bZj,{showIcon:!0,size:d.k3y.SMALL,severity:d.BLW.SUCCESS,onClose:()=>{l(!1)},closeIconName:"Close"},a("sso_confidential_test_nitro_sso_success_feedback"))):null,c?(0,y.tZ)("div",{sx:{gridColumn:"1/span 2"}},(0,y.tZ)(d.bZj,{showIcon:!0,size:d.k3y.SMALL,severity:d.BLW.ERROR,onClose:()=>{u(!1)},closeIconName:"Close"},a("sso_confidential_test_nitro_sso_error_feedback"))):null)},sp=({domainName:e,showModal:t,onClose:a})=>{var i,s;const{translate:o}=(0,p.Z)(),r=(0,Yr.k)(Sm.y,"ssoProvisioning"),{checkDNSValidation:l}=(0,wa.u)(Sm.y),[c,d]=(0,n.useState)(!1);if(r.status!==Re.rq.Success)return null;const u=e?r.data.domainVerificationInfo[e]:void 0;if(!u)return null;let _=o("sso_confidential_verify_domain_modal_verify_domain_button");return"valid"===u.verificationStatus?_=o("sso_confidential_verify_domain_modal_verify_domain_button_close"):("pending"===u.verificationStatus&&u.pendingReason||"invalid"===u.verificationStatus)&&(_=o("sso_confidential_verify_domain_modal_verify_domain_button_retry")),(0,y.tZ)(y.Vq,{closeActionLabel:o("_common_dialog_dismiss_button"),title:o("sso_confidential_verify_domain_modal_title",{domainName:e}),isOpen:t,onClose:a,actions:{primary:{children:_,onClick:"valid"===u.verificationStatus?a:async()=>{d(!0),await l({domainName:e}),d(!1),a()},isLoading:c}}},(0,y.tZ)("ol",{sx:{listStyleType:"decimal",ml:"20px"}},(0,y.tZ)(y.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard"},o("sso_confidential_verify_domain_modal_instruction_1")),(0,y.tZ)(y.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard"},o("sso_confidential_verify_domain_modal_instruction_2")),(0,y.tZ)(y.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard"},o("sso_confidential_verify_domain_modal_instruction_3"))),(0,y.tZ)(y.ke,{title:o("sso_confidential_verify_domain_modal_infobox_title"),mood:"brand"}),(0,y.tZ)(Lm.x,{label:o("sso_confidential_verify_domain_modal_subdomain_label"),value:null!=(i=u.subdomainValue)?i:"",readOnly:!0}),(0,y.tZ)(Lm.x,{label:o("sso_confidential_verify_domain_modal_txt_label"),value:null!=(s=u.txtValue)?s:"",readOnly:!0}),u.verificationStatus===xm.X5.enum.pending&&u.pendingReason===xm.Q8.enum.invalidToken?(0,y.tZ)(y.ke,{title:o("sso_confidential_verify_domain_modal_error_infobox_title_invalid_token"),description:u.tokenFound,mood:"danger",size:"medium"}):null,u.verificationStatus===xm.X5.enum.pending&&u.pendingReason===xm.Q8.enum.tokenNotFound?(0,y.tZ)(y.ke,{title:o("sso_confidential_verify_domain_modal_error_infobox_title_token_not_found"),description:o("sso_confidential_verify_domain_modal_error_infobox_description_token_not_found"),mood:"danger",size:"medium"}):null,u.verificationStatus===xm.X5.enum.invalid?(0,y.tZ)(y.ke,{title:o("sso_confidential_verify_domain_modal_error_infobox_title_generic_error"),mood:"danger",size:"medium"}):null)};var op,rp,lp=a(198187),cp=a(87065),dp=a(52273);const up="sso_confidential_verify_domain_step_domain_input_label",_p="sso_confidential_verify_domain_step_domain_input_button_view_details",mp={valid:3,pending:2,expired:1,invalid:0},pp=({status:e,ssoActive:t})=>{const{translate:a}=(0,p.Z)();let n,i,s;switch(e){case xm.X5.enum.valid:n=a(t?"sso_confidential_verify_domain_step_sso_status_active":"sso_confidential_verify_domain_step_sso_status_verified"),s=t?"catchy":"quiet",i="positive";break;case xm.X5.enum.expired:case xm.X5.enum.invalid:n=a("sso_confidential_verify_domain_step_sso_status_error"),i="danger",s="quiet";break;case xm.X5.enum.pending:default:n=a("sso_confidential_verify_domain_step_sso_status_unverified"),s="quiet",i="neutral"}return(0,y.tZ)(y.Ct,{mood:i,intensity:s,label:n})},gp=({domainName:e,ssoActive:t,onModalOpen:a,onDeleteDomain:i,onTextInputChange:s,disabled:o,duplicate:r})=>{var l;const{translate:c}=(0,p.Z)(),{provisionDomain:u,deleteDomain:_}=(0,wa.u)(Sm.y),m=(0,Yr.k)(Sm.y,"ssoProvisioning"),[g,b]=(0,n.useState)(!1),h=(0,n.useMemo)((()=>new lp.x),[]),x=(0,n.useCallback)(s,[s]),S=r?void 0:m.data?.domainVerificationInfo[e];return(0,n.useEffect)((()=>{h.asObservable().pipe((0,cp.U)((e=>e.currentTarget.value)),(0,dp.b)(200)).subscribe((e=>{e&&x(e)}))}),[h,x]),(0,y.tZ)(n.Fragment,null,(0,y.tZ)(d.dDn,{sx:{display:"flex",alignItems:"center"}},(0,y.tZ)(pp,{status:S?.pendingReason||r?"invalid":null!=(l=S?.verificationStatus)?l:null,ssoActive:t&&!r})),(0,y.tZ)(d.dDn,null,(0,y.tZ)(y.qo,{label:c(up),placeholder:c(up),labelPersists:!1,autoCorrect:"off",autoComplete:"off",disabled:o,hasClearAction:S?.verificationStatus!==xm.X5.enum.valid,readOnly:S?.verificationStatus===xm.X5.enum.valid,onChange:e=>h.next(e),value:e,sx:{width:"400px"},error:S?.verificationStatus===xm.X5.enum.invalid||S?.verificationStatus===xm.X5.enum.pending&&!!S?.pendingReason||r,feedback:r?{text:c("sso_confidential_verify_domain_error_domain_already_provisioned")}:S?.verificationStatus===xm.X5.enum.valid&&t?{text:c("sso_confidential_verify_domain_step_domain_input_feedback_sso_active")}:S?.verificationStatus===xm.X5.enum.pending&&S?.pendingReason===xm.Q8.enum.invalidToken?{text:c("sso_confidential_verify_domain_step_domain_input_feedback_sso_error_invalid_token")}:S?.verificationStatus===xm.X5.enum.pending&&S?.pendingReason===xm.Q8.enum.tokenNotFound?{text:c("sso_confidential_verify_domain_step_domain_input_feedback_sso_error_token_not_found")}:S?.verificationStatus===xm.X5.enum.invalid?{text:c("sso_confidential_verify_domain_step_domain_input_feedback_sso_error_generic")}:void 0})),S?.verificationStatus===xm.X5.enum.valid&&t&&!r?(0,y.tZ)(d.dDn,{justifySelf:"end",alignSelf:"center",gridColumnStart:"3",gridColumnEnd:"5"},(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",onClick:a,disabled:o||r},c(_p))):S?.verificationStatus===xm.X5.enum.valid?(0,y.tZ)(d.dDn,{justifySelf:"end",alignSelf:"center"},(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",onClick:a,disabled:o||r},c(_p))):(0,y.tZ)(d.dDn,{justifySelf:"end",alignSelf:"center"},(0,y.tZ)(y.zx,{mood:"brand",intensity:"quiet",disabled:!e||o||r,isLoading:g,onClick:async()=>{S||(b(!0),await u({domainName:e}),b(!1)),a()},sx:{position:"relative"}},c("sso_confidential_verify_domain_step_domain_input_button_verify"))),S?.verificationStatus===xm.X5.enum.valid&&t?null:(0,y.tZ)(d.dDn,{justifySelf:"end",alignSelf:"center",sx:{display:"flex",alignItems:"center"}},(0,y.tZ)(y.zx,{mood:"danger",intensity:"supershy",layout:"iconOnly",icon:op||(op=(0,y.tZ)(y.JO,{name:"ActionDeleteOutlined"})),isLoading:g,onClick:async()=>{S&&!r&&(b(!0),await _({domainName:e}),b(!1)),i()},sx:{position:"relative"},disabled:o})))},yp=()=>{var e,t,a;const{translate:i}=(0,p.Z)(),[s,o]=(0,n.useState)([]),[r,l]=(0,n.useState)(null),{spaceDetails:c}=(0,wo.fV)(),u=(0,Yr.k)(Sm.y,"ssoProvisioning"),[,_]=null!=(e=c?.associatedEmail.split("@"))?e:["",""],m=u.data?.domainVerificationInfo,g=(0,n.useCallback)(((e,t)=>{if(!m)return 0;const a=m[e],n=m[t];if(null===a?.verificationStatus&&null===n?.verificationStatus)return 0;const i=a?.verificationStatus?mp[a.verificationStatus]:-1,s=n?.verificationStatus?mp[n.verificationStatus]:-1;if(i>s)return-1;if(s>i)return 1;const o=e.toLowerCase().replace(/ /g,""),r=t.toLowerCase().replace(/ /g,"");return o===r?0:r<o?""!==r?1:-1:o<r?""!==o?-1:1:0}),[m]),b=null!=(t=u.data?.enableSSO.ssoEnabled)&&t,h=null!=(a=u.data?.global.isTeamProvisionedInNitro)&&a&&u.data?.idpMetadata.metadataValue;return(0,n.useEffect)((()=>{if(u.data?.domainVerificationInfo&&0===s.length){var e;const t=Object.keys(null!=(e=u.data?.domainVerificationInfo)?e:{}).sort(((e,t)=>g(e,t)));o(t.length>0?t.map((e=>e)):[_])}}),[s.length,_,u.data?.domainVerificationInfo,g]),u.status!==Re.rq.Success?null:(0,y.tZ)(n.Fragment,null,(0,y.tZ)(y.X6,{as:"h3",color:"ds.text.neutral.standard",textStyle:"ds.title.section.medium",sx:{paddingBottom:"32px"}},i("sso_confidential_verify_domain_step_title")),(0,y.tZ)(d.T5p,{gap:"16px 10px",gridTemplateColumns:"100px 1fr 126px 40px",sx:{"& > *::after":{content:'""',position:"absolute",borderBottom:"1px solid #8C8F90"}}},(0,y.tZ)(d.dDn,{sx:{"& > ::after":{content:'""',borderBottom:"1px solid #8C8F90"}}},(0,y.tZ)(y.X6,{as:"h4",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small"},i("sso_confidential_verify_domain_step_table_header_status"))),(0,y.tZ)(d.dDn,{gridColumnStart:2,gridColumnEnd:5},(0,y.tZ)(y.X6,{as:"h4",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small"},i("sso_confidential_verify_domain_step_table_header_domain"))),(()=>{const e=new Set;return s.map(((t,a)=>{const n=m?(0,y.tZ)(gp,{key:a,domainName:t,ssoActive:b,onTextInputChange:e=>((e,t)=>{const a=s.map(((a,n)=>n===e?t:a));o(a)})(a,e),onModalOpen:()=>(async e=>{const t=s[e];o([...s]),l(t)})(a),onDeleteDomain:()=>(async e=>{s.splice(e,1),o([...s])})(a),disabled:!h,duplicate:e.has(t)}):void 0;return e.add(t),n}))})(),(0,y.tZ)(d.dDn,{gridColumnStart:2},(0,y.tZ)(y.zx,{mood:"brand",intensity:"supershy",layout:"iconLeading",icon:rp||(rp=(0,y.tZ)(y.JO,{name:"ActionAddOutlined"})),size:"small",onClick:()=>{o([...s,""])},disabled:!h},i("sso_confidential_verify_domain_step_add_domain_button_label")))),(0,y.tZ)(sp,{domainName:null!=r?r:"",showModal:null!==r,onClose:()=>{l(null)}}))};var bp,hp,xp,Sp,fp;const{dashDarkerGreen00:vp,dashGreen00:Cp,midGreen00:Ep}=d.colors,Zp={CARD_1_HEADING:"Before you start",CARD_1_BODY_INTRO:"To set up SSO, you'll need:",CARD_1_BODY_POINTS:["Access to your IdP and public DNS provider accounts","A list of members to add to your SSO application","IdP metadata","Email domain"],CARD_1_SUB_HEADING:"Need help?",CARD_1_SUB_BODY:"For help setting up SSO, contact our Customer Support.",CARD_2_HEADING:"After turning on SSO",CARD_2_BODY_FIRST:"After SSO is turned on, non-admin members are required to log in with SSO.",CARD_2_BODY_SECOND:"They must use the browser extension when using Dashlane on a computer. They can also log in with SSO on mobile.",CARD_2_BODY_THIRD:"Admins can't log in with SSO. They still need to enter their Master Password."},Np="support@dashlane.com",Tp=()=>{const[e,t]=(0,n.useState)(!1),{status:a,data:i}=(0,Yr.k)(Sm.y,"ssoProvisioning"),s=(0,xe.o)("provisioning_multiple_domains_confidential_sso_prod");if(a!==r.rq.Success||null===s)return null;const o=a===r.rq.Success?!i.enableSSO.ssoEnabled:null;return(0,y.tZ)("div",null,(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"32px",sx:{flexGrow:1}},o?(0,y.tZ)(km,{pageContext:wm.Nitro}):null,(0,y.tZ)(d.Zbd,{sx:{padding:"32px"}},bp||(bp=(0,y.tZ)(Rm,null)),hp||(hp=(0,y.tZ)(Wm,null))),s?(0,y.tZ)(d.Zbd,{sx:{padding:"32px"}},xp||(xp=(0,y.tZ)(yp,null))):(0,y.tZ)(n.Fragment,null,(0,y.tZ)(d.Zbd,{sx:{padding:"32px"}},(0,y.tZ)(Jm,{disableForm:e})),(0,y.tZ)(d.Zbd,{sx:{padding:"32px"}},(0,y.tZ)(ep,{checkingDomainVerification:e,setCheckingDomainVerification:t}))),(0,y.tZ)(d.Zbd,{sx:{padding:"32px"}},Sp||(Sp=(0,y.tZ)(ip,null))),(0,y.tZ)(d.Zbd,{sx:{padding:"32px"}},fp||(fp=(0,y.tZ)(np,null)))))},Dp=e=>(0,y.tZ)("div",{sx:{border:"none",display:"flex",gap:"24px",flexDirection:"column"},...e},(0,y.tZ)(tl,null,(0,y.tZ)(y.X6,{as:"h3",textStyle:"ds.title.block.medium"},Zp.CARD_1_HEADING),(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},Zp.CARD_1_BODY_INTRO),(0,y.tZ)(y.nv,{as:"ul",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",sx:{margin:"0px 0px 8px 20px",listStyleType:"disc"}},Zp.CARD_1_BODY_POINTS.map((e=>(0,y.tZ)("li",{key:e},e)))),(0,y.tZ)(y.X6,{as:"h3",textStyle:"ds.title.block.medium"},Zp.CARD_1_SUB_HEADING),(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},Zp.CARD_1_SUB_BODY),(0,y.tZ)(d.rUS,{color:Ep,hoverColor:Cp,activeColor:vp,href:`mailto:${Np}`,sx:{fontSize:"14px"}},Np)),(0,y.tZ)(tl,null,(0,y.tZ)(y.X6,{as:"h3",textStyle:"ds.title.block.medium"},Zp.CARD_2_HEADING),(0,y.tZ)(y.nv,{textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet"},Zp.CARD_2_BODY_FIRST),(0,y.tZ)(y.nv,{textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet"},Zp.CARD_2_BODY_SECOND),(0,y.tZ)(y.nv,{textStyle:"ds.title.block.small",color:"ds.text.danger.standard"},Zp.CARD_2_BODY_THIRD))),Mp=({backRoute:e})=>{const{data:t}=(0,Yr.k)(Sm.y,"ssoProvisioning"),{translate:a}=(0,p.Z)(),n=!t?.enableSSO.ssoEnabled,i=!t?.enableSSO.ssoEnabled;return(0,y.tZ)(d.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},(0,y.tZ)("div",{sx:{px:"48px",pt:"32px",pb:"12px"}},(0,y.tZ)(hs,{title:a("sso_confidential_page_title"),titleBadge:n?(0,y.tZ)(y.Ct,{intensity:"catchy",mood:"brand",layout:"labelOnly",label:a("team_new_label")}):null}),i?(0,y.tZ)(d.rUS,{color:Ep,hoverColor:Cp,activeColor:vp,onClick:()=>{Nm({ssoSetupStep:o.SsoSetupStep.ReturnToSsoSelection}),(0,s.uX)(e)},sx:{fontSize:"16px",display:"flex",textDecoration:"none",marginTop:"-18px"}},(0,y.tZ)(y.JO,{name:"ArrowLeftOutlined",size:"small",color:Cp,sx:{marginRight:"10px"}})," ","Back"):null),(0,y.tZ)(Iu,{mainContent:Tp,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px"},secondaryContent:Dp,sx:{background:"transparent"}}))};var Ip=a(46298);const Ap=()=>{const[e,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(),s=(0,n.useCallback)((async()=>{try{return await Qt.C.getEncryptionServiceConfig()}catch{return{success:!1,error:{code:Ip.UnknownError}}}}),[]),o=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||t(!0);const a=await s();return e.signal.aborted||(a.success&&i(a.data),t(!1)),a}),[s]);return(0,n.useEffect)((()=>{const e=new AbortController;return o(e),()=>{e.abort()}}),[o]),{esConfigLoading:e,esConfig:a,refreshEncryptionServiceConfig:o}};var wp=a(611999),kp=a(44966);const Op="esConfigurationLabel",Lp=({value:e,disabled:t,error:a,isLoading:i=!1,configRegenRequired:s,lastGeneratedTimeStamp:o})=>{const{translate:r}=(0,p.Z)(),l=o?(0,c.tZ)(d.Ejs,{gap:"4px",sx:{mt:"8px"},justifyContent:"center"},(0,c.tZ)(y.nv,{textStyle:"ds.body.reduced.strong"},r("team_settings_encryption_service_generate_configuration_timestamp")),(0,c.tZ)(y.nv,{textStyle:"ds.body.reduced.regular"},(0,Ht.Z)(o).toLocaleString(navigator.language,{...ea.qG.lll,timeZoneName:"short"}))):null;return(0,c.tZ)(d.T5p,{gridTemplateAreas:"'label button' 'description button' 'timestamp timestamp' 'config buttons'",gridTemplateColumns:"3fr 1fr",sx:{gridColumnGap:"8px"}},(0,c.tZ)(d.dDn,{gridArea:"label",sx:{paddingBottom:"8px"},as:y.nv,innerAs:"label",id:Op,textStyle:"ds.title.block.medium"},r("team_settings_encryption_service_generate_configuration_label")),(0,c.tZ)(d.dDn,{gridArea:"description",as:y.nv},r("team_settings_encryption_service_generate_configuration_label_helper")),(0,c.tZ)(d.dDn,{gridArea:"button"},(0,c.tZ)(y.zx,{disabled:t||i,mood:e&&!s?"neutral":"brand",intensity:e&&!s?"quiet":"catchy",fullsize:!0,type:"submit",isLoading:i},r("team_settings_encryption_service_generate_configuration_button")),s?null:l),e?(0,c.tZ)(n.Fragment,null,(0,c.tZ)(d.dDn,{gridArea:"config",sx:{marginTop:"18px"}},(0,c.tZ)(y.Kx,{"aria-labelledby":Op,readOnly:!0,disabled:s,value:e,feedback:a?{text:a}:void 0,error:!!a})),(0,c.tZ)(d.dDn,{as:d.Ejs,gridArea:"buttons",sx:{marginTop:"18px"},flexDirection:"column",gap:"8px"},(0,c.tZ)(_u.q,{disabled:s,copyValue:e,buttonText:r("input_copy_button"),fullsize:!0}),(0,c.tZ)(kp.o,{disabled:s,buttonText:r("team_settings_encryption_service_config_download_button"),downloadString:e,fileName:"dashlane-encryption-service-config.txt",fileType:"text/plain",fullsize:!0}))):null)};function zp(e){const t=(0,n.useMemo)((()=>e),[e]),[a,i]=(0,n.useState)(!1),[s,o]=(0,n.useState)(),r=(0,n.useCallback)((async()=>{const e={success:!1,error:{code:Ip.UnknownError}};try{return t?await Qt.C.getTeamDevice({teamDeviceAccessKey:t}):e}catch{return e}}),[t]),l=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||i(!0);const t=await r();return e.signal.aborted||(t.success&&o(t.data.teamDevice),i(!1)),t}),[r]);return(0,n.useEffect)((()=>{const e=new AbortController;return l(e),()=>{e.abort()}}),[l]),{teamDeviceLoading:a,teamDevice:s,refreshTeamDevice:l}}const jp={AWS:"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGN0C8B9HMKRD8J0BSYRAH","Microsoft Azure":"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGMVBAEK5GB0TZJ86K7ZWE"},Rp=({context:e="GENERIC",...t})=>{var a,i;const{esConfig:s,esConfigLoading:o}=Ap(),{teamDevice:r,teamDeviceLoading:l}=zp(s?.deviceAccessKey),[c,d]=(0,n.useState)(!1),{translate:u}=(0,p.Z)(),_={CONTENT:u.markup("team_settings_encryption_service_restart_failed_info_content_markup",{helpArticle:null!=(a=jp[null!=(i=s?.deploymentLocation)?i:""])?a:"",supportLink:"https://support.dashlane.com/hc/requests/new?utm_source=extension"},{linkTarget:"_blank"})},m={GENERIC:{TITLE:u("team_settings_encryption_service_restart_failed_info_title"),..._},SCIM:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_scim"),..._},ES:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_es"),..._},SSO:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_sso"),..._}};return(0,n.useEffect)((()=>{if(!l&&!o&&r&&s){const t=!r.hasLatestConfig&&"GENERIC"===e||"GENERIC"!==e;d(t)}}),[r,s,l,o,e]),c?(0,y.tZ)(y.ke,{mood:"warning",size:"large",title:m[e].TITLE,description:m[e].CONTENT,actions:m[e].BUTTON?[(0,y.tZ)(y.zx,{mood:"brand",intensity:"catchy",key:"primary",onClick:()=>{d(!1)}},m[e].BUTTON)]:void 0,...t}):null};var Pp,Up,Bp,Gp,Fp;const Vp="team_settings_encryption_service_enter_endpoint_placeholder_aws_linux",$p="_common_generic_error",qp="https://",Wp={AWS:"https://eu-west-1.console.aws.amazon.com/acm/home?region=eu-west-1#/welcome","Microsoft Azure":"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fget.dashlane.com%2Fazure%2Farm%2Fes%2Fazuredeploy.json"},Hp={AWS:"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGN0C8B9HMKRD8J0BSYRAH","Microsoft Azure":"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGMVBAEK5GB0TZJ86K7ZWE"},Kp={AWS:"team_settings_encryption_service_go_to_label_helper_aws_markup","Microsoft Azure":"team_settings_encryption_service_go_to_label_helper_azure_markup"},Qp={AWS:"team_settings_encryption_service_enter_endpoint_helper_aws_linux","Microsoft Azure":"team_settings_encryption_service_enter_endpoint_helper_azure"},Yp={"Microsoft Azure":"team_settings_encryption_service_enter_endpoint_placeholder_azure",AWS:Vp},Xp="config",Jp="deploymentLocation",eg="encryptionServiceEndpoint",tg="ssoConnectorKey",ag="-sso.azurewebsites.net",ng=({migratingFromSSOConnector:e=!1,esConfig:t,onSave:a,teamSettings:i,updateTeamSettings:r})=>{var l,c,u;const[_,m]=(0,n.useState)(!1),[g,b]=(0,n.useState)(""),[h,x]=(0,n.useState)(!1),[S,f]=(0,n.useState)(!1),{translate:v}=(0,p.Z)(),{spaceDetails:C,teamId:E}=(0,wo.fV)(),{initSsoProvisioning:Z}=(0,wa.u)(Sm.y),N=null!=(l=C?.associatedEmail)?l:"",T=(0,s.k6)(),D=i?.ssoServiceProviderUrl,M={encryptionServiceEndpoint:(null!=D?D:"").replace(qp,""),config:null!=(c=t?.config)?c:"",deploymentLocation:null!=(u=t?.deploymentLocation)?u:"",ssoConnectorKey:""},I=()=>T.goBack(),A=e=>e?null:v("team_settings_encryption_service_error_select_service"),w=e=>{const t=v("team_settings_encryption_service_error_invalid_ssoConnectorKey");try{const[t,a]=e.split("|"),n=atob(a);if(!t||!a||!n||36!==t.length||64!==n.length)throw new Error("Invalid key format")}catch{return t}return null},k=e=>{const t=v("team_settings_encryption_service_error_invalid_endpoint");if(!e)return t;let a;try{a=new URL(`${qp}${e}`)}catch(e){return t}return"/"!==a.pathname||""!==a.search||""!==a.hash||a.href.includes("?")?t:null};return(0,y.tZ)(Aa.J9,{onSubmit:async(t,{setFieldValue:n,setFieldTouched:i})=>{b(""),m(!0),f(!1);const{deploymentLocation:s,encryptionServiceEndpoint:l,ssoConnectorKey:c}=t;if(!s)return void i(Jp);if(e&&!c)return void i(tg);n(Xp,"");const d=e=>e.replace(/\/$/,"").toLowerCase();try{const i={deploymentLocation:s,encryptionServiceEndpoint:qp+d(l),updateTeamDeviceConfigParams:{}};e&&c&&(i.updateTeamDeviceConfigParams.ssoConnectorKey=c);const u=await Qt.C.generateAndSaveEncryptionServiceConfig(i);if(!u.success)return void b(v($p));const _=u.data.basicConfig;if(n(Xp,_.config),t[eg]!==M.encryptionServiceEndpoint&&(await r({ssoServiceProviderUrl:t[eg]?`${qp}`+d(`${t[eg]}`):null}),await Z({teamId:`${E}`})),m(!1),u.data.encryptionServiceReloadingStatus!==Te.EncryptionServiceRestartStatusCodes.OK)return f(!0),x(!1),void a?.();Zm({ssoSetupStep:o.SsoSetupStep.GenerateAndSaveConfiguration}),g||a?.()}catch(e){m(!1),b(v($p))}},initialValues:M,onReset:I},(a=>{var i,s;return(0,y.tZ)(Aa.l0,{autoComplete:"off"},(0,y.tZ)(wp.X,{dirty:a.dirty&&!_&&!S}),(0,y.tZ)(d.Zbd,null,(0,y.tZ)(d.Ol2,null,v("team_settings_encryption_service_header")),(0,y.tZ)(d.aYP,null,e?(0,y.tZ)(n.Fragment,null,(0,y.tZ)(d.T5p,{gridTemplateAreas:"'header header' 'description description' 'input button'",gridTemplateColumns:"1fr auto",gap:"10px"},(0,y.tZ)(d.dDn,{gridArea:"header"},(0,y.tZ)(y.nv,{as:"h3",textStyle:"ds.title.block.medium"},v("team_settings_encryption_service_migrate_sso_title"))),(0,y.tZ)(d.dDn,{gridArea:"description"},(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular"},v.markup("team_settings_encryption_service_migrate_sso_description_markup"))),(0,y.tZ)(d.dDn,{gridArea:"input"},(0,y.tZ)(Aa.gN,{name:tg,validate:w},(({field:{onChange:e,...t},meta:{error:n,touched:i}})=>(0,y.tZ)(d.oil,{onChange:t=>{e(t)},id:"ssoConnectorKey",placeholder:v("team_settings_encryption_service_sso_connector_key_placeholder"),fullWidth:!0,feedbackText:i&&n?n:void 0,feedbackType:i&&n?"error":void 0,"aria-invalid":i&&!!n,readOnly:a.isSubmitting,...t}))))),Pp||(Pp=(0,y.tZ)("hr",null))):null,(0,y.tZ)(d.T5p,{gridTemplateAreas:"'label select' 'desc select'",gap:"8px"},(0,y.tZ)(d.dDn,{gridArea:"label",as:y.nv,innerAs:"label",htmlFor:"deploymentLocation",sx:{gridArea:"label"},textStyle:"ds.title.block.medium"},v("team_settings_encryption_service_deploy_label")),(0,y.tZ)(d.dDn,{gridArea:"desc",as:y.nv},v.markup("team_settings_encryption_service_deploy_label_helper_markup",{customerSupport:"https://support.dashlane.com/hc/requests/new?utm_source=extension"},{linkTarget:"_blank"})),(0,y.tZ)(d.dDn,{gridArea:"select"},(0,y.tZ)(Aa.gN,{name:Jp,validate:A},(({field:{onChange:e,...t},meta:{error:n,touched:i}})=>(0,y.tZ)(d.PhF,{onChange:t=>{a.setFieldValue(eg,((e,t)=>{if(!e||!t)return"";const a=e.replace(/.+@/,"");if("Microsoft Azure"===t){const[e,t,...n]=a.split(".").reverse(),i=t+ag;return i.length<=42?i:t.slice(0,42-ag.length)+ag}return"AWS"===t?"dashlane-sso."+a:""})(N,t.target.value)),x(M.deploymentLocation!==t.target.value),Zm({ssoSetupStep:o.SsoSetupStep.SelectEncryptionServicePlatform,encryptionServicePlatformSelected:"AWS"===t.target.value?o.EncryptionServicePlatformSelected.AmazonWebServices:o.EncryptionServicePlatformSelected.Azure}),e(t)},feedbackId:"deploymentLocationFeedback",selectId:"deploymentLocation",options:Object.keys(Qp),placeholder:v("team_settings_encryption_service_select_host"),intent:i&&n?"error":void 0,feedbackText:i&&n?n:void 0,readOnly:a.isSubmitting,...t}))))),Up||(Up=(0,y.tZ)("hr",null)),(0,y.tZ)(d.T5p,{gridTemplateColumns:"auto",gap:"8px"},(0,y.tZ)(d.dDn,{as:y.nv,innerAs:"label",htmlFor:"endpointInput",textStyle:"ds.title.block.medium"},v("team_settings_encryption_service_enter_endpoint_label")),(0,y.tZ)(d.dDn,{as:y.nv,sx:{mb:"16px"}},v(null!=(i=Qp[a.values[Jp]])?i:"team_settings_encryption_service_enter_endpoint_label_helper_no_selection")),e?(0,y.tZ)(y.nv,null,v("team_settings_encryption_service_current_endpoint_label")," ",D):null,(0,y.tZ)(Aa.gN,{name:eg,validate:k},(({field:{onChange:e,...t},meta:{error:n,touched:i},form:{values:{deploymentLocation:s}}})=>{var o;return(0,y.tZ)(d.oil,{sx:{pl:0},onChange:t=>{x(M.encryptionServiceEndpoint!==t.target.value),e(t)},startAdornment:Bp||(Bp=(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet"},qp)),id:"endpointInput",placeholder:v(null!=(o=Yp[s])?o:Vp),fullWidth:!0,feedbackText:i&&n?n:void 0,feedbackType:i&&n?"error":void 0,"aria-invalid":i&&!!n,readOnly:a.isSubmitting,...t})}))),Gp||(Gp=(0,y.tZ)("hr",null)),S?(0,y.tZ)(Rp,{sx:{marginBottom:"20px"},context:"ES"}):null,(0,y.tZ)(Aa.gN,{name:Xp},(({field:n,meta:i,form:{values:{deploymentLocation:s,ssoConnectorKey:o}}})=>{var r;return(0,y.tZ)(Lp,{configRegenRequired:h,disabled:!s||e&&!o,lastGeneratedTimeStamp:t?.lastGeneratedTimeStamp,value:n.value,error:(null!=(r=i.error)?r:!a.isSubmitting&&h)?v("team_settings_encryption_service_config_regen_warning"):void 0,isLoading:_||a.isSubmitting})})),Fp||(Fp=(0,y.tZ)("hr",null)),(0,y.tZ)(d.T5p,{gridTemplateAreas:"'header button' 'description button'",gap:"8px"},(0,y.tZ)(d.dDn,{gridArea:"header",as:y.nv,textStyle:"ds.title.block.medium"},v("team_settings_encryption_service_go_to_label")),(0,y.tZ)(d.dDn,{gridArea:"description",as:y.nv,sx:{mb:"16px"}},((s=a.values.deploymentLocation)||(s="AWS"),v.markup(Kp[s],{setupGuide:Hp[s]},{linkTarget:"_blank"}))),(0,y.tZ)(d.dDn,{gridArea:"button",as:y.zx,type:"button",mood:a.values.config&&!h?"brand":"neutral",disabled:!a.values[Jp]||!a.values[Xp]||h,onClick:()=>{Zm({ssoSetupStep:o.SsoSetupStep.AddConfigurationToServiceHost}),(0,O.Yo)(Wp[a.values[Jp]])},icon:"ActionOpenExternalLinkOutlined",layout:"iconTrailing",sx:{gridArea:"button",height:"fit-content"}},v("team_settings_encryption_service_go_to_button")))),(0,y.tZ)(d.eWM,{flexWrap:"nowrap"},g?(0,y.tZ)(y.nv,{sx:{width:"40%",ml:0,mr:"auto"},textStyle:"ds.title.supporting.small",color:"ds.text.danger.standard"},g):null,(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",size:"large",type:"button",onClick:()=>I()},v("team_settings_encryption_service_button_cancel")))))}))};var ig,sg=a(287083);const og="team_settings_encryption_service_not_available",rg=({config:e})=>{var t;const{translate:a}=(0,p.Z)(),{teamDevice:n,refreshTeamDevice:i,teamDeviceLoading:s}=zp(e.deviceAccessKey),o=a.markup("team_settings_encryption_service_tooltip_text_markup",{updateServiceUrl:"https://support.dashlane.com/hc/en-us/articles/360013149040-Dashlane-SSO-Overview-Deployment-steps"},{linkTarget:"_blank"},{color:"ds.text.inverse.catchy",hoverColor:"ds.text.brand.quiet",activeColor:"ds.text.brand.standard"});return(0,y.tZ)(sg.R,null,s?ig||(ig=(0,y.tZ)(d.HoD,{color:"ds.text.brand.standard"})):(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"5px"},(0,y.tZ)(y.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard"},`${a("team_settings_encryption_service_last_restart")}\n                    ${n?.lastStartDateUnix?(0,Ht.Z)(n.lastStartDateUnix).toLocaleString(navigator.language,{...ea.qG.lll,timeZoneName:"short"}):a(og)}`),(0,y.tZ)(d.Ejs,{gap:"8px"},(0,y.tZ)(y.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard"},`\n                   ${a("team_settings_encryption_service_version")}\n                   ${null!=(t=n?.version)?t:a(og)}\n                  `),!1===n?.hasLatestVersion?(0,y.tZ)(y.u,{wrapTrigger:!0,content:o},(0,y.tZ)(y.Ct,{mood:"danger",iconName:"FeedbackWarningOutlined",layout:"iconLeading",label:a("team_settings_encryption_service_new_version")})):null),(0,y.tZ)(y.nv,{as:"a",color:"ds.text.brand.standard",sx:{textDecoration:"none",fontWeight:"normal"},onClick:()=>i(),textStyle:"ds.body.reduced.regular"},(0,y.tZ)(y.JO,{sx:{display:"inline",marginRight:"5px"},name:"ActionRefreshOutlined",size:"xsmall",color:"ds.text.brand.standard"}),a("team_settings_encryption_service_refresh"))))};var lg;const cg=({esConfig:e,loading:t,parentPath:a,disableSetupButton:n})=>{const{translate:i}=(0,p.Z)(),r=(0,s.k6)(),l=!e&&!t;return(0,y.tZ)(d.Zbd,null,(0,y.tZ)(d.T5p,{as:d.aYP,gridTemplateAreas:"'header button' 'description button' 'status .'",gridTemplateColumns:"1fr auto",gap:"8px",sx:{bg:"white",border:"none"}},(0,y.tZ)(d.dDn,{gridArea:"header"},e?null:(0,y.tZ)(y.X6,{as:"h3",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small"},i("team_settings_encryption_service_get_started")),(0,y.tZ)(y.X6,{as:"h3",textStyle:"ds.title.section.medium"},i("team_settings_encryption_service_header"))),(0,y.tZ)(d.dDn,{gridArea:"description"},(0,y.tZ)(y.nv,{textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet"},i("team_settings_encryption_service_description")),lg||(lg=(0,y.tZ)("br",null)),(0,y.tZ)(y.nv,{as:"a",textStyle:"ds.title.block.small",href:"https://support.dashlane.com/hc/articles/4404322174482",color:"ds.text.brand.standard",rel:"noopener noreferrer",target:"_blank"},i("team_settings_encryption_service_more_info_link"))),(0,y.tZ)(d.dDn,{id:"esSetupButton",as:y.zx,disabled:t||n,mood:l?"brand":"neutral",intensity:l?"catchy":"quiet",gridArea:"button",type:"button",alignSelf:"center",size:"large",onClick:()=>{Zm({ssoSetupStep:o.SsoSetupStep.SetUpEncryptionServiceSettings}),r.push(`${a}/encryption-service-settings`)},isLoading:t},i(e?"team_settings_button_edit_label":"team_settings_encryption_service_set_up")),e?(0,y.tZ)(d.dDn,{gridArea:"status",sx:{mt:"20px"}},(0,y.tZ)(rg,{config:e})):null))};var dg=a(161367),ug=a(109127);const _g=({actions:e,endIcon:t,fieldName:a,feedbackType:n,feedbackText:i,handleAdd:s,...o})=>{const[{value:{name:r},onBlur:l,...d},{error:u},{setValue:_}]=(0,Aa.U$)(a),m=r?null!=i?i:u:void 0,p=(null!=n?n:m)?"error":void 0;return(0,c.tZ)(ug.h,{textInputProps:{id:a,endAdornment:t,feedbackText:m,feedbackType:p,fullWidth:!0,value:r,...d,...o,onChange:({currentTarget:{value:e}})=>{_({name:e})},onKeyPress:e=>{"Enter"===e.key&&(s(),e.preventDefault(),e.stopPropagation())},onBlur:e=>{e.currentTarget.value&&!e.currentTarget.readOnly&&s(),l?.(e)}},tooltipProps:{passThrough:!0},replacementActions:e})};var mg,pg,gg,yg=a(894017),bg=a.n(yg);const{accessibleValidatorGreen:hg,orange00:xg,dashGreen02:Sg}=d.colors,fg="team_settings_domain_register_invalid_error",vg=({fieldArrayName:e,domainLoadError:t,refreshDomains:a})=>{const{translate:i}=(0,p.Z)(),{values:s}=(0,Aa.u6)(),[o,r]=(0,n.useState)({}),[l,u]=(0,n.useState)({}),[_,m]=(0,n.useState)(""),[g,y]=(0,n.useState)(null),b=(e,t)=>{r((a=>({...a,[e]:t})))},h=async t=>{const a=t.trim();if(!bg().isFQDN(a))throw new Error(i(fg));if(s[e].reduce(((e,t)=>t.name===a?e+1:e),0)>1)throw new Error(i("team_settings_domain_register_duplicated_error"));(e=>{u((t=>({...t,[e]:!0})))})(t);const n=await Qt.C.registerTeamDomain({domain:a});var o;if((e=>{u((({[e]:t,...a})=>a))})(t),!n.success)throw new Error(i(null!=(o={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support"}[n.error.code])?o:fg))},x=async e=>{await h(e.name),await a()};return t?(0,c.tZ)(d.Ejs,{fullWidth:!0,justifyContent:"center"},(0,c.tZ)(d.j49,{color:"errors.4"},t)):(0,c.tZ)(n.Fragment,null,(0,c.tZ)(d.nvN,{as:"label",htmlFor:`${e}.${s[e].length-1}`,bold:!0,sx:{display:"inline-block",mb:"8px"}},i("team_settings_domain_title")),(0,c.tZ)(d.nvN,{size:"small",sx:{mb:"24px"}},i("team_settings_es_sso_setup_domain_description")),(0,c.tZ)(Aa.F2,{name:e},(e=>(0,c.tZ)(d.T5p,{justifyContent:"stretch",gridTemplateColumns:"auto",gap:"8px",gridAutoRows:"auto"},s[e.name].map(((t,a)=>{var r,u;const _=l[t.name],p=t.status===Te.DomainStatus.valid,g=t.status===Te.DomainStatus.pending||t.status===Te.DomainStatus.invalid||t.status===Te.DomainStatus.expired,h=_?mg||(mg=(0,c.tZ)(d.HoD,{color:"primaries.5",size:20})):p?pg||(pg=(0,c.tZ)(d.rE2,{color:hg})):g?(0,c.tZ)(d.enX,{color:t.status===Te.DomainStatus.pending?Sg:xg}):void 0;return(0,c.tZ)(n.Fragment,{key:`${e.name}.${null!=(r=t.id)?r:a}`},(0,c.tZ)(_g,{placeholder:i("team_settings_es_sso_domain_url_placeholder"),fieldName:`${e.name}.${a}`,readOnly:null!=(u=!!t.status)?u:_,autoFocus:a===s[e.name].length-1,endIcon:h,feedbackType:!t.status&&o[t.name]?"error":void 0,feedbackText:t.status?void 0:o[t.name],handleAdd:async()=>{try{await x(t),m(t.name)}catch(e){b(t.name,e.message)}},actions:(0,c.tZ)(n.Fragment,null,[void 0,Te.DomainStatus.pending].includes(t.status)?(0,c.tZ)(d.zxk,{nature:"secondary",type:"button",disabled:_,onClick:()=>(async e=>{try{void 0===e.status&&await x(e),m(e.name)}catch(t){b(e.name,t.message)}})(t)},i(void 0===t.status?"team_settings_es_sso_setup_add_domain":"team_settings_es_sso_setup_verify_button")):null,t.name.length&&void 0!==t.status?(0,c.tZ)(dg.h,{nature:"secondary",type:"button",disabled:_,onClick:()=>y(t),icon:gg||(gg=(0,c.tZ)(d.XHJ,null))}):null)}))}))))),_?(0,c.tZ)(Ll,{domainName:_,onSuccess:async()=>{m(""),await a()},onDismiss:()=>m("")}):null,g?(0,c.tZ)(ul,{domain:g,onDismiss:()=>y(null),onConfirm:async()=>{await(async e=>{if(!e)return;const t=await Qt.C.deactivateTeamDomain({domain:e});return t.success?void 0:t.error.code})(g.name),await a()}}):null)};var Cg;const Eg=({inputValue:e,labelText:t,disabled:a,loading:n,id:i})=>(0,c.tZ)(Al.x,{inputValue:e,textInputProps:{fullWidth:!0,readOnly:!0,disabled:a,id:i,startAdornment:n?Cg||(Cg=(0,c.tZ)(d.HoD,{color:"primaries.5"})):void 0,label:(0,c.tZ)(d.nvN,{as:"label",bold:!0,sx:{mb:"4px"},htmlFor:i},t)},iconButtonProps:{disabled:a}}),Zg=e=>{const t=(0,n.useMemo)((()=>{var t,a;return{draft:null!=(t=e?.draft)&&t,deviceAccessKey:null!=(a=e?.deviceAccessKey)?a:""}}),[e?.draft,e?.deviceAccessKey]),[a,i]=(0,n.useState)(!0),[s,o]=(0,n.useState)(null),[r,l]=(0,n.useState)(null),c=(0,n.useCallback)((async()=>{try{return await Qt.C.getTeamDeviceEncryptedConfig(t)}catch{return{success:!1,error:{code:Ip.UnknownError}}}}),[t]),d=(0,n.useCallback)((async(e=new AbortController)=>{e.signal.aborted||i(!0);const t=await c();return e.signal.aborted||(o(t.success?null:t.error.code),t.success&&l(t.data),i(!1)),t}),[c]),u=(0,n.useCallback)((async e=>{i(!0);try{return await Qt.C.updateTeamDeviceEncryptedConfig(e)}catch{return{success:!1,error:{code:Ip.UnknownError}}}finally{i(!1)}}),[]);return(0,n.useEffect)((()=>{const e=new AbortController;return d(e),()=>{e.abort()}}),[d]),{teamDeviceConfigLoading:a,loadTeamDeviceConfigErrorCode:s,teamDeviceConfig:r,updateTeamDeviceConfig:u,refreshTeamDeviceConfig:d}};var Ng,Tg,Dg,Mg;const{grey00:Ig}=d.colors,Ag="team_settings_es_sso_setup_header",wg="team_settings_domain_fetch_error",kg={GENERIC_ERROR:"_common_generic_error"},Og=e=>e?`${e}/saml/callback`:"",Lg="ssoIdpMetadata",zg=()=>{var e;const{translate:t}=(0,p.Z)(),{teamId:a}=(0,wo.fV)(),{updateTeamDeviceConfig:i}=Zg(),[o,r]=(0,n.useState)(!1),[l,u]=(0,n.useState)(!1),[_,m]=(0,n.useState)([]),g=(0,n.useRef)(null),[b,h]=(0,n.useState)(!1),[x,S]=(0,n.useState)(""),{teamSettings:f={},teamSettingsLoading:v}=xc(a),{ssoIdpMetadata:C,ssoServiceProviderUrl:E=""}=f,Z=(0,s.k6)(),N=(0,n.useCallback)((async()=>{try{S("");const e=await Qt.C.getTeamDomains();if(e.success){const t=e.domains.length?e.domains:[];m([...t,{name:"",id:0}])}else S(t(wg))}catch(a){var e;S(null!=(e=a.message)?e:t(wg))}}),[t]);(0,n.useEffect)((()=>{h(!0),N().then((()=>h(!1)))}),[N]);const T={domains:_,ssoIdpMetadata:null!=(e=null!=C?C:g.current?.value)?e:""},D=()=>Z.goBack();return v||b?(0,c.tZ)(d.Zbd,null,(0,c.tZ)(d.Ol2,null,t(Ag)),Ng||(Ng=(0,c.tZ)(d.aYP,null,(0,c.tZ)(d.Ejs,{fullWidth:!0,justifyContent:"center"},(0,c.tZ)(d.HoD,{size:60,color:"primaries.5"}))))):(0,c.tZ)(Aa.J9,{onSubmit:async(e,a)=>{try{var n;r(!0),u(!1);const s=await i({ssoEnabled:!0,[Lg]:e[Lg],connectorEndpoint:E||void 0,teamDeviceUrl:null!=(n=f.ssoServiceProviderUrl)?n:void 0});if(!s.success){const e=s.error.code.toUpperCase();if("DEACTIVATED_TEAM_DEVICE"===e)return;const n=t(kg[e]?kg[e]:kg.GENERIC_ERROR);return void a.setFieldError(Lg,n)}if(s.data.encryptionServiceReloadingStatus!==Te.EncryptionServiceRestartStatusCodes.OK)return void u(!0);D()}catch(e){a.setFieldError(Lg,t(kg.GENERIC_ERROR))}finally{r(!1)}},initialValues:T,enableReinitialize:!0},(({isSubmitting:e,dirty:a})=>{return(0,c.tZ)(Aa.l0,{autoComplete:"off",noValidate:!0},(0,c.tZ)(wp.X,{dirty:a&&!o&&!l}),(0,c.tZ)(d.Zbd,null,(0,c.tZ)(d.Ol2,null,t(Ag)),(0,c.tZ)(d.aYP,null,(0,c.tZ)(vg,{fieldArrayName:"domains",domainLoadError:x,refreshDomains:N}),Tg||(Tg=(0,c.tZ)("hr",null)),(0,c.tZ)(y.ke,{title:t.markup("team_settings_es_sso_setup_copy_info_to_idp_markup"),sx:{mb:"32px"}}),(0,c.tZ)(d.T5p,{justifyContent:"stretch",gridTemplateColumns:"auto",gap:"32px",gridAutoRows:"auto"},(0,c.tZ)(Eg,{id:"entity-id-input",inputValue:(n=E,n?`${n}/saml/`:""),labelText:t("team_settings_es_sso_entity_id_label"),disabled:v||!E,loading:v}),(0,c.tZ)(Eg,{id:"acs-url-input",inputValue:Og(E),labelText:t("team_settings_es_sso_acs_url_label"),disabled:v||!E,loading:v})),Dg||(Dg=(0,c.tZ)("hr",null)),(0,c.tZ)(d.nvN,{as:"label",bold:!0,htmlFor:"sso-metadata-input"},t("team_settings_es_sso_metadata_label")),(0,c.tZ)(d.nvN,{size:"small",color:Ig,sx:{mt:"8px",mb:"24px"}},t("team_settings_es_sso_metadata_description")),(0,c.tZ)(Aa.gN,{name:Lg},(({field:e,meta:{error:t,touched:a}})=>(0,c.tZ)(d.oil,{id:"sso-metadata-input",sx:{height:"10em",resize:"vertical"},...e,ref:g,multiline:!0,fullWidth:!0,feedbackText:a&&t?t:void 0,feedbackType:a&&t?"error":void 0})))),(0,c.tZ)(d.eWM,null,l?(0,c.tZ)(d.Ejs,{sx:{flexGrow:1,justifyContent:"center"}},Mg||(Mg=(0,c.tZ)(Rp,{context:"SSO"}))):null,(0,c.tZ)(d.zxk,{disabled:e,nature:"secondary",size:"large",type:"button",onClick:D},t("team_settings_es_sso_setup_cancel")),(0,c.tZ)(d.zxk,{disabled:e,nature:"primary",type:"submit",size:"large"},t("team_settings_es_sso_setup_save")))));var n}))},{grey00:jg}=d.colors,Rg="team_settings_enable_sso_test_button",Pg=({actionsDisabled:e,ssoServiceProviderUrl:t})=>{const{translate:a}=(0,p.Z)(),n=t?`${t}/saml/login?redirect=test_idp`:"";return(0,c.tZ)(d.T5p,{gap:"8px",gridTemplateAreas:"'header buttons' 'description buttons' ",gridTemplateColumns:"1fr auto"},(0,c.tZ)(d.dDn,{as:d.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},a("team_settings_enable_sso_test_title")),(0,c.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small",color:jg},a("team_settings_enable_sso_test_description")),(0,c.tZ)(d.T5p,{gap:"8px",gridTemplateAreas:"'test copy'",as:d.dDn,gridArea:"buttons"},(0,c.tZ)(d.dDn,{gridArea:"test"},(0,c.tZ)(Rd.M,{onClick:()=>{(0,O.Yo)(n)},size:"medium","aria-label":a(Rg),disabled:null!=e?e:!n,content:a("team_settings_es_sso_setup_incomplete")},a(Rg),(0,c.tZ)(d.RTC,{sx:{ml:"4px"},color:"white"}))),(0,c.tZ)(d.dDn,{gridArea:"copy"},(0,c.tZ)(_u.q,{buttonText:a("team_settings_copy_sso_url_button"),disabled:null!=e?e:!n,copyValue:null!=n?n:""}))))},Ug=({closeDialog:e})=>{const{translate:t}=(0,p.Z)();return n.createElement(U.o,{isOpen:!0,onRequestClose:()=>e(bl.dismiss),footer:n.createElement(d.cNS,{primaryButtonTitle:t("team_settings_enable_sso_dialog_disable_action"),primaryButtonOnClick:()=>e(bl.action),secondaryButtonTitle:t("team_settings_enable_sso_cancel"),secondaryButtonOnClick:()=>e(bl.dismiss),intent:"danger"}),title:t("team_settings_enable_sso_dialog_disable_title")},t("team_settings_enable_sso_dialog_disable_description"))};var Bg,Gg=a(821789);const{grey00:Fg}=d.colors,Vg=({actionsDisabled:e,ssoEnabled:t,updateTeamSettings:a,loading:i})=>{const{translate:s}=(0,p.Z)(),[r,l]=(0,n.useState)(!1),[u,_]=(0,n.useState)(!1),m=(0,Oa.V)(),{initSsoProvisioning:g}=(0,wa.u)(Gg.y),{teamId:b}=(0,wo.fV)(),h=()=>{m.showAlert(t?s("_common_generic_error"):s.markup("team_settings_enable_sso_action_toggle_warning_markup",void 0,{linkTarget:"_blank"}),d.BLW.ERROR)};return(0,c.tZ)(n.Fragment,null,(0,c.tZ)(d.T5p,{gap:"8px",gridTemplateAreas:"'header buttons' 'description toggle' ",gridTemplateColumns:"1fr auto"},(0,c.tZ)(d.dDn,{as:d.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},s("team_settings_enable_sso_action_title")),(0,c.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small",color:Fg},s("team_settings_enable_sso_action_description"),Bg||(Bg=(0,c.tZ)("br",null)),s("team_settings_enable_sso_action_description_note")),(0,c.tZ)(d.dDn,{gridArea:"toggle"},(0,c.tZ)(y.ZD,{disabled:e||i,checked:t,onChange:async()=>{t?l(!0):(_(!0),Zm({ssoSetupStep:o.SsoSetupStep.TurnOnSso}))}}))),r?(0,c.tZ)(Ug,{closeDialog:async e=>{if(l(!1),e!==bl.dismiss&&b)try{const e=!t;await a({ssoEnabled:e}),await g({teamId:b})}catch(e){h()}}}):null,u?(0,c.tZ)(ap,{title:s("team_settings_enable_sso_confirm_dialog_title"),body:s("team_settings_enable_sso_confirm_dialog_body"),primaryActionLabel:s("team_settings_enable_sso_confirm_dialog_primary_action_label"),onCancel:()=>{_(!1)},onConfirm:async()=>{await(async()=>{if(b)try{await a({ssoEnabled:!0}),await g({teamId:b}),Zm({ssoSetupStep:o.SsoSetupStep.CompleteSsoSetup})}catch(e){h()}})(),_(!1)}}):null)};var $g;const{grey00:qg}=d.colors;var Wg;!function(e){e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.COMPLETE="COMPLETE",e.INCOMPLETE="INCOMPLETE",e.NOT_STARTED="NOT_STARTED",e.UNAVAILABLE="UNAVAILABLE",e.ERROR="ERROR"}(Wg||(Wg={}));const Hg=[xm.s5.enum.NitroComplete,xm.s5.enum.NitroIncomplete],Kg=({disableSetupButton:e,isSsoCapable:t})=>{var a;const{translate:i}=(0,p.Z)(),{teamId:o}=(0,wo.fV)(),{teamSettings:r={},updateTeamSettings:l,teamSettingsLoading:u}=xc(o),{ssoEnabled:_=!1,ssoServiceProviderUrl:m="",ssoIdpMetadata:g}=r,[y,b]=(0,n.useState)(Wg.UNKNOWN),h=(0,Yr.k)(Sm.y,"ssoProvisioning"),x=null!=(a=h.data?.global.inferredSsoState)?a:xm.s5.enum.Unknown;(0,n.useEffect)((()=>{b(Wg.LOADING),Qt.C.getTeamDomains().then((e=>{if(!e.success)return void b(Wg.ERROR);const t=Hg.includes(x);if(!m||t)return void b(Wg.UNAVAILABLE);const a=e.domains.some((({status:e})=>"valid"===e)),n=e.domains.length>0,i=!!g;switch(!0){case a&&i:b(Wg.COMPLETE);break;case!n&&i||n&&!i||!a&&n&&i:b(Wg.INCOMPLETE);break;case!n&&!i:b(Wg.NOT_STARTED)}}))}),[x,g,m]);const S=y===Wg.UNAVAILABLE||u||e,{path:f}=(0,s.$B)(),v=(0,s.k6)(),C=[Wg.COMPLETE,Wg.INCOMPLETE].includes(y);return(0,c.tZ)(d.Zbd,null,(0,c.tZ)(d.T5p,{as:d.aYP,gridTemplateAreas:"'header button' 'description button'",gridTemplateColumns:"1fr auto",gap:"8px",sx:{bg:"white",border:"none"}},(0,c.tZ)(d.dDn,{as:d.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header"},i("team_settings_es_sso_setup_header")),(0,c.tZ)(d.dDn,{gridArea:"description",as:d.nvN,size:"small",color:qg},i("team_settings_es_sso_setup_description")),(0,c.tZ)(d.dDn,{gridArea:"button",alignSelf:"center"},(0,c.tZ)(Rd.M,{id:"ssoSetupButton",loading:u||y===Wg.LOADING,disabled:S,type:"button",size:"large",onClick:()=>{v.push(`${f}/sso-settings`)},content:i("team_settings_es_sso_setup_configure_es_tooltip"),neverShowTooltip:!t,mood:C?"neutral":"brand",intensity:C?"quiet":"catchy"},i(C?"team_settings_button_edit_label":"team_settings_es_sso_setup_button")))),C?(0,c.tZ)(d.aYP,{sx:{bg:"white"}},(0,c.tZ)(Pg,{actionsDisabled:y!==Wg.COMPLETE,ssoServiceProviderUrl:m}),$g||($g=(0,c.tZ)("br",null)),(0,c.tZ)(Vg,{actionsDisabled:y!==Wg.COMPLETE,ssoEnabled:_,loading:u,updateTeamSettings:l})):null)};var Qg,Yg,Xg;const{dashDarkerGreen00:Jg,dashGreen00:ey,dashGreen06:ty,midGreen00:ay}=d.colors,ny=({backRoute:e})=>{const{translate:t}=(0,p.Z)(),{path:a}=(0,s.$B)(),{esConfig:n,esConfigLoading:i,refreshEncryptionServiceConfig:r}=Ap(),{teamId:l}=(0,wo.fV)(),{teamSettings:u,updateTeamSettings:_,teamSettingsLoading:m}=xc(l),{status:g,data:b}=(0,Yr.k)(Sm.y,"ssoProvisioning");if(g!==Re.rq.Success)return null;const{global:{ssoCapable:h,inferredSsoState:x},enableSSO:{ssoEnabled:S}}=b,f=x===xm.s5.enum.NitroIncomplete,v=!S,C=x===xm.s5.enum.SsoConnectorToSelfHostedMigration;return(0,c.tZ)(d.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},(0,c.tZ)("div",{sx:{bg:ty,px:"48px",pt:"32px",pb:"4px"}},(0,c.tZ)(hs,{title:t("team_settings_es_sso_title")}),v?(0,c.tZ)(d.rUS,{color:ay,hoverColor:ey,activeColor:Jg,onClick:()=>{Zm({ssoSetupStep:o.SsoSetupStep.ReturnToSsoSelection}),(0,s.uX)(e)},sx:{fontSize:"16px",display:"flex",textDecoration:"none",marginTop:"-18px"}},(0,c.tZ)(y.JO,{name:"ArrowLeftOutlined",size:"small",color:ey,sx:{marginRight:"10px"}})," ","Back"):null),(0,c.tZ)(Iu,{mainContent:d.T5p,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,c.tZ)(s.rs,null,(0,c.tZ)(s.AW,{exact:!0,path:a},(0,c.tZ)(km,{pageContext:wm.SelfHosted,onSetupClear:()=>_({ssoServiceProviderUrl:null})}),Qg||(Qg=(0,c.tZ)(Rp,null)),C?(0,c.tZ)(y.ke,{title:t("team_settings_es_sso_migration_infobox_title"),description:t("team_settings_es_sso_migration_infobox_body")}):null,(0,c.tZ)(cg,{loading:i||null===h,esConfig:n,parentPath:a,disableSetupButton:!h||f}),(0,c.tZ)(Kg,{isSsoCapable:h,disableSetupButton:!h||!n?.config})),(0,c.tZ)(s.AW,{path:`${a}/encryption-service-settings`},i||m?Yg||(Yg=(0,c.tZ)(d.HoD,null)):(0,c.tZ)(ng,{migratingFromSSOConnector:C,onSave:()=>r(),teamSettings:u,updateTeamSettings:_,esConfig:n})),(0,c.tZ)(s.AW,{path:`${a}/sso-settings`},Xg||(Xg=(0,c.tZ)(zg,null))))},secondaryContent:ll,secondaryProps:{description:t("team_settings_es_sso_setup_guide_description"),heading:t("team_settings_es_sso_setup_guide_heading"),linkText:t("team_settings_es_sso_setup_guide_link_text"),linkProps:{linkType:rl.ExternalLink,linkHref:"https://support.dashlane.com/hc/articles/360013149040"}}}))},iy=({closeDialog:e})=>{const{translate:t}=(0,p.Z)(),a=t.markup("team_settings_sso_desktop_infobox_warning_markup",{learnMore:ie.rh},{linkTarget:"_blank"});return n.createElement(d.VqE,{closeIconName:t("_common_dialog_dismiss_button"),isOpen:!0,onClose:()=>e(bl.dismiss)},n.createElement("div",{className:"container--m6KmsQvg_3"},n.createElement(d.$N8,{title:t("team_settings_enable_sso_dialog_activate_title")}),n.createElement(d.a7O,null,n.createElement("div",{className:"toggleInfoBox--y5TmWAMYcl"},a&&n.createElement(d.vDh,{severity:"warning",size:"small",title:a}))),n.createElement(d.cNS,{primaryButtonOnClick:()=>e(bl.action),primaryButtonTitle:t("team_settings_enable_sso_dialog_activate_action"),secondaryButtonOnClick:()=>e(bl.dismiss),secondaryButtonTitle:t("team_settings_enable_sso_cancel")})))},sy=({closeDialog:e})=>{const{translate:t}=(0,p.Z)();return n.createElement(U.o,{isOpen:!0,onRequestClose:()=>e(bl.dismiss),footer:n.createElement(d.cNS,{primaryButtonTitle:t("team_settings_enable_sso_dialog_disable_action"),primaryButtonOnClick:()=>e(bl.action),secondaryButtonTitle:t("team_settings_enable_sso_cancel"),secondaryButtonOnClick:()=>e(bl.dismiss),intent:"danger"}),title:t("team_settings_enable_sso_dialog_disable_title")},t("team_settings_enable_sso_dialog_disable_description"))},oy=({teamSettings:e,updateTeamSettings:t,teamId:a,planTier:i,setStepComplete:s})=>{var o;const[r,l]=(0,n.useState)(null!=(o=e?.ssoEnabled)&&o),[c,u]=(0,n.useState)(!1),[_,m]=(0,n.useState)(!1),[g,y]=(0,n.useState)([]),[b,h]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(!r)return"legacy"===i||"team"===i?h(!0):void 0;s(gl.EnableSSO)}),[a,g,r,i,s]),(0,n.useEffect)((()=>{(async()=>{const e=await Qt.C.getTeamDomains();e.success&&y(e.domains.filter((e=>"valid"===e.status)).map((e=>e.name)))})()}),[]);const{translate:x}=(0,p.Z)(),S=async e=>{if(m(!1),e!==bl.dismiss)try{const e=!r;await t({ssoEnabled:e}),l(e)}catch(e){u(!0)}};return n.createElement("div",{className:"enableSSOContainer--VLsANoM8AQ"},n.createElement(pl,{label:x("team_settings_enable_sso_test_title"),labelHelper:x("team_settings_enable_sso_test_description")},n.createElement(d.zxk,{type:"button",nature:"primary",onClick:()=>{(0,O.Yo)(`${e?.ssoServiceProviderUrl}/saml/login?redirect=test_idp`)},disabled:!(e&&e.ssoServiceProviderUrl)},x("team_settings_enable_sso_test_button"))),n.createElement(pl,{label:x("team_settings_enable_sso_action_title"),labelHelper:x("team_settings_enable_sso_action_description")},b?n.createElement(d.zxk,{nature:"primary",onClick:()=>(0,O.Yo)(ie.Bw),type:"button"},x("team_settings_enable_sso_contact_support")):n.createElement("div",null,n.createElement(d.ZDl,{onClick:()=>m(!0),checked:r,disabled:c}),r?n.createElement("div",{className:"toggleDescription--S3OccP6JDd"},x("team_settings_enable_sso_action_toggle_description")):null,c?n.createElement("div",{className:"toggleWarning--TU8a__FJDp"},x.markup("team_settings_enable_sso_action_toggle_warning_markup")):null)),_?r?n.createElement(sy,{closeDialog:S}):n.createElement(iy,{closeDialog:S}):null)};var ry=a(107274);const ly=({isTeamSettingsLoading:e,teamSettings:t})=>{const{translate:a}=(0,p.Z)(),[i,s]=n.useState(""),[o,r]=n.useState(""),[l,c]=n.useState(""),d=t?.ssoServiceProviderUrl;return n.useEffect((()=>{!e&&d&&(s((0,ry.UQ)(d,"saml")),r((0,ry.UQ)(d,"saml/")),c((0,ry.UQ)(d,"saml/callback")))}),[e,d]),n.createElement("div",{className:"configureIDPContainer--ACoVdM7s0N"},n.createElement(pl,{label:a("team_settings_configure_idp_connector_metadata"),centerLabel:!0},n.createElement(Al.x,{inputValue:i,textInputProps:{fullWidth:!0,readOnly:!0}})),n.createElement(pl,{label:a("team_settings_configure_idp_entity_id"),centerLabel:!0},n.createElement(Al.x,{inputValue:o,textInputProps:{fullWidth:!0,readOnly:!0}})),n.createElement(pl,{label:a("team_settings_configure_idp_login_url"),centerLabel:!0},n.createElement(Al.x,{inputValue:l,textInputProps:{fullWidth:!0,readOnly:!0}})))};var cy=a(798783),dy=a.n(cy);const uy="connectorInfoContainer--e07d9cT8Hu",_y="textField--Nk7DpcX8Pp",my="loading--sfYFOqhXPS",py="installerButtonContainer--iP6MNTnQrn",gy="errorText--snbBoX2meA",yy=({keyValue:e,onGenerateClicked:t,isGeneratorDisabled:a,generatorDisabledText:i})=>{const{translate:s}=(0,p.Z)(),[o,r]=(0,n.useState)(!1),l=(0,n.useRef)(null);return(0,n.useEffect)((()=>{l.current&&new(dy())(l.current,{text:()=>e})}),[e]),(0,c.tZ)(pl,{label:s("team_settings_connector_generator_title"),labelHelper:s("team_settings_connector_generator_description")},(0,c.tZ)("div",{className:"generatorContainer--_83Buo4tVF"},(0,c.tZ)(d.ua7,{content:i,passThrough:!a,sx:{maxWidth:"210px"}},(0,c.tZ)("div",{className:a?"generatorDisableContent--Olv4UpdAqY":""},(0,c.tZ)(d.zxk,{type:"button","aria-describedby":"errorKeyWarning",className:"generatorButton--I0z2qEK25R",onClick:()=>{r(!0),t()},disabled:a},s("team_settings_connector_generator_button")),(0,c.tZ)("div",{className:"generatorInputContainer--M4lkXUrCCY"},(0,c.tZ)(Al.x,{inputValue:e,textInputProps:{readOnly:!0,fullWidth:!0,disabled:a,style:{cursor:a?"not-allowed":"text"}},tooltipProps:{passThrough:a},iconButtonProps:{disabled:a}})),o&&(0,c.tZ)("p",{id:"errorKeyWarning",className:gy},s("team_settings_connector_generator_warning"))))))},by="team_settings_connector_installer_tooltip",hy=({isTeamSettingsLoading:e,isSsoEnabled:t,idpMetadata:a,connectorUrl:i})=>{const{translate:s}=(0,p.Z)(),[o,r]=(0,n.useState)(""),[l,u]=(0,n.useState)("");(0,n.useEffect)((()=>{r("")}),[a,i]);const _=Boolean(a&&i&&(l||t));return(0,c.tZ)(n.Fragment,null,(0,c.tZ)(yy,{keyValue:l,onGenerateClicked:async()=>{const e=await Qt.C.generateSSOConnectorKey();u(e)},isGeneratorDisabled:t,generatorDisabledText:s("team_settings_connector_generator_instance_help")}),(0,c.tZ)(pl,{label:s("team_settings_connector_installer_title"),labelHelper:s("team_settings_connector_installer_description")},(0,c.tZ)("div",{className:e?my:py},(0,c.tZ)(d.ua7,{content:s(by),passThrough:_,sx:{maxWidth:"210px"}},(0,c.tZ)(d.zxk,{type:"button","aria-describedby":"configError",disabled:!_,onClick:async()=>{r("");const e=await Qt.C.createSSOConnectorConfig({connectorUrl:i,connectorKey:l,idpMetadata:a});e.success?(0,Xs.S)(e.config,"dashlane-sso-config.txt","text/plain"):e.success||r(e.error.code)}},(0,c.tZ)("div",{className:"downloadIcon--dtf6SHkd51"},(0,c.tZ)(d._8t,{color:ht()["--white"]})),s("team_settings_connector_installer_config_button")),o?(0,c.tZ)("p",{id:"configError",className:gy},s("team_settings_connector_installer_error")):null))),(0,c.tZ)(pl,{label:s("team_settings_connector_installer_setup_title"),labelHelper:s("team_settings_connector_installer_setup_description")},(0,c.tZ)("div",{className:e?my:py},(0,c.tZ)(d.ua7,{content:s(by),passThrough:_,sx:{maxWidth:"210px"}},(0,c.tZ)(d.zxk,{type:"button",disabled:!_,onClick:()=>(0,O.Yo)(ie.nC)},(0,c.tZ)("div",{className:"openIcon--Jft6n3KJTS"},(0,c.tZ)(d.RTC,{color:ht()["--white"]})),s("team_settings_connector_installer_button"))))))},xy="team_settings_connector_edit",Sy="team_settings_connector_save",fy="team_settings_connector_saving",vy="team_settings_connector_success",Cy=({isTeamSettingsLoading:e,saveConnectorURL:t,saveIdpMetadata:a,teamSettings:i})=>{var s,o;const{translate:r}=(0,p.Z)();return n.createElement(n.Fragment,null,n.createElement(pl,{label:r("team_settings_connector_metadata_title")},n.createElement("div",{className:uy},n.createElement(on.X,{isDisabled:e,multiLine:!0,defaultValue:null!=(s=i?.ssoIdpMetadata)?s:"",saveBtnLabel:r(Sy),savingBtnLabel:r(fy),editBtnLabel:r(xy),placeholder:r("team_settings_connector_metadata_placeholder"),successMessage:r(vy),onSave:a,inputFieldClassName:"inputField--SXqAbTX3lX",textFieldClassName:_y}))),n.createElement(pl,{label:r("team_settings_connector_url_title"),labelHelper:r("team_settings_connector_url_description")},n.createElement("div",{className:uy},n.createElement(on.X,{isDisabled:e,defaultValue:null!=(o=i?.ssoServiceProviderUrl)?o:"",saveBtnLabel:r(Sy),savingBtnLabel:r(fy),editBtnLabel:r(xy),placeholder:r("team_settings_connector_url_placeholder"),successMessage:r(vy),onSave:t,textFieldClassName:_y}))))},Ey=({setStepComplete:e,isTeamSettingsLoading:t=!1,teamSettings:a,updateTeamSettings:i})=>{var s,o,r;const{translate:l}=(0,p.Z)(),c=n.useCallback((async e=>{try{await i({ssoIdpMetadata:e})}catch(e){throw Error(l("team_settings_connector_metadata_error"))}}),[i,l]),d=n.useCallback((async e=>{try{const t=e?(0,ry.Yw)(e):null;await i({ssoServiceProviderUrl:t})}catch(e){throw Error(l("team_settings_connector_url_error"))}}),[i,l]),u=a?.ssoServiceProviderUrl,_=a?.ssoIdpMetadata;return n.useEffect((()=>{t||_&&u&&e(gl.SSOConnector)}),[t,u,_,e]),n.createElement("div",{className:"ssoConnectorContainer--ndf4jAvwn0"},n.createElement(Cy,{isTeamSettingsLoading:t,teamSettings:a,saveConnectorURL:d,saveIdpMetadata:c}),n.createElement(hy,{isTeamSettingsLoading:t,isSsoEnabled:null!=(s=a?.ssoEnabled)&&s,idpMetadata:null!=(o=a?.ssoIdpMetadata)?o:"",connectorUrl:null!=(r=a?.ssoServiceProviderUrl)?r:""}))},Zy=({lee:e})=>{const{translate:t}=(0,p.Z)(),[a,i]=(0,n.useState)(new Set),[s,r]=(0,n.useState)(new Set),[l,c]=(0,n.useState)(new Set([yl.EnableSSO,yl.SSOConnector]));(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacSettingsSsoLegacy)}),[]),(0,n.useEffect)((()=>{const e=new Set,t=new Set([yl.EnableSSO,yl.ConfigureIDP,yl.SSOConnector]);a.has(gl.ClaimDomain)&&a.has(gl.VerifyDomain)&&(e.add(yl.SSOConnector),e.add(yl.ConfigureIDP),e.add(yl.EnableSSO),t.delete(yl.SSOConnector),t.delete(yl.ConfigureIDP),t.delete(yl.EnableSSO)),a.has(gl.EnableSSO)&&(e.delete(yl.SSOConnector),e.delete(yl.ConfigureIDP)),r(e),c(t)}),[a]);const u=(0,n.useCallback)((e=>{i((t=>{const a=e=>e.every((e=>t.has(e)));let n=!0;switch(e){case gl.EnableSSO|gl.VerifyDomain:n=!0;break;case gl.SSOConnector:n=a([gl.ClaimDomain,gl.VerifyDomain]);break;case gl.EnableSSO:n=a([gl.ClaimDomain,gl.VerifyDomain,gl.SSOConnector])}return n&&!t.has(e)?new Set([...t,e]):t}))}),[]),_=(0,n.useCallback)((e=>{i((t=>{const a=new Set(t);return e.forEach((e=>{a.delete(e)})),a}))}),[]),m=(0,v.ev)(e.globalState),{teamSettingsLoading:g,teamSettings:y,updateTeamSettings:b,planTier:h}=xc(m),x=[{label:t("team_settings_sso_connector_title"),component:Ey,locked:l.has(yl.SSOConnector),open:s.has(yl.SSOConnector),index:2},{label:t("team_settings_sso_identity_provider_title"),component:ly,locked:l.has(yl.ConfigureIDP),open:s.has(yl.ConfigureIDP),index:3},{label:t("team_settings_sso_enable_title"),component:oy,locked:l.has(yl.EnableSSO),open:s.has(yl.EnableSSO),index:4}];return n.createElement(j_,{secondaryContent:g?n.createElement(zi.Z,{containerClassName:"loadingContainer--Qcn7EL4GD5",size:40}):n.createElement(d.UQy,{size:"large"},x.map((e=>n.createElement(d.UlM,{open:e.open,key:e.label,readOnly:e.locked},n.createElement(d._Oh,null,`${e.index}. ${e.label}`),n.createElement(d.rN7,null,n.createElement("fieldset",{disabled:e.locked},n.createElement(e.component,{isTeamSettingsLoading:g,teamSettings:y,setStepComplete:u,updateTeamSettings:b,teamId:null!=m?m:null,planTier:null!=h?h:null}))))))),title:t("team_settings_menu_title_single_sign_on")},(()=>{if(!y||y.ssoEnabled)return null;if("team"===h||"legacy"===h){const e=t.markup("team_settings_sso_teamplan_infobox_warning_markup"),a=t("team_settings_sso_teamplan_infobox_warning_button");return n.createElement("div",{className:"infoBox--w1PtJInNuc"},n.createElement(d.vDh,{title:e,size:"simple",secondaryLabel:a,secondary:()=>(0,O.Yo)(ie.Bw)}))}return null})(),n.createElement("p",{className:L_.settingsHeader},t("team_settings_sso_title")),n.createElement(pl,{label:t("team_settings_sso_guide_title"),labelHelper:t("team_settings_sso_guide_description")},n.createElement(P_.Z,{label:t("team_settings_sso_setup_button"),onClick:()=>{(0,O.Yo)(ie.nC)}})),n.createElement(El,{isTeamSettingsLoading:g,teamSettings:y,setStepComplete:u,uncompleteSteps:_,updateTeamSettings:b,teamId:m,planTier:h}))},Ny={NONE:0,IDP_APPLICATION:1,IDP_METADATA:2,DOMAIN_NAME:3,DOMAIN_VERIFICATION:4,TEST_SSO:5,ENABLE_SSO:6},Ty=Object.keys(Ny).length-1,Dy=(e,t,a)=>`step ${t} of ${a}`,My=({nitroStateStatus:e,nitroState:t})=>{const{translate:a}=(0,p.Z)();if(e!==Re.rq.Success||!t)return null;const n=(e=>{if(!e.global.isTeamProvisionedInNitro)return Ny.NONE;if(e.enableSSO.ssoEnabled)return Ny.ENABLE_SSO;const t=e.domainSetup[0]?.domainName;return e.domainVerificationInfo[t]?.verificationStatus===xm.X5.enum?.valid?Ny.DOMAIN_VERIFICATION:t?Ny.DOMAIN_NAME:e.idpMetadata.metadataValue?Ny.IDP_METADATA:e.global.isTeamProvisionedInNitro?Ny.IDP_APPLICATION:Ny.NONE})(t);return 0===n?(0,y.tZ)(y.Ct,{label:a("team_new_label"),mood:"brand",intensity:"quiet"}):(0,y.tZ)(y.Ct,{label:Dy`${n}${Ty}`,mood:"neutral",intensity:"quiet"})},Iy=({backgroundColor:e,withBorder:t,paddingSize:a="normal",...n})=>(0,c.tZ)("div",{sx:{bg:null!=e?e:"ds.container.agnostic.neutral.quiet",p:"tight"===a?"24px":"32px 24px",border:t?"1px solid #8C8F9033":void 0,borderRadius:3,height:"fit-content"},...n});var Ay,wy,ky;let Oy;!function(e){e.Pro="pro",e.Con="con",e.Soon="soon"}(Oy||(Oy={}));const Ly=({title:e,badge:t,infoList:a,ctaText:n,ctaMuted:i,ctaAction:s,ctaDisabled:o})=>(0,y.tZ)(d.T5p,{as:Iy,backgroundColor:"ds.background.default",paddingSize:"tight",gridTemplateRows:"auto 1fr auto"},(0,y.tZ)(d.T5p,{gridTemplateColumns:"1fr auto",alignItems:"center",gap:"8px",sx:{mb:"8px"}},(0,y.tZ)(d.nvN,{bold:!0,size:"medium"},e),t),(0,y.tZ)("ul",null,a.map(((e,t)=>{var a,n;return(0,y.tZ)(d.T5p,{as:"li",key:null!=(a=e.text)?a:t,gridTemplateColumns:"auto 1fr",gap:"8px",sx:{mb:"24px","&:last-of-type":{mb:"38px"}}},(e=>{switch(e){case Oy.Pro:return Ay||(Ay=(0,y.tZ)(y.JO,{name:"CheckmarkOutlined",color:"ds.text.positive.standard"}));case Oy.Con:return wy||(wy=(0,y.tZ)(y.JO,{name:"ActionCloseOutlined",color:"ds.text.warning.standard"}));case Oy.Soon:return ky||(ky=(0,y.tZ)(d.vFK,{color:"ds.text.warning.standard"}));default:throw new Error("Unexpected branch")}})(e.type),(0,y.tZ)("div",null,(0,y.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"medium"},e.text),e.subtext?(0,y.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"x-small",sx:null!=(n=e.variation?.subtext)?n:{}},e.subtext):null))}))),(0,y.tZ)(y.zx,{disabled:o,size:"small",intensity:i?"quiet":"catchy",mood:"brand",sx:{justifySelf:"start"},onClick:s},n)),zy={TITLE:"Self-hosted SSO",CTA:"Set up self-hosted SSO",CONTINUE_CTA:"Continue setup",INFO_LIST:[{text:"Zero-knowledge security architecture",type:Oy.Pro},{text:"Simplified set-up",subtext:"You’ll need to host and manage the encryption service yourself",type:Oy.Con},{text:"Verify multiple domains",type:Oy.Pro},{text:"Supports SCIM directory sync",type:Oy.Pro}]},jy=[{heading:"What is an encryption service?",description:"To maintain a zero-knowledge architecture when integrated with SSO or SCIM provisioning, Dashlane requires an additional layer of security we refer to as an encryption service.",linkText:"Learn more",linkHref:"https://support.dashlane.com/hc/articles/360013149040#encryption?utm_source=extension"},{heading:"What do I need to start?",listIntro:"To set up SSO, you’ll need",list:["Access to your identity provider (IdP) and public DNS provider accounts","A list of members to add to your SSO application","IdP metadata","Email domain"],linkText:"Learn more",linkHref:"https://support.dashlane.com/hc/articles/360013149040?utm_source=extension"}],Ry=({listIntro:e,list:t})=>(0,y.tZ)("div",null,(0,y.tZ)(d.nvN,{color:"ds.text.neutral.standard",size:"small"},e),(0,y.tZ)("ul",{sx:{listStyleType:"disc",mt:"8px",mb:"24px",ml:"24px"}},t.map(((e,t)=>(0,y.tZ)(d.nvN,{as:"li",size:"small",key:null!=e?e:t},e))))),Py=e=>(0,y.tZ)(d.Ejs,{gap:"32px",flexDirection:"column",...e},jy.map((({heading:e,description:t,listIntro:a,list:n,linkText:i,linkHref:s})=>{const o=a&&n?(0,y.tZ)(Ry,{listIntro:a,list:n}):t;return(0,y.tZ)(ll,{linkProps:{linkType:rl.ExternalLink,linkHref:s},key:e,heading:e,description:o,linkText:i})}))),Uy=()=>{const{path:e}=(0,s.$B)(),{teamInfo:t}=(0,_.G)(),a=(0,Yr.k)(Sm.y,"ssoProvisioning"),i=(0,xe.o)("provisioning_multiple_domains_confidential_sso_prod");if((0,n.useEffect)((()=>{(0,z.Nc)(o.Page.TacSso)}),[]),null===i)return null;const r=(l=null!=i&&i,{TITLE:"Confidential SSO",CTA:"Set up Confidential SSO",CONTINUE_CTA:"Continue setup",INFO_LIST:[{text:"Zero-knowledge security architecture",type:Oy.Pro},{text:"Simplified set-up",subtext:"The secure encryption service is hosted on the cloud for you",type:Oy.Pro},l?{text:"Verify multiple domains",type:Oy.Pro}:{text:"Supports 1 domain",subtext:"Multiple domains coming soon",type:Oy.Pro,variation:{subtext:{fontStyle:"italic"}}},{text:"Supports SCIM directory sync",subtext:"Coming soon",type:Oy.Soon,variation:{subtext:{fontStyle:"italic"}}}]});var l;if(a.status!==Re.rq.Success)return null;const{inferredSsoState:c,ssoCapable:u}=a.data.global,m=!u||c===xm.s5.enum.Unknown;return(0,y.tZ)(d.T5p,{gap:"32px",alignContent:"start"},(0,y.tZ)(km,{pageContext:wm.ChooseSso}),(0,y.tZ)(d.T5p,{gap:"32px",gridTemplateColumns:"1fr 1fr"},(0,y.tZ)(Ly,{title:zy.TITLE,infoList:zy.INFO_LIST,ctaText:c===xm.s5.enum.SelfHostedIncomplete?zy.CONTINUE_CTA:zy.CTA,ctaAction:()=>{var a;Zm({currentBillingPlanTier:null!=(a=t?.planTier)?a:"business",ssoSetupStep:o.SsoSetupStep.ChooseYourSsoSolution}),(0,s.uX)(`${e}${eb.SELF_HOSTED_SSO}`)},ctaMuted:c===xm.s5.enum.NitroIncomplete,ctaDisabled:m||c===xm.s5.enum.NitroComplete}),(0,y.tZ)(Ly,{title:r.TITLE,badge:(0,y.tZ)(My,{nitroStateStatus:a.status,nitroState:a.data}),infoList:r.INFO_LIST,ctaText:c===xm.s5.enum.NitroIncomplete?r.CONTINUE_CTA:r.CTA,ctaAction:()=>{var a;Nm({currentBillingPlanTier:null!=(a=t?.planTier)?a:"business",ssoSetupStep:o.SsoSetupStep.ChooseYourSsoSolution}),(0,s.uX)(`${e}${eb.CONFIDENTIAL_SSO}`)},ctaMuted:c===xm.s5.enum.SelfHostedIncomplete,ctaDisabled:m||c===xm.s5.enum.SelfHostedComplete})))},By=()=>(0,y.tZ)(d.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",alignItems:"start",fullWidth:!0},(0,y.tZ)("div",{sx:{px:"48px",pt:"32px",pb:"4px"}},(0,y.tZ)(hs,{title:"Choose your single sign-on (SSO) configuration"})),(0,y.tZ)(Iu,{mainContent:Uy,secondaryContent:Py,sx:{bg:"ds.container.agnostic.neutral.quiet",pt:"0px"}})),Gy=e=>{const{translate:t}=(0,p.Z)();return(0,y.tZ)(ll,{supportHeading:t("team_settings_contact_us_support_header"),heading:t("team_settings_contact_us_heading"),description:t("team_settings_contact_us_description"),linkText:t("team_settings_contact_us_link_title"),linkProps:{linkType:rl.InternalLink,internalAction:e}})};var Fy=a(886910);const Vy={ITEM:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"16px"}},$y=({iconName:e,title:t,subtitle:a})=>{const{translate:n}=(0,p.Z)();return(0,y.tZ)("div",{sx:Vy.ITEM},(0,y.tZ)(y.JO,{name:e,size:"xlarge"}),(0,y.tZ)("div",null,(0,y.tZ)(y.nv,{textStyle:"ds.title.block.medium",sx:{marginBottom:"5px"}},n(t)),(0,y.tZ)(y.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet"},n(a))))};var qy;const Wy={WHATS_SSO:{i18nKey:"team_settings_sso_paywall_whats_sso",url:ie.Tz},ZERO_KNOWLEDGE:{i18nKey:"team_settings_sso_paywall_zero_knowledge",url:ie.mn},MULTI_DOMAINS:{i18nKey:"team_settings_sso_paywall_multi_domains",url:ie.I9},SELF_HOSTED:{i18nKey:"team_settings_sso_paywall_self_hosted",url:ie.bx},CONFIDENTIAL_SSO:{i18nKey:"team_settings_sso_paywall_confidential_sso",url:ie.Fn},IDENTITY_PROVIDER:{i18nKey:"team_settings_sso_paywall_identity_provider",url:ie.HX},HELP_CENTER:{i18nKey:"team_settings_sso_paywall_helper_center",url:ie.Tx}},Hy={CONTAINER:{borderRadius:"8px",border:"1px solid ds.border.neutral.quiet.idle",padding:"32px",backgroundColor:"ds.background.default",display:"flex",flexDirection:"column",alignItems:"flex-start"},HEADER:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px",alignSelf:"stretch"},ITEMS:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"32px",alignSelf:"stretch"},ACTIONS:{display:"flex",justifyContent:"space-between",alignItems:"center",alignSelf:"stretch"}},Ky=({isTrialOrGracePeriod:e})=>{const[t,a]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacSsoPaywall)}),[]);const i=()=>a(!0);return(0,y.tZ)(n.Fragment,null,(0,y.tZ)(Iu,{mainContent:d.T5p,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:()=>(e=>{const{translate:t}=(0,p.Z)(),{routes:a}=(0,s.Xo)(),n=(0,w.B)();return(0,y.tZ)(d.T5p,{gap:"32px",alignContent:"start",sx:Hy.CONTAINER},(0,y.tZ)("div",{sx:Hy.HEADER},(0,y.tZ)(y.Ct,{iconName:"PremiumOutlined",layout:"iconLeading",label:t("team_settings_sso_paywall_business_badge"),mood:"brand",intensity:"quiet"}),(0,y.tZ)(y.nv,{textStyle:"ds.title.section.large"},t("team_settings_sso_paywall_title")),(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet"},t("team_settings_sso_paywall_description"))),(0,y.tZ)("div",{sx:Hy.ITEMS},(0,y.tZ)($y,{iconName:"ProtectionOutlined",title:"team_settings_sso_paywall_user_experience_item",subtitle:"team_settings_sso_paywall_user_experience_description"}),(0,y.tZ)($y,{iconName:"FeatureDarkWebMonitoringOutlined",title:"team_settings_sso_paywall_transparency_item",subtitle:"team_settings_sso_paywall_transparency_description"}),(0,y.tZ)($y,{iconName:"AccountSettingsOutlined",title:"team_settings_sso_paywall_access_item",subtitle:"team_settings_sso_paywall_access_description"}),(0,y.tZ)($y,{iconName:"ToolsOutlined",title:"team_settings_sso_paywall_confidential_sso_item",subtitle:"team_settings_sso_paywall_confidential_sso_description"})),(0,y.tZ)("div",{sx:Hy.ACTIONS},qy||(qy=(0,y.tZ)(Fy.a,{dropdownItems:Wy,titleKey:"team_settings_sso_paywall_learn_more"})),(0,y.tZ)(y.zx,{mood:"brand",intensity:"catchy",icon:"PremiumOutlined",layout:"iconLeading",role:e?"link":void 0,onClick:()=>{var t;(0,z.Kz)(new o.UserClickEvent({button:o.Button.UpgradeBusinessTier,clickOrigin:o.ClickOrigin.SsoPaywallPage})),e?(0,O.Yo)(`${ie.ub}?plan=business&subCode=${null!=(t=n?.subscriptionCode)?t:""}&utm_source=button:upgrade_business_tier+click_origin:sso_paywall_page+origin_page:tac/sso/paywall+origin_component:main_app`):(0,s.uX)(`${a.teamAccountChangePlanRoutePath}?plan=business`)}},t("team_settings_sso_paywall_upgrade_business"))))})(e)},withDefaultBackground:!0,secondaryContent:()=>Gy(i)}),t?(0,y.tZ)(me,{onDismiss:()=>a(!1)}):null)};var Qy,Yy,Xy,Jy;const eb={SSO_CONNECTOR:"/sso-connector",SELF_HOSTED_SSO:"/self-hosted-sso",CONFIDENTIAL_SSO:"/confidential-sso",UPGRADE_PAYWALL:"/paywall"},tb=()=>(0,c.tZ)(d.Ejs,{alignItems:"center",justifyContent:"center",fullWidth:!0,sx:{mt:"20vh"}},Qy||(Qy=(0,c.tZ)(d.HoD,{size:75,color:"ds.border.brand.standard.idle"}))),ab=()=>(0,c.tZ)(d.Ejs,{alignItems:"center",justifyContent:"center",fullWidth:!0,sx:{mt:"20vh"}},(0,c.tZ)(d.nvN,null,"Error loading SSO Provisioning information."));var nb=a(816694),ib=a(597198);const sb=({accountInfo:e})=>{const{translate:t}=(0,p.Z)(),{routes:a}=(0,s.Xo)();return e?.premiumStatus?(0,y.tZ)(y.ke,{title:t("team_settings_active_directory_paywall_title"),description:t("team_settings_active_directory_paywall_description"),actions:[(0,A.wt)(e.premiumStatus)?(0,y.tZ)(y.zx,{key:"buy",onClick:()=>{(0,O.Yo)(`${ie.ub}?plan=business&subCode=${e?.subscriptionCode}`)}},t("team_settings_active_directory_paywall_buy")):(0,y.tZ)(s.rU,{key:"upgrade",to:`${a.teamAccountChangePlanRoutePath}?plan=business`},(0,y.tZ)(y.zx,null,t("team_settings_active_directory_paywall_upgrade")))],size:"large",sx:{marginBottom:"32px"}}):null};var ob,rb;const lb="_common_generic_error",cb=({lee:e,teamSettings:t,teamSettingsLoading:a,updateTeamSettings:i,disableForm:s,isNitroSSOInUse:r,adSyncEnabled:l,isAdSyncCapable:c,accountInfo:u})=>{const{translate:_}=(0,p.Z)(),{reportTACError:m}=V(),{lastADSyncDateError:g,lastADSyncDateLoading:b,lastADSyncDate:h}=function(){const[e,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(),[s,o]=(0,n.useState)(null),r=(0,n.useCallback)((async e=>{try{e.signal.aborted||t(!0);const a=await(0,ee.H)();e.signal.aborted||(i(a),t(!1),o(null))}catch(a){e.signal.aborted||(t(!1),o(a))}}),[]);return(0,n.useEffect)((()=>{const e=new AbortController;return r(e),()=>{e.abort()}}),[r]),{lastADSyncDateLoading:e,lastADSyncDate:a,lastADSyncDateError:s}}(),x=_.shortDate,[S,f]=(0,n.useState)(!0),[v,C]=(0,n.useState)(!1),[E,Z]=(0,n.useState)(!1),[N,T]=(0,n.useState)(!1),[D,M]=(0,n.useState)(!1),{inviteLinkDataForAdmin:I,getInviteLinkDataForAdmin:A}=(0,Lc.h)(),[w,k]=(0,n.useState)(!1),{teamId:O}=(0,wo.fV)(),L=(0,n.useCallback)((()=>e.apiMiddleware.teamPlans?e.apiMiddleware.teamPlans:(m(new Error("teamPlans service missing from apiMiddleware")),null)),[]);(0,n.useEffect)((()=>{A()}),[A]),(0,n.useEffect)((()=>{a||(async()=>{let a=t.activeDirectoryToken,n=t.activeDirectorySyncStatus;if(!a){const e=await L();if(!e)return;const{activeDirectorySyncStatus:t,activeDirectoryToken:i}=e.getADToken();a=i,n=t}const{activeDirectorySyncType:i}=t;try{const t={activeDirectorySyncStatus:n,activeDirectorySyncType:i,activeDirectoryToken:a,teamId:O};e.dispatch(nb.vo(t)),Z(["full","deprovision-only"].includes(null!=i?i:"")),M(["full","provision-only"].includes(null!=i?i:"")),f(!1)}catch(e){console.error(`ActiveDirectorySettings - fetchData: failed with error: ${e}`)}})()}),[x,a]);const j=(e,t)=>e?t?"full":"provision-only":t?"deprovision-only":null,R=s&&c?{size:"medium",title:_("team_settings_active_directory_scim_warning_heading"),description:_("team_settings_active_directory_scim_warning_description")}:r?{size:"large",title:"Confidential SSO does not currently support SCIM provisioning",description:"Until Confidential SSO supports SCIM, you can provision plan members by setting up Active Directory sync. You can also manually enter emails or upload a CSV or TXT file on the Users page.",actions:[(0,y.tZ)(d.rUS,{key:"learn-more",href:"https://support.dashlane.com/hc/sections/360004143940-Single-sign-on-SSO-?utm_source=extension",target:"_blank",rel:"noopener noreferrer"},(0,y.tZ)(y.zx,null,"Learn more"))]}:null,P=(0,ie.cI)(I?.teamKey);return(0,y.tZ)(n.Fragment,null,(0,y.tZ)(mu,{showSharingDialog:w,setShowSharingDialog:k}),(0,y.tZ)(d.T5p,{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet"},gap:"10px",gridTemplateAreas:"'mainContent secondaryContent'",gridTemplateColumns:"auto 1fr",alignContent:"flex-start"},(0,y.tZ)(d.dDn,{gridArea:"mainContent"},(0,y.tZ)(j_,null,c?null:(0,y.tZ)(sb,{accountInfo:u}),R?(0,y.tZ)(d.Ejs,{alignItems:"flex-start",flexDirection:"row",sx:{marginBottom:"32px"}},(0,y.tZ)("div",{sx:"large"===R.size?{}:{paddingRight:"40px",maxWidth:"50%"}},(0,y.tZ)(y.ke,{mood:"neutral",...R}))):null,(0,y.tZ)(y.nv,{sx:{marginTop:s?"32px":void 0},color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.strong"},_("team_settings_active_directory_title_help")),(0,y.tZ)(pl,{label:_("team_settings_active_directory_header_label"),labelHelper:_("team_settings_active_directory_header_helper")},(0,y.tZ)("div",null,(0,y.tZ)(P_.Z,{label:_("team_settings_active_directory_header_button_label"),onClick:()=>{window.open("https://support.dashlane.com/hc/articles/115002155485","_blank")}}))),(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.strong"},_("team_settings_active_directory_title_status")),(0,y.tZ)(pl,{label:_("team_settings_active_directory_last_successful_sync_date_label")},b?ob||(ob=(0,y.tZ)(d.HoD,{color:"ds.oddity.focus",size:"20px"})):g?`${_("_common_generic_error")} ${g.message.toLowerCase()}`:h?.lastSuccessfulSyncRequestForTeamUnix?x((0,Ht.Z)(h.lastSuccessfulSyncRequestForTeamUnix),ea._T.lll):_("team_settings_active_directory_last_successful_sync_date_value_never")),(()=>{const{activeDirectorySyncStatus:t}=e.state;return t?.failedSyncCount?(0,y.tZ)(n.Fragment,null,(0,y.tZ)(pl,{label:_("team_settings_active_directory_last_error_message_label")},(0,y.tZ)("span",{sx:{color:"ds.text.danger.standard"}},t.lastFailedSync?.error)),(0,y.tZ)(pl,{label:_("team_settings_active_directory_last_error_date_label")},(0,y.tZ)("span",{sx:{color:"ds.text.danger.standard"}},t?.lastFailedSync?x((0,Ht.Z)(t.lastFailedSync.eventDateUnix),ea._T.lll):null)),(0,y.tZ)(pl,{label:_("team_settings_active_directory_fail_count_label")},(0,y.tZ)("span",{sx:{color:"ds.text.danger.standard"}},e.state.activeDirectorySyncStatus.failedSyncCount))):null})(),(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.strong"},_("team_settings_active_directory_title_setup")),(0,y.tZ)(pl,{label:_("team_settings_active_directory_automated_provisioning_label"),labelHelper:_("team_settings_active_directory_automated_provisioning_helper")},(0,y.tZ)(R_.Z,{genericErrorMessage:_(lb),isDisabled:S||N||s,saveValueFunction:async()=>{if(N)return Promise.resolve();T(!0);const t=!D,a=j(t,E);try{await i({activeDirectorySyncType:a}),e.dispatch(nb.dV(a)),M(t),T(!1)}catch(e){m(e)}},value:Di.Maybe.maybe(D)})),(0,y.tZ)(pl,{label:_("team_settings_active_directory_automated_deprovisioning_label"),labelHelper:_("team_settings_active_directory_automated_deprovisioning_helper")},(0,y.tZ)(R_.Z,{genericErrorMessage:_(lb),isDisabled:S||v||s,saveValueFunction:async()=>{if(v)return Promise.resolve();C(!0);const t=!E,a=j(D,t);try{await i({activeDirectorySyncType:a}),e.dispatch(nb.dV(a)),Z(t),C(!1)}catch(e){m(e)}},value:Di.Maybe.maybe(E)})),(0,y.tZ)(pl,{label:_("team_settings_active_directory_cron_script_label"),labelHelper:_("team_settings_active_directory_cron_script_helper")},(0,y.tZ)(xd.n,{defaultValue:e.state.activeDirectoryScript,isDisabled:!0,multiLine:!0,style:{backgroundColor:"ds.container.expressive.neutral.quiet.active",fontSize:"12px",height:"180px",width:"300px"}}),(0,y.tZ)("div",null,(0,y.tZ)(bd.Z,{label:e.state.isCopied?_("team_settings_active_directory_button_copy_feedback"):_("team_settings_active_directory_button_copy_label"),onClick:()=>(navigator.clipboard.writeText(e.state.activeDirectoryScript).then((()=>{e.dispatch(nb.Kk(!0)),window.setTimeout((()=>e.dispatch(nb.Kk(!1))),700)})),void(0,z.Nc)(o.PageView.TacSettingsDirectorySyncActiveDirectory))}))))),l?(0,y.tZ)(d.dDn,{gridArea:"secondaryContent",sx:{maxWidth:"500px",minWidth:"250px"},alignSelf:"flex-start"},(0,y.tZ)(ll,{linkProps:{linkType:rl.ExternalLink},heading:_("team_settings_encryption_service_scim_invite_link_heading"),description:(0,y.tZ)("div",null,(0,y.tZ)(y.nv,{sx:{mb:"8px"}},_("team_settings_encryption_service_scim_invite_link_description_first")),(0,y.tZ)(y.nv,{as:"a",onClick:e=>{e.preventDefault(),navigator.clipboard.writeText(P),k(!0)},sx:{display:"flex",gap:"4px"},href:"_blank"},_("team_settings_encryption_service_scim_invite_link_copy"),rb||(rb=(0,y.tZ)(y.JO,{color:"ds.text.brand.standard",name:"ActionCopyOutlined",size:"medium"}))))})):null))},db=a(894017);function ub(e,t){const a=[];return a.push({type:"header",label:t("team_settings_header_setup_guide")},{type:"textwithbutton",analyticsKey:"helpSetupSAML",label:t("team_settings_what_is_saml"),buttonLabel:t("team_settings_learn_more_about_saml"),helperLabel:t("team_settings_what_is_saml_helper"),onClick:()=>{window.open("https://support.dashlane.com/hc/articles/212111089","_blank")}}),a.push({type:"header",label:t("team_settings_header_general")},{type:"text",label:t("team_settings_idp_url"),helperLabel:t("team_settings_idp_url_helper"),feature:"idpUrl",hintText:t("team_settings_idp_url_placeholder"),serverFeature:"idp_url",value:e.state.idpUrl,validator:e=>0===e.length?null:db.isURL(e,{protocols:["https"],require_protocol:!0})?e.length>255?"idp_url_exceeds_char_limit":null:"invalid_idp_url",getErrorMessageForKey:e=>{switch(e){case"invalid_idp_url":return t("team_settings_idp_url_save_error_msg_invalid_url");case"idp_url_exceeds_char_limit":return t("team_settings_idp_url_save_error_msg_exceeds_char_limit",{lengthLimit:255});default:return t("team_settings_idp_url_save_error_msg_generic_error")}}},{type:"text",label:t("team_settings_idp_certificate"),helperLabel:t("team_settings_idp_certificate_helper"),feature:"idpCertificate",hintText:t("team_settings_idp_certificate_placeholder"),serverFeature:"idp_certificate",value:e.state.idpCertificate,multiLine:!0,inputStyle:{fontSize:12,lineHeight:1.4,minHeight:120},hintStyle:{whiteSpace:"initial"},serializer:e=>e.split("\n").join("\n"),validator:e=>{if(e.length>1e4)return"idp_certificate_exceeds_char_limit";const t=e.split("\n"),a=t.length;return a<3?"idp_certificate_invalid":t[0].includes("BEGIN CERTIFICATE")&&t[a-1].includes("END CERTIFICATE")?t.slice(1,a-1).find((e=>!db.isBase64(e)))?"idp_certificate_invalid":null:"idp_certificate_invalid"},getErrorMessageForKey:e=>{switch(e){case"idp_certificate_exceeds_char_limit":return t("team_settings_idp_certificate_save_error_msg_exceeds_char_limit",{lengthLimit:1e4});case"idp_certificate_invalid":return t("team_settings_idp_certificate_save_error_msg_invalid_certificate");default:return t("team_settings_idp_certificate_save_error_msg_generic_error")}}},{type:"text",label:t("team_settings_idp_security_groups"),value:e.state.idpSecurityGroups,serializer:e=>(e.length?e.split(";"):[]).filter((e=>!!e.length)).map((e=>e.trim())),deserializer:e=>e.map((e=>e.join(";"))),feature:"idpSecurityGroups",serverFeature:"idp_security_group",hintText:t("team_settings_idp_security_groups_placeholder"),validator:e=>{try{e.forEach((e=>{if(!/^[^<>#,+"\\]+$/.test(e))throw new Error("incorrect_security_group")}))}catch(e){return"invalid_security_group"}return null},getErrorMessageForKey:e=>"invalid_security_group"===e?t("team_settings_idp_security_groups_save_error_msg_invalid_certificate",{forbiddenCharacters:'# , + " \\ < >'}):t("team_settings_idp_security_groups_save_error_msg_generic_error")}),a}const _b=({lee:e})=>n.createElement(cm,{lee:e.child(Q_.ZP),createFieldListFunction:ub,pageView:o.PageView.TacSettingsDirectorySyncSamlProvisioning});var mb,pb;const gb={CONTAINER:{borderRadius:"8px",padding:"24px",border:"1px solid ds.border.neutral.quiet.idle",background:"ds.container.agnostic.neutral.supershy","& h1":{margin:"8px 0px"}},MAIN_TITLE:{margin:"8px 0px",fontFamily:"Public Sans",fontSize:"22px",fontStyle:"normal",fontWeight:"500",lineHeight:"28px"},CONTENT_CARD:{margin:"32px 0px",display:"flex",flexDirection:"row",gap:"16px"},CONTENT_CARD_FEATURE_TITLE:{fontSize:"16px",fontStyle:"normal",fontWeight:"500",lineHeight:"20px",color:"ds.text.neutral.catchy"},CONTENT_CARD_FEATURE_DESC:{color:"ds.text.neutral.quiet",fontSize:"13px",fontStyle:"normal",fontWeight:"400",lineHeight:"18px",maxWidth:"600px"},BUTTONS:{display:"flex",justifyContent:"space-between"}},yb={LINK_ZEROKNOWLEDGE:{i18nKey:"team_settings_directory_sync_scim_paywall_link_zeroknowledge",url:ie.mn},LINK_MULTIPLEDOMAINS:{i18nKey:"team_settings_directory_sync_scim_paywall_link_multiple_domains",url:ie.I9},LINK_SELFHOSTED:{i18nKey:"team_settings_directory_sync_scim_paywall_link_self_hosted",url:ie.uR},LINK_CONFIDENTIAL:{i18nKey:"team_settings_directory_sync_scim_paywall_link_confidential",url:ie.FP},LINK_IDP_INTEGRATION:{i18nKey:"team_settings_directory_sync_scim_paywall_link_idp",url:ie.uC},LINK_ADMIN_HC:{i18nKey:"team_settings_directory_sync_scim_paywall_link_help_center",url:ie.Tx}},bb=({isTrialOrGracePeriod:e})=>{const{translate:t}=(0,p.Z)(),{routes:a}=(0,s.Xo)(),i=(0,w.B)();return(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacSettingsDirectorySyncPaywall)}),[]),(0,y.tZ)("div",{sx:gb.CONTAINER},(0,y.tZ)(y.Ct,{iconName:"PremiumOutlined",label:t("team_settings_directory_sync_scim_paywall_business_badge"),layout:"iconLeading",intensity:"quiet",mood:"brand",sx:{height:"16px"}}),(0,y.tZ)("h2",{sx:gb.MAIN_TITLE},t("team_settings_directory_sync_scim_paywall_title")),(0,y.tZ)(y.nv,null,t("team_settings_directory_sync_scim_paywall_description")),(0,y.tZ)("div",{sx:gb.CONTENT_CARD},mb||(mb=(0,y.tZ)(y.JO,{name:"ToolsOutlined",size:"xlarge",tooltip:"bli"})),(0,y.tZ)("div",null,(0,y.tZ)("span",{sx:gb.CONTENT_CARD_FEATURE_TITLE},t("team_settings_directory_sync_scim_paywall_feature_selfhosted_title")),(0,y.tZ)(y.nv,{sx:gb.CONTENT_CARD_FEATURE_DESC},t("team_settings_directory_sync_scim_paywall_feature_selfhosted_desc")))),(0,y.tZ)("div",{sx:gb.CONTENT_CARD},pb||(pb=(0,y.tZ)(y.JO,{name:"ToolsOutlined",size:"xlarge",tooltip:"bli"})),(0,y.tZ)("div",null,(0,y.tZ)("div",{sx:{display:"flex",gap:"5px"}},(0,y.tZ)("span",{sx:gb.CONTENT_CARD_FEATURE_TITLE},t("team_settings_directory_sync_scim_paywall_feature_confidential_title")),(0,y.tZ)(y.Ct,{label:t("team_settings_directory_sync_scim_paywall_coming_soon_badge"),mood:"neutral",intensity:"supershy"})),(0,y.tZ)(y.nv,{sx:gb.CONTENT_CARD_FEATURE_DESC},t("team_settings_directory_sync_scim_paywall_feature_confidential_desc")))),(0,y.tZ)("div",{sx:gb.BUTTONS},(0,y.tZ)(Fy.a,{dropdownItems:yb,titleKey:"team_settings_directory_sync_scim_paywall_dropdown_learn_more"}),(0,y.tZ)(y.zx,{layout:"iconLeading",icon:"PremiumOutlined",mood:"brand",intensity:"quiet",onClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.UpgradeBusinessTier,clickOrigin:o.ClickOrigin.DirectorySyncPaywallPage})),e?(0,O.Yo)(`${ie.ub}?plan=business&subCode=${i?.subscriptionCode}&utm_source=button:upgrade_business_tier+click_origin:directory_sync_paywall_page+origin_page:tac/settings/directory_sync/paywall+origin_component:main_app`):(0,s.uX)(`${a.teamAccountChangePlanRoutePath}?plan=business`)},role:e?"link":"button"},t("team_settings_directory_sync_scim_paywall_upgrade_business"))))},hb="SCIM provisioning is not currently supported by Confidential SSO",xb="If you plan to set up both SCIM and single sign-on (SSO), you'll need to use the self-hosted option. Both SCIM and self-hosted SSO require the encryption service you configure and host yourself on AWS or Azure.",Sb="Learn more",fb=({isScimEnabled:e,isSCIMCapable:t,isTrialOrGracePeriod:a,onSetupClear:i,showPaywall:s})=>{const[o,r]=(0,n.useState)(!1),{teamId:l}=(0,wo.fV)(),{clearSettings:c,initSsoProvisioning:u}=(0,wa.u)(Sm.y),{data:_,status:m}=(0,Yr.k)(Sm.y,"ssoProvisioning");if(m!==Re.rq.Success)return null;const{global:{inferredSsoState:p}}=_;if(p===xm.s5.enum.NitroComplete)throw new Error("Invalid state: cannot access SCIM if the team is using Confidential SSO until the enclave supports SCIM.");if(!1===t&&s&&void 0!==a)return(0,y.tZ)(bb,{isTrialOrGracePeriod:a});if(p===xm.s5.enum.NitroIncomplete&&!s){const e=async()=>{await c(),await u({teamId:`${l}`}),await(i?.())};return(0,y.tZ)(n.Fragment,null,o?(0,y.tZ)(Am,{onClose:()=>r(!1),onConfirm:e,titleText:"Are you sure?",bodyText:"This action can’t be undone."}):null,(0,y.tZ)(y.ke,{mood:"neutral",size:"large",title:"To use SCIM, clear Confidential SSO setup",description:(0,y.tZ)(Im,{markdownValue:"If you want to use SCIM, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP."}),actions:[(0,y.tZ)(y.zx,{key:"clear",onClick:()=>r(!0)},"Clear setup")]}))}return p===xm.s5.enum.SelfHostedComplete||!1!==e||s?null:(0,y.tZ)(y.ke,{mood:"neutral",size:"large",title:hb,description:xb,actions:[(0,y.tZ)(d.rUS,{key:"learn-more",href:ie.B7,target:"_blank",rel:"noopener noreferrer"},(0,y.tZ)(y.zx,{onClick:()=>{}},Sb))]})};var vb;const Cb=({lastSyncUnix:e,version:t,loading:a,refreshData:n})=>{const{translate:i}=(0,p.Z)();return(0,y.tZ)(sg.R,null,a?vb||(vb=(0,y.tZ)(y.ZX,null)):(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"5px"},(0,y.tZ)(d.k$b,{as:y.nv,textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard"},`${i("team_settings_directory_sync_last_sync")} ${e?(0,Ht.Z)(e).toLocaleString(navigator.language,{...ea.qG.lll,timeZoneName:"short"}):i("team_settings_directory_sync_not_available")}`),(0,y.tZ)(d.k$b,{as:y.nv,textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard"},`${i("team_settings_encryption_service_version")} ${null!=t?t:i("team_settings_encryption_service_not_available")}`),(0,y.tZ)(d.k$b,{as:y.nv,innerAs:"a",color:"ds.text.brand.standard",sx:{textDecoration:"none",fontWeight:"normal",display:"flex",flexDirection:"row"},onClick:()=>n()},(0,y.tZ)(y.JO,{name:"ActionRefreshOutlined",sx:{marginRight:"5px"},color:"ds.text.brand.standard",size:"xsmall"}),i("team_settings_scim_sync_refresh"))))},Eb=({loading:e,parentPath:t,teamSettings:a,esConfig:n,isScimCapable:i,disableSetupButton:o})=>{const r=(0,s.k6)(),{translate:l}=(0,p.Z)(),{teamDeviceConfigLoading:c,teamDeviceConfig:u}=Zg({draft:!1,deviceAccessKey:n?.deviceAccessKey}),{teamDeviceLoading:_,teamDevice:m,refreshTeamDevice:g}=zp(n?.deviceAccessKey),b=e||c,h=!a?.ssoServiceProviderUrl||b||o||!i,x=!u?.configProperties?.scimAuthToken;return(0,y.tZ)(d.Zbd,null,(0,y.tZ)(d.T5p,{as:d.aYP,gap:"8px",gridTemplateAreas:"'header button' 'description button' 'status status'",gridTemplateColumns:"1fr auto",sx:{bg:"white",border:"none"}},(0,y.tZ)(d.dDn,{as:y.X6,innerAs:"h3",size:"large",bold:!0,gridArea:"header",textStyle:"ds.title.section.medium"},l("team_settings_directory_sync_scim_header")),(0,y.tZ)(d.dDn,{gridArea:"description",as:y.nv,size:"small",textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet"},l("team_settings_directory_sync_scim_description")),(0,y.tZ)(d.dDn,{gridArea:"button"},(0,y.tZ)(Rd.M,{id:"scimSetupButton",loading:b,disabled:h,neverShowTooltip:o,size:"large",onClick:()=>{r.push(`${t}${zb}`)},content:l("team_settings_es_sso_setup_configure_es_tooltip"),mood:x&&!h?"brand":"neutral",intensity:x&&!h?"catchy":"quiet"},l(x?"team_settings_directory_sync_scim_set_up_button":"team_settings_button_edit_label"))),u?.configProperties?.scimEnabled?(0,y.tZ)(d.dDn,{gridArea:"status",sx:{mt:"20px"}},(0,y.tZ)(Cb,{loading:_,version:m?.version,refreshData:g,lastSyncUnix:m?.lastActivityDateUnix})):null))};var Zb,Nb,Tb,Db=a(769183);const Mb={GENERIC_ERROR:"_common_generic_error"},Ib=({config:e,esEndpoint:t})=>{var a;const{translate:i}=(0,p.Z)(),o=(0,s.k6)(),{teamDeviceConfigLoading:r,teamDeviceConfig:l,updateTeamDeviceConfig:c,refreshTeamDeviceConfig:u,loadTeamDeviceConfigErrorCode:_}=Zg({draft:!1,deviceAccessKey:e?.deviceAccessKey}),[m,g]=(0,n.useState)(""),[b,h]=(0,n.useState)(!1),[x,S]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1),[C,E]=(0,n.useState)(!1),Z=r;(0,n.useEffect)((()=>{const e=_;e&&e!==Ip.TeamDeviceEncryptedConfigNotFound&&g(e)}),[_,i]);const N=()=>o.goBack(),T=async({values:e,resetForm:a})=>{S(!0),h(!1);const n={scimEnabled:e.encryptionServiceSync,teamDeviceUrl:null!=t?t:void 0};!f&&l?.configProperties?.scimAuthToken||(n.scimAuthToken=e.scimToken);const i=await c(n);v(!1),await u(),S(!1),i.success?i.data.encryptionServiceReloadingStatus===Te.EncryptionServiceRestartStatusCodes.OK?(a({values:e}),N()):h(!0):g(i.error.code)},D={scimToken:(M=l?.configProperties?.scimAuthToken,null!=(I=M?.replace(/./g,"*"))?I:""),scimEndpoint:t?(0,ry.UQ)(t,"scim/2.0"):"",encryptionServiceSync:null!=(a=l?.configProperties?.scimEnabled)&&a};var M,I;const A=()=>{E(!1)};return(0,y.tZ)(Aa.J9,{onSubmit:async(e,t)=>{e.encryptionServiceSync?E(!0):await T({values:e,resetForm:t.resetForm})},enableReinitialize:!0,initialValues:D},(({values:e,setFieldValue:t,isSubmitting:a,dirty:n,resetForm:s})=>{var o,c;return(0,y.tZ)(Aa.l0,{autoComplete:"off",noValidate:!0},(0,y.tZ)(wp.X,{dirty:n&&!x&&!b}),(0,y.tZ)(d.Zbd,null,(0,y.tZ)(d.Ol2,null,i("team_settings_directory_sync_scim_header")),(0,y.tZ)(d.aYP,null,(0,y.tZ)(y.ke,{mood:"brand",title:i("team_settings_directory_sync_scim_infobox")}),(0,y.tZ)(d.T5p,{gridTemplateAreas:"'header button' 'desc button' 'inputField inputField'",gap:"8px",sx:{mt:"32px"}},(0,y.tZ)(d.dDn,{gridArea:"header",as:y.nv,innerAs:"label",htmlFor:"scimTokenInput",textStyle:"ds.title.block.medium"},i("team_settings_directory_sync_scim_set_up_token_label")),(0,y.tZ)(d.dDn,{as:y.zx,gridArea:"button",type:"button",alignSelf:"right",intensity:"quiet",mood:"brand",disabled:Z||a,onClick:()=>(e=>{v(!0),e("scimToken",(0,Db.Z)())})(t),sx:{height:"fit-content",width:"100%"}},e.scimToken?i("team_settings_directory_sync_scim_set_up_reset_buttons"):i("team_settings_directory_sync_scim_set_up_generate_buttons")),(0,y.tZ)(d.dDn,{gridArea:"desc",as:y.nv,size:"medium",sx:{marginBottom:"24px"},color:"ds.text.neutral.quiet"},i("team_settings_directory_sync_scim_set_up_token_description")),(0,y.tZ)(d.dDn,{gridArea:"inputField"},(0,y.tZ)(Aa.gN,{name:"scimToken"},(({field:t})=>t.value?(0,y.tZ)(Al.x,{inputValue:t.value,iconButtonProps:{disabled:Boolean(e.scimToken)&&!f||a},passwordInputProps:{disabled:Boolean(e.scimToken)&&!f||a,fullWidth:!0,readOnly:!0,...t,id:"scimTokenInput"}}):null)))),(0,y.tZ)(d.T5p,{gridTemplateColumns:"auto",gap:"8px"},(0,y.tZ)(d.dDn,{as:y.nv,innerAs:"label",htmlFor:"endpointInput",sx:{marginTop:"32px"},textStyle:"ds.title.block.medium"},i("team_settings_directory_sync_scim_set_up_endpoint_label")),(0,y.tZ)(Aa.gN,{name:"scimEndpoint"},(({field:e})=>(0,y.tZ)(Al.x,{inputValue:e.value,textInputProps:{fullWidth:!0,readOnly:!0,...e,id:"endpointInput"}})))),Zb||(Zb=(0,y.tZ)("hr",null)),(0,y.tZ)(d.T5p,{gridTemplateAreas:"'label toggle' 'desc .'",gap:"8px"},(0,y.tZ)(d.dDn,{gridArea:"label",as:y.nv,innerAs:"label",htmlFor:"encryptionServiceSync",textStyle:"ds.title.block.medium"},i("team_settings_directory_sync_scim_set_up_service_label")),(0,y.tZ)(d.dDn,{gridArea:"desc",as:y.nv,color:"ds.text.neutral.quiet"},i("team_settings_directory_sync_scim_set_up_service_description")),(0,y.tZ)(d.dDn,{gridArea:"toggle"},r?Nb||(Nb=(0,y.tZ)(y.ZX,{mood:"brand"})):(0,y.tZ)(y.ZD,{disabled:Z||a,id:"encryptionServiceSync",onChange:e=>((e,t)=>{t("encryptionServiceSync",e.currentTarget.checked)})(e,t),defaultChecked:null!=(o=l?.configProperties?.scimEnabled)&&o})))),(0,y.tZ)(d.eWM,null,m?(0,y.tZ)(y.nv,{sx:{width:"40%",ml:0,mr:"auto"},textStyle:"ds.title.supporting.small"},i(null!=(c=Mb?.[m])?c:Mb.GENERIC_ERROR)):null,b?(0,y.tZ)(d.Ejs,{sx:{flexGrow:1,justifyContent:"center"}},Tb||(Tb=(0,y.tZ)(Rp,{context:"SCIM"}))):null,(0,y.tZ)(y.zx,{mood:"neutral",intensity:"quiet",size:"large",type:"button",onClick:N},i("team_settings_directory_sync_scim_set_up_button_cancel")),(0,y.tZ)(y.zx,{type:"submit",disabled:Z||a||!n},i("team_settings_directory_sync_scim_set_up_button_save_changes")))),C?(0,y.tZ)(ap,{title:i("team_settings_directory_sync_scim_confirm_dialog_title"),body:i("team_settings_directory_sync_scim_confirm_dialog_body"),primaryActionLabel:i("team_settings_directory_sync_scim_confirm_dialog_primary_action_label"),onCancel:A,onConfirm:()=>(async({values:e,resetForm:t})=>{await T({values:e,resetForm:t}),E(!1)})({values:e,resetForm:s})}):null)}))};var Ab;const wb=e=>{const{translate:t}=(0,p.Z)(),a=(0,P.w)(R.w.OnboardingWebTeamsignuppage),{getInviteLinkDataForAdmin:i}=(0,Lc.h)(),[s,o]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1);return(0,y.tZ)(d.Ejs,{gap:"6",...e},a?(0,y.tZ)(mu,{showSharingDialog:s,setShowSharingDialog:o}):null,a&&r?(0,y.tZ)(uu,{showActivationDialog:r,setShowActivationDialog:l,setShowSharingDialog:o}):null,(0,y.tZ)(ll,{linkProps:{linkType:rl.ExternalLink,linkHref:"https://support.dashlane.com/hc/articles/4404301553938?utm_source=extension"},heading:t("team_settings_encryption_service_scim_setup_guide_heading"),description:t("team_settings_encryption_service_scim_setup_guide_description"),linkText:t("team_settings_encryption_service_scim_setup_guide_link_text")}),a&&e.isScimEnabled?(0,y.tZ)(ll,{linkProps:{linkType:rl.ExternalLink},heading:t("team_settings_encryption_service_scim_invite_link_heading"),description:(0,y.tZ)("div",null,(0,y.tZ)(y.nv,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",sx:{mb:"8px"}},t("team_settings_encryption_service_scim_invite_link_description_first")),(0,y.tZ)(d.k$b,{as:y.nv,innerAs:"a",color:"ds.text.brand.standard",onClick:async e=>{e.preventDefault();const t=await i();t?.disabled||!t?.teamKey?l(!0):o(!0)},gap:"4px",href:"_blank"},(0,y.tZ)("span",null,t("team_settings_encryption_service_scim_invite_link_copy")),Ab||(Ab=(0,y.tZ)(y.JO,{name:"ActionCopyOutlined",size:"medium",color:"ds.text.brand.standard"}))))}):null)};var kb,Ob;const Lb="/encryption-service-settings",zb="/scim-settings",jb=({isScimEnabled:e,isScimCapable:t,teamSettings:a,updateTeamSettings:i,disableForm:r=!1,adSyncEnabled:l,ssoConnectorSetup:c})=>{const[u,_]=(0,n.useState)(!1),m=()=>_(!0),{translate:g}=(0,p.Z)(),{path:b}=(0,s.$B)(),{esConfig:h,esConfigLoading:x,refreshEncryptionServiceConfig:S}=Ap(),f=(0,xe.o)(R.w.ItadminTacEncryptionserviceSSOmigrationReset),v=Boolean(f||!x&&c);(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacSettingsDirectorySyncScimProvisioning)}),[]);const C=Le({hasBillingAccess:!0});if(!C)return null;const{shouldShowBuyOrUpgradePaywall:E,planType:Z,isTrialOrGracePeriod:N}=C,T=E&&Z!==he.lD.Business;return(0,y.tZ)(Iu,{mainContent:d.T5p,mainProps:{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,y.tZ)(s.rs,null,(0,y.tZ)(s.AW,{exact:!0,path:b},T?(0,y.tZ)(fb,{isScimEnabled:e,isSCIMCapable:t,onSetupClear:()=>i({ssoServiceProviderUrl:null}),isTrialOrGracePeriod:N,showPaywall:!0}):(0,y.tZ)(n.Fragment,null,kb||(kb=(0,y.tZ)(Rp,null)),(0,y.tZ)(fb,{isScimEnabled:e,isSCIMCapable:t,onSetupClear:()=>i({ssoServiceProviderUrl:null})}),l?(0,y.tZ)(y.ke,{size:"medium",mood:"neutral",title:g("team_settings_encryption_service_scim_setup_ad_sync_warning_heading"),description:g("team_settings_encryption_service_scim_setup_ad_sync_warning_description")}):null,v?(0,y.tZ)(y.ke,{size:"medium",mood:"brand",title:g("team_settings_es_sso_migration_infobox_title"),description:(0,y.tZ)(y.nv,null,g("team_settings_es_sso_migration_infobox_body"))}):null,(0,y.tZ)(cg,{parentPath:b,loading:x||null===t,esConfig:h,disableSetupButton:!1===t||r}),(0,y.tZ)(Eb,{teamSettings:a,parentPath:b,loading:x||null===t,esConfig:h,isScimCapable:!0===t,disableSetupButton:r})),u?(0,y.tZ)(me,{onDismiss:()=>_(!1)}):null),(0,y.tZ)(s.AW,{path:`${b}${Lb}`},x?Ob||(Ob=(0,y.tZ)(y.ZX,{mood:"brand"})):(0,y.tZ)(ng,{migratingFromSSOConnector:v,onSave:()=>S(),teamSettings:a,updateTeamSettings:i,esConfig:h})),(0,y.tZ)(s.AW,{path:`${b}${zb}`},(0,y.tZ)(Ib,{config:h,esEndpoint:a?.ssoServiceProviderUrl})))},secondaryContent:T?()=>Gy(m):wb})},Rb=({title:e,description:t,isSupported:a,disabled:n=!1})=>{const{translate:i}=(0,p.Z)();return(0,y.tZ)(d.Ejs,{flexDirection:"row",gap:"8px",flexWrap:"nowrap",alignItems:"flex-start"},(0,y.tZ)("div",{sx:{padding:"10px",borderRadius:"12px",background:a?"ds.container.expressive.positive.quiet.disabled":"ds.container.expressive.danger.quiet.disabled"}},(0,y.tZ)(y.JO,{name:a?"FeedbackSuccessOutlined":"FeedbackFailOutlined",color:n?"ds.text.oddity.disabled":a?"ds.text.positive.quiet":"ds.text.danger.quiet"})),(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"4px"},(0,y.tZ)(y.nv,{textStyle:"ds.body.standard.regular",color:n?"ds.text.oddity.disabled":"ds.text.neutral.catchy"},i(e)),t?(0,y.tZ)(y.nv,{textStyle:"ds.body.helper.regular",color:n?"ds.text.oddity.disabled":"ds.text.neutral.quiet"},i(t)):null))},Pb=({title:e,redirectUrl:t,optionNumber:a,supportedFeatures:n,disabled:i=!1,selected:o=!1})=>{const{translate:r}=(0,p.Z)(),l=(0,s.k6)(),c=`${(0,s.$B)().path}/${t}`;return(0,y.tZ)(d.Zbd,{sx:{padding:"24px",borderColor:o?"ds.border.brand.quiet.idle":i?"ds.border.neutral.quiet.idle":"ds.border.neutral.standard.idle",width:"100%"}},(0,y.tZ)(d.T5p,{gridTemplateAreas:"'option badge' 'title title' 'body body' '. button'"},(0,y.tZ)(d.dDn,{gridArea:"option",sx:{marginBottom:"8px"}},(0,y.tZ)(y.nv,{color:i?"ds.text.oddity.disabled":"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular"},`${r("tac_settings_directory_sync_card_option")} ${a}`)),o?(0,y.tZ)(d.dDn,{gridArea:"badge",justifySelf:"right"},(0,y.tZ)(y.Ct,{mood:"positive",label:r("tac_settings_directory_sync_card_badge_enabled")})):null,(0,y.tZ)(d.dDn,{gridArea:"title"},(0,y.tZ)(y.X6,{as:"h3",textStyle:"ds.title.section.medium",color:i?"ds.text.oddity.disabled":"ds.text.neutral.catchy",sx:{marginBottom:"32px"}},r(e))),(0,y.tZ)(d.dDn,{gridArea:"body"},(0,y.tZ)(d.Ejs,{gap:"32px",flexDirection:"column",sx:{marginBottom:"32px"}},n.map((e=>(0,y.tZ)(Rb,{key:a+e.title,disabled:i,...e}))))),(0,y.tZ)(d.dDn,{gridArea:"button",justifySelf:"right"},(0,y.tZ)(y.zx,{onClick:()=>{l.push(c)},disabled:i},r(o?"tac_settings_directory_sync_card_button_edit":"tac_settings_directory_sync_card_button_setup")))))},Ub={title:"tac_settings_directory_sync_card_title_confidential_scim",redirectUrl:"confidential-scim",supportedFeatures:[{title:"tac_settings_directory_sync_card_cloud_based",description:"tac_settings_directory_sync_card_cloud_based_description",isSupported:!0},{title:"tac_settings_directory_sync_card_automatic_syncs",description:"tac_settings_directory_sync_card_automatic_syncs_description",isSupported:!1},{title:"tac_settings_directory_sync_card_user_provisioning",description:"tac_settings_directory_sync_card_user_provisioning_description",isSupported:!0},{title:"tac_settings_directory_sync_card_sharing_group",description:"tac_settings_directory_sync_card_sharing_group_description",isSupported:!0}]},Bb={title:"tac_settings_directory_sync_card_title_selfhosted_scim",redirectUrl:"scim-provisioning",supportedFeatures:[{title:"tac_settings_directory_sync_card_cloud_based",description:"tac_settings_directory_sync_card_cloud_based_description",isSupported:!0},{title:"tac_settings_directory_sync_card_automatic_syncs",description:"tac_settings_directory_sync_card_automatic_syncs_description",isSupported:!0},{title:"tac_settings_directory_sync_card_user_provisioning",description:"tac_settings_directory_sync_card_user_provisioning_description",isSupported:!0},{title:"tac_settings_directory_sync_card_sharing_group",description:"tac_settings_directory_sync_card_sharing_group_description",isSupported:!1}]},Gb={title:"tac_settings_directory_sync_card_title_ad_sync",redirectUrl:"active-directory",supportedFeatures:[{title:"tac_settings_directory_sync_card_cloud_based",description:"tac_settings_directory_sync_card_cloud_based_description",isSupported:!0},{title:"tac_settings_directory_sync_card_automatic_syncs",description:"tac_settings_directory_sync_card_automatic_syncs_description",isSupported:!0},{title:"tac_settings_directory_sync_card_user_provisioning",description:"tac_settings_directory_sync_card_user_provisioning_description",isSupported:!1},{title:"tac_settings_directory_sync_card_sharing_group",description:"tac_settings_directory_sync_card_sharing_group_description",isSupported:!1}]},Fb=({ssoState:e,isAdSyncEnabled:t,isSelfhostedScimEnabled:a,isNitroSCIMEnabled:n,isLoading:i=!1})=>{const{translate:s}=(0,p.Z)(),o=(e=>"NitroComplete"===e||"NitroIncomplete"===e)(e),r=(e=>"SelfHostedComplete"===e||"SelfHostedIncomplete"===e)(e);return i?(0,y.tZ)(d.T5p,{justifyItems:"center"},(0,y.tZ)(y.ZX,{size:75,sx:{marginTop:"20vh"}})):(0,y.tZ)("div",{sx:{margin:"32px"}},(0,y.tZ)(y.X6,{as:"h1",textStyle:"ds.title.section.large",sx:{marginBottom:"16px"}},s("tac_settings_directory_sync_header")),(0,y.tZ)(y.nv,{sx:{marginBottom:"8px"}},s("tac_settings_directory_sync_header_helper")),(0,y.tZ)(ol,{sx:{marginBottom:"32px"},href:"https://support.dashlane.com/hc/articles/4404301553938?utm_source=extension"},s("tac_settings_directory_sync_header_link")),(0,y.tZ)(d.T5p,{fullWidth:!0,gridTemplateColumns:"repeat(3, 1fr)",gap:"24px"},(0,y.tZ)(Pb,{optionNumber:1,...Ub,selected:n,disabled:r||t||a}),(0,y.tZ)(Pb,{optionNumber:2,...Bb,selected:a,disabled:o||n||n}),(0,y.tZ)(Pb,{optionNumber:3,...Gb,selected:t,disabled:n||o||n})))},Vb=({onGenerateToken:e,edit:t})=>{const{translate:a}=(0,p.Z)();return(0,y.tZ)(n.Fragment,null,(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"}},a("tac_settings_confidential_scim_generate_token_header")),(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",sx:{marginBottom:"24px"}},a("tac_settings_confidential_scim_generate_token_header_helper")),(0,y.tZ)(y.zx,{intensity:t?"quiet":"catchy",mood:"brand",onClick:e},a(t?"tac_settings_confidential_scim_regenerate_token_button":"tac_settings_confidential_scim_generate_token_button")))},$b=({scimApiToken:e,scimEndpoint:t})=>{const{translate:a}=(0,p.Z)(),[i,s]=(0,n.useState)(!1),o=async e=>{e&&await navigator.clipboard.writeText(e)};return(0,y.tZ)(n.Fragment,null,(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"}},a("tac_settings_confidential_scim_copy_token_header")),(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet",sx:{marginBottom:"24px"}},a("tac_settings_confidential_scim_copy_token_header_helper")),(0,y.tZ)(y.qo,{label:a("tac_settings_confidential_scim_copy_token_field_token_label"),type:i?"text":"password",value:e,disabled:!e,readOnly:!0,sx:{marginBottom:"16px"},actions:[{iconName:"ActionRevealOutlined",key:"copy",label:"",onClick:()=>s(!i)},{iconName:"ActionCopyOutlined",key:"view",label:"",onClick:()=>o(e)}]}),(0,y.tZ)(y.qo,{readOnly:!0,value:t,label:a("tac_settings_confidential_scim_copy_token_field_endpoint_label"),actions:[{iconName:"ActionCopyOutlined",key:"copy",label:"",onClick:()=>o(t)}]}))},qb=({active:e,onActivate:t})=>{const{translate:a}=(0,p.Z)();return(0,y.tZ)(d.T5p,{gridTemplateAreas:"'title title' 'description button'"},(0,y.tZ)(d.dDn,{gridArea:"title",as:y.X6,innerAs:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"}},a("tac_settings_confidential_scim_activate_header")),(0,y.tZ)(d.dDn,{gridArea:"description",as:y.nv,color:"ds.text.neutral.quiet"},a("tac_settings_confidential_scim_activate_header_helper")),(0,y.tZ)(d.dDn,{justifySelf:"end",gridArea:"button",as:y.ZD,onChange:t,checked:e}))};var Wb,Hb,Kb,Qb,Yb;const Xb=()=>{const{translate:e}=(0,p.Z)(),t=(0,ze.k6)();return(0,y.tZ)(d.Ejs,{gap:"32px",flexDirection:"column",as:d.Zbd,sx:{padding:"32px"}},Wb||(Wb=(0,y.tZ)(d.k$b,null,(0,y.tZ)(Vb,null))),Hb||(Hb=(0,y.tZ)(d.k$b,null,(0,y.tZ)($b,{scimEndpoint:"API ENDPOINT",scimApiToken:"API TOKEN"}))),Kb||(Kb=(0,y.tZ)(d.k$b,{as:Vb})),Qb||(Qb=(0,y.tZ)(d.k$b,{as:$b,scimApiToken:"API TOKEN",scimEndpoint:"ENDPOINT"})),Yb||(Yb=(0,y.tZ)(d.k$b,{as:qb})),(0,y.tZ)(d.k$b,{alignSelf:"end"},(0,y.tZ)(y.zx,{intensity:"quiet",mood:"neutral",sx:{marginRight:"16px"},onClick:()=>{t.push(".")}},e("tac_settings_confidential_scim_button_cancel")),(0,y.tZ)(y.zx,{disabled:!0,intensity:"catchy",mood:"brand"},e("tac_settings_confidential_scim_button_save"))))},Jb=()=>{const{translate:e}=(0,p.Z)(),t=(0,ze.k6)();return(0,y.tZ)("div",{sx:{padding:"24px 32px"}},(0,y.tZ)(d.Ejs,{flexDirection:"row",gap:"8px",sx:{marginBottom:"16px"}},(0,y.tZ)(y.zx,{layout:"iconOnly",icon:"CaretLeftOutlined",intensity:"supershy",mood:"neutral",onClick:()=>{t.push(".")}}),(0,y.tZ)(y.X6,{as:"h1",textStyle:"ds.title.section.large"},e("tac_settings_confidential_scim_header"))),(0,y.tZ)(y.nv,{sx:{marginBottom:"32px"}},e("tac_settings_confidential_scim_header_helper")),(0,y.tZ)(Iu,{sx:{padding:0},fullWidth:!0,withDefaultBackground:!0,mainContent:Xb,secondaryContent:ll,secondaryProps:{heading:e("tac_settings_confidential_scim_help_card_header"),description:e("tac_settings_confidential_scim_help_card_description"),linkProps:{linkType:rl.ExternalLink,linkHref:"_blank"},linkText:e("tac_settings_confidential_scim_help_card_link")}}))},eh="/scim-provisioning",th="/active-directory",ah="/saml",nh=lo((e=>{const t=(0,xe.o)(R.w.OnboardingWebDisablepersonalspaceDevV2),a=Le(e.lee.permission.adminAccess);return a&&"boolean"==typeof t?n.createElement(cm,{lee:e.lee.child(Q_.ZP),createFieldListFunction:(e,n)=>bm(e,n,a,!t),title:"team_settings_menu_title_policies",pageView:o.PageView.TacSettingsPolicies}):null}),De.POLICIES),ih=lo((()=>{var e,t;const a=(0,xe.o)("setup_rollout_confidential_scim_dev"),{path:i}=(0,s.$B)(),{translate:o}=(0,p.Z)(),{esConfig:r,esConfigLoading:l}=Ap(),{teamDeviceConfig:c}=Zg({draft:!1,deviceAccessKey:r?.deviceAccessKey}),{teamId:u}=(0,wo.fV)(),{teamSettings:_={},teamSettingsLoading:m,updateTeamSettings:g,teamCapabilities:b}=xc(u),h=(0,w.B)(),{initSsoProvisioning:x}=(0,wa.u)(Sm.y),{data:S,status:f}=(0,Yr.k)(Sm.y,"ssoProvisioning");(0,n.useEffect)((()=>{S?.global.inferredSsoState===xm.s5.enum.Unknown&&u&&x({teamId:`${u}`})}),[x,S?.global.inferredSsoState,u]);const v=!m&&_.activeDirectorySyncType,C=c?.configProperties.scimEnabled,E=null!=(e=b?.activeDirectorySync.enabled)?e:null,Z=S?.global.inferredSsoState===xm.s5.enum.NitroComplete,N=C&&!v||!E,T=S?.global.inferredSsoState===xm.s5.enum.NitroIncomplete||v&&!C,D=m||l||!h||f===Re.rq.Loading,M=[xm.s5.enum.SsoConnectorComplete,xm.s5.enum.SsoConnectorIncomplete],I=S?.global.inferredSsoState&&M.includes(S?.global.inferredSsoState),A=!I,k=(0,P.w)(R.w.ItadminTacJitprovisioning),O={isDisabled:Z,id:gs.TAB_SCIM,label:o("team_settings_tab_scim_provisioning"),url:`${i}${eh}`,subPaths:[Lb,zb]},L={id:gs.TAB_ACTIVE_DIRECTORY,label:o("team_settings_tab_active_directory"),url:`${i}${th}`},z={id:gs.TAB_AUTHENTICATION,label:o(A?"team_settings_tab_saml_legacy":"team_settings_tab_authentication"),url:`${i}${ah}`},j=[O,L,...k?[z]:[]],U=`${i}${C||A&&!v&&!Z?eh:th}`;return(0,y.tZ)(d.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"}},D?null:(0,y.tZ)(n.Fragment,null,(0,y.tZ)("div",{sx:{px:"48px",pt:"32px",pb:"4px"}},(0,y.tZ)(hs,{title:o("team_settings_tab_title_directory_sync"),tabs:j})),(0,y.tZ)(s.rs,null,a?(0,y.tZ)(n.Fragment,null,(0,y.tZ)(s.Vy,{exact:!0,path:i,component:Fb,permission:e=>e.adminAccess.hasFullAccess||e.adminAccess.hasBillingAccess,additionalProps:{ssoState:S?.global.inferredSsoState,isAdSyncEnabled:v,isSelfhostedScimEnabled:C,isNitroSCIMEnabled:!1,isLoading:D}}),(0,y.tZ)(s.Vy,{exact:!0,path:`${i}/confidential-scim`,component:Jb,permission:e=>e.adminAccess.hasFullAccess||e.adminAccess.hasBillingAccess})):(0,y.tZ)(s.l_,{exact:!0,from:`${i}/`,to:U}),(0,y.tZ)(s.Vy,{path:`${i}${eh}`,component:jb,additionalProps:{isScimEnabled:null!=C?C:null,isScimCapable:null!=(t=b?.scim.enabled)?t:null,teamSettings:_,updateTeamSettings:g,disableForm:T,adSyncEnabled:v,ssoConnectorSetup:I},permission:e=>e.adminAccess.hasFullAccess||e.adminAccess.hasBillingAccess}),(0,y.tZ)(s.Vy,{path:`${i}${th}`,component:cb,additionalProps:{isAdSyncCapable:E,teamSettingsLoading:m,teamSettings:_,updateTeamSettings:g,disableForm:N,isNitroSSOInUse:Z,adSyncEnabled:v,accountInfo:h},reducer:nb.ZP}),(0,y.tZ)(s.Vy,{path:`${i}${ah}`,component:_b,reducer:ib.Z}))))}),De.DIRECTORY_SYNC),sh=lo((e=>{const{translate:t}=(0,p.Z)(),{reportTACError:a}=V(),i=n.useRef(null),[s,o]=n.useState(!0),[r,l]=n.useState(!1),[c,d]=n.useState(!1),[u,_]=n.useState(!1),[m,g]=n.useState(!1),[y,b]=n.useState(!1),[h,x]=n.useState(!1),[S,f]=n.useState(!1),[v,C]=n.useState(null),[E,Z]=n.useState(!1),[N,T]=n.useState(null),D=e.lee.apiMiddleware.teamPlans?e.lee.apiMiddleware.teamPlans:(a(new Error("teamPlans service not set in apiMiddleware")),null),M=e.lee.apiMiddleware.strongAuth?e.lee.apiMiddleware.strongAuth:(a(new Error("strongAuth service not set in apiMiddleware")),null);return n.useEffect((()=>{(async()=>{try{const{teamInfo:{duo:t,duoIntegrationKey:a,duoSecretKey:n,duoApiHostname:i}}=await(0,ee.I)();e.lee.dispatch(O_.k0({duo:t,duoIntegrationKey:a,duoSecretKey:n,duoApiHostname:i})),o(!1)}catch(e){console.error(`DuoSettings: fetchData failed with error: ${e}`)}})()}),[]),n.createElement(j_,{title:t(G_)},n.createElement("p",{className:L_.settingsHeader},t(G_)),n.createElement(pl,{label:t("team_settings_duo_enable_label"),labelHelper:t("team_settings_duo_enable_helper")},n.createElement(R_.Z,{genericErrorMessage:t("_common_generic_error"),isDisabled:s||r,saveValueFunction:()=>{const t=!e.lee.state.hasDuo;return l(!0),e.lee.dispatch(O_.FC(t)),D?.setSettings({duo:t}).then((()=>l(!1))).catch((()=>{}))},value:Di.Maybe.maybe(e.lee.state.hasDuo)})),n.createElement("p",{className:L_.settingsHeader},t("team_settings_duo_header_setup")),n.createElement(pl,{label:t("team_settings_duo_integration_key_label"),labelHelper:t("team_settings_duo_integration_key_helper")},n.createElement(xd.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoIntegrationKey,isDisabled:c,onBlur:t=>{if(c)return;const a=t.target.value;e.lee.dispatch(O_.a2(a)),d(!0),_(!1),D&&D.setSettings({duoIntegrationKey:a}).then((()=>{d(!1)})).catch((()=>{}))},onFocus:()=>_(!0),placeholder:t("team_settings_duo_integration_key_hint")}),u||c?n.createElement("div",null,n.createElement(bd.Z,{label:t("team_settings_duo_integration_key_button"),loading:c})):null),n.createElement(pl,{label:t("team_settings_duo_secret_key_label"),labelHelper:t("team_settings_duo_secret_key_helper")},n.createElement(xd.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoSecretKey,isDisabled:m,onBlur:(t=>{if(m)return;const a=t.target.value;e.lee.dispatch(O_.E4(a)),g(!0),b(!1),D&&D.setSettings({duoSecretKey:a}).then((()=>{g(!1)})).catch((()=>{}))}).bind(void 0),onFocus:()=>b(!0),placeholder:t("team_settings_duo_secret_key_hint")}),y||m?n.createElement("div",null,n.createElement(bd.Z,{label:t("team_settings_duo_secret_key_button"),loading:m})):null),n.createElement(pl,{label:t("team_settings_duo_api_host_label"),labelHelper:t("team_settings_duo_api_host_helper")},n.createElement(xd.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoApiHostname,isDisabled:h,onBlur:(t=>{if(h)return;const a=t.target.value;e.lee.dispatch(O_.qf(a)),x(!0),f(!1),D&&D.setSettings({duoApiHostname:a}).then((()=>{x(!1)})).catch((()=>{}))}).bind(void 0),onFocus:()=>f(!0),placeholder:t("team_settings_duo_api_host_hint")}),S||h?n.createElement("div",null,n.createElement(bd.Z,{label:t("team_settings_duo_api_host_button"),loading:h})):null),n.createElement("p",{className:L_.settingsHeader},t("team_settings_duo_header_directory")),n.createElement(pl,{label:t("team_settings_duo_upload_csv_label"),labelHelper:n.createElement("ol",{className:B_.uploadCsvLabel},n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_one")),n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_two")),n.createElement("li",null,t("team_settings_duo_upload_csv_helper_step_three")))},n.createElement("div",{className:B_.fileContainer},n.createElement("div",{className:B_.file},n.createElement("span",{className:B_.fileIcon}),n.createElement("div",{className:B_.fileTitle},N?[n.createElement("div",{key:"header",className:B_.fileTitleHeader},N),n.createElement("div",{key:"progress",className:B_.fileProgressBackground},n.createElement("div",{className:E?B_.fileProgressComplete:B_.fileProgress})),n.createElement("p",{key:"hint",className:[B_.fileTitleHint,E&&v?B_.fileTitleHintError:B_.fileTitleHintSuccess].join(" ")},t(E?v?"team_settings_duo_upload_csv_feedback_error":"team_settings_duo_upload_csv_feedback_success":"team_settings_duo_upload_csv_feedback_progress"))]:[n.createElement("div",{key:"header",className:B_.fileTitleHeader},"duo_usernames.csv")])),n.createElement("div",{className:B_.fileButtons},n.createElement("input",{type:"file",id:"file",accept:"text/csv, text/plain, .csv",ref:i,style:{display:"none"},onChange:(()=>{var e;N&&T(null);const t=null!=(e=i.current?.files?.[0])?e:{name:""};T(t.name),M&&M.uploadDuoCsv(t).then((()=>{Z(!0),setTimeout((()=>T(null)),2e3)})).catch((e=>{C(e.code.toLowerCase()),Z(!0)}))}).bind(void 0)}),n.createElement(P_.Z,{label:t("team_settings_duo_upload_csv_button_upload"),onClick:(()=>{i.current?.click()}).bind(void 0)}),n.createElement(U_,{data:{login:e.lee.globalState.user.session.login,uki:e.lee.globalState.user.session.uki},label:t("team_settings_duo_upload_csv_button_download"),style:{marginLeft:"16px"},targetUri:"https://ws1.dashlane.com/3/strongauth/exportDuoUsernames"})),v?n.createElement("div",{className:B_.fileError},n.createElement("div",{className:B_.fileErrorTitle},n.createElement("span",{className:B_.fileErrorTitleIcon},"!"),t("team_settings_duo_upload_csv_error_title")),n.createElement("p",{className:B_.fileErrorContent},t(`team_settings_duo_upload_csv_error_${v}`))):null)))}),De.DUO),oh=lo((e=>{const[t,a]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),[l,u]=(0,n.useState)(!1),[_,m]=(0,n.useState)(!1),[g,b]=(0,n.useState)(""),[h,x]=(0,n.useState)(!1),{translate:S}=(0,p.Z)(),{reportTACError:f}=V(),{showToast:C}=(0,y.pm)();(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacSettingsAccountRecovery),(async()=>{if(a(!0),(0,tn.v0)(e.lee.globalState))try{const{teamInfo:{recoveryEnabled:t}}=await(0,ee.I)();e.lee.dispatch(V_.x({recoveryEnabled:t}));const a=await(async()=>{const t=(0,tn.v0)(e.lee.globalState);if(t&&t.teamId){const e=await(0,kn.mP)({teamId:t.teamId});return Boolean(e.length)}return f(new Error(Ya.N)),!1})();m(a)}catch(e){console.error(e)}finally{a(!1)}else f(new Error(Ya.N))})()}),[]);const E=async t=>{a(!0);const n=(0,v.ev)(e.lee.globalState);if(n)try{await(0,kn.jy)({teamId:n,settings:{recoveryEnabled:t}}),e.lee.dispatch(V_.Zn(t)),C({id:"toggleRecovery",description:S(t?"team_settings_master_password_policies_dialog_alert_label_available":"team_settings_master_password_policies_dialog_alert_label_unavailable"),action:{label:S("common_alert_undo_action"),onClick:()=>{E(!t)}}}),a(!1)}catch(e){a(!1)}else f(new Error(Ya.N))},Z=async()=>{u((e=>!e))},N=async()=>{r(!0);const t=await(0,kn.RR)({masterPassword:g});r(!1),t?(await Promise.all([Z(),E(!e.lee.state.recoveryEnabled)]),b(""),x(!1)):x(!0)},T=_&&e.lee.state.recoveryEnabled;return(0,c.tZ)(j_,{title:S("team_settings_menu_title_account_recovery")},(0,c.tZ)("div",null,(0,c.tZ)("div",{sx:{position:"relative"}},(0,c.tZ)(d.nvN,{size:"large",as:"h3",sx:{fontWeight:600,marginBottom:"8px",color:"ds.text.neutral.catchy"}},S("team_settings_master_password_policies_settings_recover_label")),(0,c.tZ)(d.nvN,{sx:{fontSize:14,marginBottom:"40px",paddingRight:"80px"}},S("team_settings_master_password_policies_settings_recover_label_helper")),(0,c.tZ)(y.ZD,{sx:{position:"absolute",top:0,right:0},disabled:t||T,checked:e.lee.state.recoveryEnabled,onChange:Z})),(0,c.tZ)(d.nvN,{size:"large",as:"h3",sx:{fontWeight:600,marginBottom:"24px",color:"ds.text.neutral.catchy"}},S("team_settings_master_password_policies_settings_how_it_works_label")),W_||(W_=(0,c.tZ)(q_,null)),(0,c.tZ)(d.nvN,{sx:{fontSize:14,lineHeight:"20px",marginBottom:"4px",color:"ds.text.neutral.quiet"}},S("team_settings_master_password_policies_settings_how_it_works_label_helper")),(0,c.tZ)(d.rUS,{sx:{fontSize:14,fontWeight:500,lineHeight:"20px",display:"flex",alignItems:"center",gap:"4px",color:"ds.text.brand.standard"},href:i.WW},(0,c.tZ)(d.Ejs,{as:"span"},S("team_settings_master_password_policies_settings_how_it_works_label_helper_link_text")),H_||(H_=(0,c.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.brand.standard"})))),(0,c.tZ)(F_.Z,{isOpen:l,title:e.lee.state.recoveryEnabled?S("team_settings_master_password_policies_dialog_title_disable"):S("team_settings_master_password_policies_dialog_title_enable"),labelDismiss:S("team_settings_master_password_policies_dialog_cta_cancel_label"),labelConfirm:e.lee.state.recoveryEnabled?S("team_settings_master_password_policies_dialog_cta_confirm_label_disable"):S("team_settings_master_password_policies_dialog_cta_confirm_label_enable"),onDismiss:()=>{b(""),x(!1),u(!1)},onConfirm:()=>N(),ctaIsDisabled:s||!g,onChange:e=>{b(e.target.value),x(!1)},isMasterPasswordInvalid:h,onKeyDown:e=>{(async e=>{13===e.keyCode&&g&&await N()})(e)}},e.lee.state.recoveryEnabled&&(0,c.tZ)("div",null,(0,c.tZ)("p",{className:L_.confirmationContent},S.markup("team_settings_master_password_policies_confirmation_dialog_disable_label_markup")),(0,c.tZ)("p",{className:L_.confirmationContent},S("team_settings_master_password_policies_confirmation_dialog_disable_sublabel"))),!e.lee.state.recoveryEnabled&&(0,c.tZ)("div",null,(0,c.tZ)("p",{className:L_.confirmationContent},S.markup("team_settings_master_password_policies_confirmation_dialog_enable_label_markup",{},{linkTarget:"_blank"})),(0,c.tZ)("p",{className:L_.confirmationContent},S("team_settings_master_password_policies_confirmation_dialog_enable_sublabel")))))}),De.ACCOUNT_RECOVERY),rh=lo((({lee:e})=>{var t;const a=(0,s.$B)(),{teamId:i}=(0,wo.fV)(),[o,r]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),{initSsoProvisioning:u}=(0,wa.u)(Sm.y),{esConfig:_,esConfigLoading:m}=Ap(),{teamDeviceConfig:p,teamDeviceConfigLoading:g}=Zg({draft:!1,deviceAccessKey:_?.deviceAccessKey}),{shouldShowBuyOrUpgradePaywall:y,isTrialOrGracePeriod:b,planType:h}=null!=(t=Le(e.permission.adminAccess))?t:{},x=y&&(h===he.lD.Starter||h===he.lD.Team),S=(0,n.useCallback)((async e=>{if(e)try{const t=await u({teamId:`${e}`});(0,fm.hx)(t)&&d(!0)}catch{d(!0)}finally{r(!0)}}),[u]);(0,n.useEffect)((()=>{S(i)}),[S,i]);const f=(0,Yr.k)(Sm.y,"ssoProvisioning");if(l||f.status===Re.rq.Error)return Yy||(Yy=(0,c.tZ)(ab,null));if(!o||m||g||f.status===Re.rq.Loading)return Xy||(Xy=(0,c.tZ)(tb,null));const{inferredSsoState:v}=f.data.global,C=((e,t,a,n)=>{const i=`${e}${eb.SELF_HOSTED_SSO}`,s=`${e}${eb.CONFIDENTIAL_SSO}`,o=`${e}${eb.SSO_CONNECTOR}`,r=`${e}${eb.UPGRADE_PAYWALL}`;return a?i:n?r:{[xm.s5.enum.NitroComplete]:s,[xm.s5.enum.NitroIncomplete]:null,[xm.s5.enum.SelfHostedComplete]:i,[xm.s5.enum.SelfHostedIncomplete]:null,[xm.s5.enum.SsoConnectorComplete]:o,[xm.s5.enum.SsoConnectorIncomplete]:null,[xm.s5.enum.SsoConnectorToSelfHostedMigration]:i,[xm.s5.enum.None]:null,[xm.s5.enum.Unknown]:null}[t]})(a.path,v,p?.configProperties.scimEnabled,x);return(0,c.tZ)(s.rs,null,(0,c.tZ)(s.AW,{path:`${a.path}${eb.SELF_HOSTED_SSO}`},(0,c.tZ)(ny,{backRoute:a.url})),(0,c.tZ)(s.AW,{path:`${a.path}${eb.CONFIDENTIAL_SSO}`},(0,c.tZ)(Mp,{backRoute:a.url})),(0,c.tZ)(s.AW,{path:`${a.path}${eb.UPGRADE_PAYWALL}`},(0,c.tZ)(Ky,{isTrialOrGracePeriod:null!=b&&b})),(0,c.tZ)(s.AW,{path:`${a.path}${eb.SSO_CONNECTOR}`},(0,c.tZ)(Zy,{lee:e})),(0,c.tZ)(s.AW,{exact:!0,path:a.path},C?(0,c.tZ)(s.l_,{to:C}):Jy||(Jy=(0,c.tZ)(By,null))))}),De.SSO);function lh({path:e}){return n.createElement(s.GB,{path:e,permission:e=>e.adminAccess.hasFullAccess},n.createElement(s.rs,null,n.createElement(s.l_,{exact:!0,from:e,to:`${e}${i.B9.POLICIES}`}),n.createElement(s.Vy,{path:`${e}${i.B9.POLICIES}`,component:nh,reducer:hm.Z}),n.createElement(s.Vy,{path:`${e}${i.B9.DIRECTORY_SYNC}`,component:ih}),n.createElement(s.Vy,{path:`${e}${i.B9.DUO}`,component:sh,reducer:O_.ZP}),n.createElement(s.Vy,{path:`${e}${i.B9.MASTER_PASSWORD_POLICIES}`,component:oh,reducer:V_.ZP}),n.createElement(s.Vy,{path:`${e}${i.B9.SSO}`,component:rh})))}var ch,dh,uh,_h,mh,ph,gh,yh=a(1294),bh=a(57904),hh=a(459199),xh=a(743265),Sh=a(771906),fh=a(195764),vh=a(27302);const Ch=({title:e,content:t,ctaText:a,ctaAction:n,buttonIcon:i})=>(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:4},(0,y.tZ)(y.X6,{as:"h1"},e),(0,y.tZ)(y.nv,null,t),(0,y.tZ)(y.zx,{onClick:n,sx:{marginTop:"16px"},size:"small",mood:"neutral",intensity:"quiet",layout:i?"iconTrailing":"labelOnly",icon:i},a)),Eh=({setContactSupportDialogIsOpen:e})=>{const{translate:t}=(0,p.Z)(),a=(0,s.Xo)(),i=(0,s.k6)(),o=[(0,y.tZ)(Ch,{key:"accessGuides",title:t("team_get_started_help_access_guide_title"),content:t("team_get_started_help_access_guide_content"),ctaText:t("team_get_started_help_access_guide_cta"),ctaAction:()=>{(0,O.Yo)(ie.EL)},buttonIcon:ch||(ch=(0,y.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined"}))}),(0,y.tZ)(Ch,{key:"customize",title:t("team_get_started_help_customize_title"),content:t("team_get_started_help_customize_content"),ctaText:t("team_get_started_help_customize_cta"),ctaAction:()=>{i.push(a.routes.teamSettingsRoutePath)}}),(0,y.tZ)(Ch,{key:"activity",title:t("team_get_started_help_activity_title"),content:t("team_get_started_help_activity_content"),ctaText:t("team_get_started_help_activity_cta"),ctaAction:()=>{i.push(a.routes.teamActivityRoutePath)}}),(0,y.tZ)(Ch,{key:"deploy",title:t("team_get_started_help_deploy_title"),content:t("team_get_started_help_deploy_content"),ctaText:t("team_get_started_help_deploy_cta"),ctaAction:()=>{(0,O.Yo)("https://support.dashlane.com/hc/articles/360012482199-Dashlane-deployment-guide-for-admins#invite_members")},buttonIcon:dh||(dh=(0,y.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined"}))}),(0,y.tZ)(d.Ejs,{key:"moreHelp",flexDirection:"column",gap:4,justifyContent:"start"},(0,y.tZ)(y.X6,{as:"h1"},t("team_get_started_help_more_title")),(0,y.tZ)(y.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:uh||(uh=(0,y.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>(0,O.Yo)(ie.EL)},t("team_get_started_help_visit_help_center")),(0,y.tZ)(y.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:_h||(_h=(0,y.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>(0,O.Yo)(ie.VH)},t("team_get_started_help_visit_help_resources")),(0,y.tZ)(y.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:mh||(mh=(0,y.tZ)(y.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>e(!0)},t("team_get_started_help_visit_help_contact_support")))],[r,l]=(0,n.useState)(0),c=o.length;return(0,y.tZ)(d.Zbd,{sx:{padding:"32px",backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle",maxWidth:"480px",minWidth:"320px"}},(0,y.tZ)(d.Ejs,{alignItems:"center",sx:{marginBottom:"16px"},flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between"},(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet"},r+1,"/",c),(0,y.tZ)(d.Ejs,{gap:4},(0,y.tZ)(y.zx,{"aria-label":t("_common_action_back"),onClick:()=>{l((e=>e-1<0?c-1:(e-1)%c))},mood:"neutral",intensity:"supershy",icon:ph||(ph=(0,y.tZ)(y.JO,{name:"CaretLeftOutlined"})),layout:"iconOnly"}),(0,y.tZ)(y.zx,{"aria-label":t("_common_action_continue"),onClick:()=>{l((e=>(e+1)%c))},mood:"neutral",intensity:"supershy",icon:gh||(gh=(0,y.tZ)(y.JO,{name:"CaretRightOutlined"})),layout:"iconOnly"}))),o[r])};var Zh=a(257565);const Nh=({isOpen:e,setIsOpen:t})=>{const{translate:a}=(0,p.Z)(),n=(0,s.k6)(),{setAsInteracted:i}=(0,Ie.d)(Zh.O.TacGetStartedDismissPage),r=(0,s.Xo)();return(0,y.tZ)(U.o,{title:a("team_get_started_close_page_title"),isOpen:e,onRequestClose:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Cancel,o.CallToAction.Confirm],hasChosenNoAction:!0})),t(!1)},footer:(0,y.tZ)(d.cNS,null,(0,y.tZ)(y.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Cancel,o.CallToAction.Confirm],chosenAction:o.CallToAction.Cancel,hasChosenNoAction:!1})),t(!1)}},a("_common_action_cancel")),(0,y.tZ)(y.zx,{mood:"danger",intensity:"catchy",onClick:()=>{(0,z.Kz)(new o.UserCallToActionEvent({callToActionList:[o.CallToAction.Cancel,o.CallToAction.Confirm],chosenAction:o.CallToAction.Confirm,hasChosenNoAction:!1})),i(),n.push(r.routes.teamDashboardRoutePath)}},a("team_get_started_close_page_cta")))},a("team_get_started_close_page_content"))},Th=({allTasksCompleted:e})=>{var t;const{translate:a}=(0,p.Z)(),{teamInfo:n}=(0,_.G)(),i=null!=(t=n?.teamInfo?.name)?t:"";return(0,y.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,y.tZ)(y.nv,{textStyle:"ds.specialty.brand.small",sx:{fontWeight:"700"}},a(e?"team_get_started_title_tasks_completed":"team_get_started_welcome_title")),(0,y.tZ)(y.nv,{color:"ds.text.neutral.quiet"},e?null:a("team_get_started_welcome_subtitle",{team:i})))},Dh=a.p+"b86402fcddc7bfe6ab1b.png";var Mh;const Ih=a.p+"f2c931634a3b982f7f78.png";var Ah;var wh;var kh;var Oh;var Lh,zh=a(177960);const jh={[Sh.G.CREATE_ACCOUNT]:({isUpNext:e})=>n.createElement(Ud,{isUpNext:e,upNextImage:Ah||(Ah=n.createElement("img",{alt:"",src:Ih})),isCompleted:!0,title:"team_get_started_create_account_title",content:"team_get_started_create_account_content",helpDocLink:"",ctaOnClick:()=>{},ctaText:"team_get_started_visit_vault_cta"}),[Sh.G.VISIT_VAULT]:({isCompleted:e,isUpNext:t})=>{const{setIsVaultNavigationModalOpen:a,setOnBeforeNavigateCallback:i}=(0,n.useContext)(ye),{markVaultAsVisited:s}=(0,fh.V)();return n.createElement(Ud,{isUpNext:t,upNextImage:Lh||(Lh=n.createElement("img",{alt:"",src:Bd})),isCompleted:e,title:"team_get_started_visit_vault_title",content:"team_get_started_visit_vault_content",helpDocLink:"https://support.dashlane.com/hc/en-us/articles/115004367629",ctaOnClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.OpenVault})),(0,O.nL)(ie.F1),s(),(0,zh.c)(zh.O.VisitVault)},ctaText:"team_get_started_visit_vault_cta",infoBoxText:"team_get_started_visit_vault_infobox"})},[Sh.G.INVITE_MEMBERS]:({isCompleted:e,isUpNext:t})=>{const a=(0,s.Xo)(),i=(0,s.k6)();return n.createElement(Ud,{isUpNext:t,upNextImage:kh||(kh=n.createElement("img",{alt:"",src:Bd})),isCompleted:e,title:"team_get_started_invite_title",content:"team_get_started_invite_content",helpDocLink:"https://support.dashlane.com/hc/en-us/articles/208864325",ctaOnClick:()=>{Gd(),i.push({pathname:a.routes.teamMembersRoutePath,state:{openSendInvitesDialog:!0}})},ctaText:"team_get_started_invite_cta",infoBoxText:"team_get_started_invite_member_infobox"})},[Sh.G.ASSIGN_ADMIN]:({isCompleted:e,isUpNext:t,isCtaDisabled:a})=>{const i=(0,s.Xo)(),o=(0,s.k6)();return n.createElement(Ud,{isUpNext:t,upNextImage:Fd||(Fd=n.createElement("img",{alt:"",src:Bd})),isCompleted:e,isCtaDisabled:a,disabledCtaTooltipText:"team_get_started_assign_admin_disabled_tooltip",title:"team_get_started_assign_admin_title",content:"team_get_started_assign_admin_content",helpDocLink:"https://support.dashlane.com/hc/articles/208022229-Manage-Starter-Team-or-Business-plan-members#change-role",ctaOnClick:()=>{Gd(),o.push({pathname:i.routes.teamMembersRoutePath,state:{[Vd]:!0}})},ctaText:"team_get_started_assign_admin_cta",infoBoxText:"team_get_started_assign_admin_infobox"})},[Sh.G.CREATE_SHARING_GROUP]:({isCompleted:e,isUpNext:t,isCtaDisabled:a,isDisabled:i})=>{const r=(0,s.Xo)(),l=(0,s.k6)();return n.createElement(Ud,{isUpNext:t,upNextImage:wh||(wh=n.createElement("img",{alt:"",src:Bd})),isDisabled:i,disabledText:"team_get_started_sharing_turned_off",isCtaDisabled:a,disabledCtaTooltipText:"team_get_started_sharing_group_disabled_tooltip",isCompleted:e,title:"team_get_started_sharing_group_title",content:"team_get_started_sharing_group_content",helpDocLink:"https://support.dashlane.com/hc/articles/115003949765",ctaOnClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.OpenGroupsPage})),l.push(r.routes.teamGroupsRoutePath)},ctaText:"team_get_started_sharing_group_cta",infoBoxText:"team_get_started_sharing_group_infobox"})},[Sh.G.SHARE_ITEM]:({isCompleted:e,isUpNext:t,isCtaDisabled:a,isDisabled:i})=>{const r=(0,s.Xo)();return n.createElement(Ud,{isUpNext:t,upNextImage:Oh||(Oh=n.createElement("img",{alt:"",src:Ih})),isDisabled:i,disabledText:"team_get_started_sharing_turned_off",isCompleted:e,isCtaDisabled:a,disabledCtaTooltipText:"team_get_started_sharing_disabled_tooltip",title:"team_get_started_sharing_items_title",content:"team_get_started_sharing_items_content",helpDocLink:"https://support.dashlane.com/hc/en-us/articles/202699021",ctaOnClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.OpenSharingCenter})),(0,O.nL)(`${ie.F1}#${r.routes.userSharingCenter}`)},ctaText:"team_get_started_sharing_items_cta",infoBoxText:"team_get_started_sharing_items_infobox"})},[Sh.G.CHECK_PASSWORD_HEALTH]:({isCompleted:e,isUpNext:t,isCtaDisabled:a})=>{const i=(0,s.Xo)(),r=(0,s.k6)();return n.createElement(Ud,{isUpNext:t,upNextImage:Mh||(Mh=n.createElement("img",{alt:"",src:Dh})),isCompleted:e,isCtaDisabled:a,title:"team_get_started_password_health_title",content:"team_get_started_password_health_content",helpDocLink:"https://support.dashlane.com/hc/en-us/articles/360016225300",ctaOnClick:()=>{(0,z.Kz)(new o.UserClickEvent({button:o.Button.OpenDashboard})),r.push(i.routes.teamDashboardRoutePath)},ctaText:"team_get_started_password_health_cta",disabledCtaTooltipText:"team_get_started_password_health_cta_disabled",infoBoxText:"team_get_started_password_health_infobox"})}},Rh=({tasks:e,completed:t,isUpNext:a})=>{const{translate:i}=(0,p.Z)();if(!e.length)return null;const s=a?null:(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginTop:"16px",marginBottom:"8px"}},i(t?"team_get_started_completed_tasks_title":"team_get_started_tasks_title"));return(0,y.tZ)(n.Fragment,null,s,e.map((e=>t===e.isCompleted?(({key:e,...t})=>{if(!jh[e])return null;const a=jh[e];return n.createElement(a,{key:e,...t})})({isUpNext:a,...e}):null)))},Ph=({upNextTask:e,toDoTasks:t,completedTasks:a})=>(0,y.tZ)(d.Ejs,{flexDirection:"column"},(0,y.tZ)(Rh,{completed:!1,tasks:e?[e]:[],isUpNext:!0}),(0,y.tZ)(Rh,{completed:!1,tasks:t,isUpNext:!1}),(0,y.tZ)(Rh,{completed:!0,tasks:a,isUpNext:!1})),Uh=({openDialog:e,allTasksCompleted:t})=>{const{translate:a}=(0,p.Z)();return n.createElement(d.Ejs,{sx:{display:"flex",marginTop:t?"0px":"40px",marginBottom:t?"16px":"80px",alignItems:"center",gap:"16px"}},n.createElement(y.nv,{color:"ds.text.neutral.quiet"},a("team_get_started_close_guide")),n.createElement(y.zx,{onClick:()=>{(0,z.Kz)(new o.UserCompleteTacOnboardingTaskEvent({onboardingTask:o.OnboardingTask.CloseGuide})),e(!0)},size:"small",mood:"neutral",intensity:"quiet"},a("team_get_started_close_guide_cta")))};var Bh;var Gh;const Fh="onboarding_web_tacgetstarted",Vh=({from:e})=>{const{isTeamCreator:t,status:a}=(0,nt.m)(),{interacted:i,status:o}=(0,Ie.d)(je.NotificationName.TacGetStartedDismissPage),r=(0,at.v)(),{[Fh]:l=!1}=r.status!==Re.rq.Success?{}:r.data,c=(0,n.useMemo)((()=>r.status!==Re.rq.Success||o!==Re.rq.Success||a!==Re.rq.Success?null:`${e}${l&&!i&&t?Me.$.GET_STARTED:Me.$.DASHBOARD}`),[r.status,e,l,i,o,t,a]);return c?(0,y.tZ)(s.l_,{to:c}):Gh||(Gh=(0,y.tZ)(qr,null))};function $h(e,t){return!t.adminAccess||t.adminAccess.hasPermissionLevel(e)}const qh=lo((()=>{var e,t,a;const{translate:i}=(0,p.Z)(),{teamOffers:y}=(0,m.a)({}),{teamInfo:b}=(0,_.G)(),x=(0,u.Y)(),f=x.status===r.rq.Success&&x.data?.planType===l.PlanType.Invoice,[v,C]=(0,n.useState)(0),[E,Z]=(0,n.useState)(),[N,T]=(0,n.useState)(""),[D,M]=(0,n.useState)(!0),[I,A]=(0,n.useState)(Ga.FORM),[w,k]=(0,n.useState)();(0,n.useEffect)((()=>{const e=(0,s.CN)().get("plan");y&&"business"===e&&Z(y.businessOffer)}),[y]);const{alert:O,show:L}=(0,d.VYq)({message:i("team_account_teamplan_changeplan_error_generic"),severity:d.BLW.ERROR,dismissDelay:4e4}),z=null!=(e=y?.businessOffer?.currency)?e:"",j=(null!=(t=b?.seats?.paid)?t:0)+(null!=(a=b?.seats?.extraFree)?a:0),{logChangePlanEvent:R}=Xt({selectedOffer:E,hasPromo:!1,currentSeats:j,additionalSeats:v,planChangeStep:o.PlanChangeStep.SelectPlanTier}),{setNavBarChildren:P}=(0,n.useContext)(Ct);(0,n.useEffect)((()=>(P(Va||(Va=(0,c.tZ)(Ka,null))),()=>{P(null)})),[]);const{loading:U,billingCountry:B}=S();return U?(0,c.tZ)(d.HoD,{color:d.colors.midGreen00}):(0,c.tZ)(d.Ejs,{sx:{margin:"45px",width:"1180px"}},(0,c.tZ)("div",{style:{bottom:"12px",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,width:"600px"}},O),(0,c.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},I===Ga.FORM?(0,c.tZ)(d.Ejs,{gap:"8px"},(0,c.tZ)(d.k$b,{sx:{width:"646px"}},(0,c.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,c.tZ)(Gt,{teamOffers:y,selectedOffer:E,handleSelection:e=>{R(e),Z(e)}}),f?$a||($a=(0,c.tZ)(Ia,null)):"US"!==B?(0,c.tZ)(n.Fragment,null,(0,c.tZ)(g.I,{b2b:!0,hideUpdateButton:!0,styles:{padding:"32px"}}),qa||(qa=(0,c.tZ)(Ua,{isInAccountSummary:!1})),(0,c.tZ)(ga,{email:N,emailValid:D,setEmail:T,setEmailValid:M})):(0,c.tZ)(n.Fragment,null,(0,c.tZ)(g.I,{b2b:!0,hideUpdateButton:!0,styles:{padding:"32px"}}),(0,c.tZ)(ga,{email:N,emailValid:D,setEmail:T,setEmailValid:M})))),(0,c.tZ)(d.k$b,{sx:{width:"470px"}},(0,c.tZ)(d.Ejs,{flexDirection:"column",gap:"8px"},(0,c.tZ)(Za,{teamOffers:y,currentSeats:j}),(0,c.tZ)(ua,{currentSeats:j,additionalSeats:v,currency:z,selectedOffer:E,email:N,emailValid:D,onSuccess:()=>{A((()=>Ga.SUCCESS))},onError:L,setAdditionalSeats:C,setOrderSummaryData:k}),Wa||(Wa=(0,c.tZ)(ya,null))))):null,I===Ga.SUCCESS&&w&&E?(0,c.tZ)(d.Ejs,{sx:{display:"flex",flexWrap:"nowrap",gap:"16px"}},(0,c.tZ)(d.Ejs,{sx:{display:"flex",flexGrow:"2",maxWidth:"632px",flexDirection:"column"}},(0,c.tZ)(Ca,{targetPlan:(0,Ot.sK)(E)?"business":"team"})),(0,c.tZ)(d.Ejs,{sx:{display:"flex",flexGrow:"1",gap:"16px",flexDirection:"column"}},(0,c.tZ)(Ma,{currency:z,selectedOffer:E,costData:w}),Ha||(Ha=(0,c.tZ)(h,null)))):null))}),Me.$.CHANGE_PLAN),Wh=lo((({lee:e})=>{const t=(0,w.B)(),a=(0,u.Y)(),i=(0,J.C)(),{reportTACError:s}=V(),r=(0,en.s)(),{search:l}=(0,ze.TH)(),[c,d]=(0,n.useState)(!1),[_,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[b,h]=(0,n.useState)(!1),[x,S]=(0,n.useState)(),[f,v]=(0,n.useState)(),C=(0,n.useCallback)((async()=>{const t=(0,tn.v0)(e.globalState);if(t)try{const a=await(new Ja.Z).status({auth:t,teamInformation:!0,autoRenewal:!0});e.dispatch(us.Ww({endDate:a.endDate,planName:a.planName}))}catch(e){const t=new Error((0,Xa.i)(e));s(t)}else s(new Error(Ya.N))}),[]);(0,n.useEffect)((()=>{C(),(0,z.Nc)(o.PageView.TacAccount)}),[C]);const E=e=>{"open"===e&&(g(!0),m(!1),h(!1)),"close"===e&&((0,z.Nc)(o.PageView.TacAccount),g(!1),h(!1))};if((0,n.useEffect)((()=>{l?.includes("showSeatsDialog")&&setTimeout((()=>{var e,t,a,n;(0,z.Kz)(new o.UserBuySeatEvent({flowStep:o.FlowStep.Start,hasPromo:!1,initialSeatCount:null!=(e=r?.seatsNumber)?e:0,priceAmountCents:null!=(t=r?.nextBillingDetails.amount)?t:0,priceCurrencyCode:o.PriceCurrencyCode[null!=(a=r?.nextBillingDetails.currency)?a:""],purchasedSeatCount:null!=(n=r?.seatsNumber)?n:0})),E("open")}),2e3)}),[]),!i||!r)return null;const{lastBillingDateUnix:Z,nextBillingDetails:N,spaceTier:T,seatsNumber:D,usersToBeRenewedCount:M}=r,{isFreeTrial:I}=i,{planName:A}=e.state,k=e=>{const a=T===he.lD.Team?"team":"business",n=`${ie.ub}?plan=${a}&subCode=${t?.subscriptionCode}`;(0,z.Kz)(new o.UserClickEvent({button:o.Button.BuyDashlane,clickOrigin:e})),(0,O.Yo)(n)},L=()=>{(0,z.Nc)(o.PageView.TacAccountCustomizeInvoice),d(!0)},j=!(a.status!==Re.rq.Success||!a.data)&&"invoice"===a.data.planType,R=()=>{j?m(!0):E("open")};return(0,y.tZ)("div",{sx:bn.ACCOUNT_PAGE},b?null:(0,y.tZ)(n.Fragment,null,(0,y.tZ)(xn,{lee:e,onRequestBuyMoreSeats:()=>{(0,z.Kz)(new o.UserBuySeatEvent({flowStep:o.FlowStep.Start,hasPromo:!1,initialSeatCount:D,priceAmountCents:N.amount,priceCurrencyCode:o.PriceCurrencyCode[N.currency],purchasedSeatCount:D})),R()},onRequestTeamUpgrade:k,seatsNumber:D}),_?(0,y.tZ)(Ti,{openUpgradeDialog:()=>E("open"),handleClose:()=>m(!1)}):null,(0,y.tZ)(mi,{lee:e,handleGetPastReceipts:L,onRequestTeamUpgrade:()=>{I?k(o.ClickOrigin.BillingInformation):R()},planName:A,usersToBeRenewedCount:M})),p?(0,y.tZ)(es,{key:Z,lee:e,nextBillingDetails:N,numberOfCurrentPaidSlots:D,numberOfCurrentUsedSlots:M,onUpgradeSuccess:(e,t)=>{S(e),v(t),g(!1),h(!0)},onRequestClose:()=>E("close"),planTier:T}):null,(0,y.tZ)(gi,{lee:e,onClose:()=>{(0,z.Nc)(o.PageView.TacAccount),d(!1)},isOpen:c}),b&&x&&f?(0,y.tZ)(ds,{planTier:T,lastAdditionalSeatsDetails:x,lastBillingDetails:f,onGetPastReceipts:L,onNavigateBack:()=>{h(!1),S(void 0),v(void 0),C()}}):null)}),Me.$.ACCOUNT),Hh=lo((()=>{const{translate:e}=(0,p.Z)(),[t,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1),{isLoading:l,tasks:c}=(()=>{const{hasSharedGroupWithMembers:e=!1,status:t}=(0,hh.A)(),{hasSharedAnItemWithAGroup:a=!1,status:n}=(0,xh.W)(),{hasVisitedVault:i}=(0,fh.V)(),{hasMinimumMemberCount:s,hasMoreThanOneAdmin:o,hasSecurityScore:l,hasOnlyOneMember:c,isSharingDisabled:d,status:u}=(0,vh.h)();return t===r.rq.Loading||n===r.rq.Loading||u===r.rq.Loading?{isLoading:!0,tasks:[]}:{isLoading:!1,tasks:[{key:Sh.G.CREATE_ACCOUNT,isCompleted:!0},{key:Sh.G.VISIT_VAULT,isCompleted:null!=i&&i},{key:Sh.G.INVITE_MEMBERS,isCompleted:s},{key:Sh.G.ASSIGN_ADMIN,isCompleted:o,isCtaDisabled:c},{key:Sh.G.CREATE_SHARING_GROUP,isCompleted:e,isCtaDisabled:c,isDisabled:d},{key:Sh.G.SHARE_ITEM,isCompleted:a,isCtaDisabled:!e,isDisabled:d},{key:Sh.G.CHECK_PASSWORD_HEALTH,isCtaDisabled:!l,isCompleted:l}]}})(),{isHasSeenGetStartedLoading:u,hasSeenGetStarted:_,markGetStartedAsSeen:m}=(()=>{const{data:e,status:t}=(0,Yr.k)(bh.h,"hasSeenGetStarted"),{markGetStartedAsSeen:a}=(0,wa.u)(bh.h);return{isHasSeenGetStartedLoading:t===Re.rq.Loading,hasSeenGetStarted:t===Re.rq.Success&&e,markGetStartedAsSeen:()=>{a(void 0)}}})();(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacOnboardingChecklist)}),[]),(0,n.useEffect)((()=>{_||u||m()}),[_,u]);const{upNextTask:g,toDoTasks:b,completedTasks:h}=(()=>{const e=c,t=c.findIndex((e=>!e.isCompleted));let a=null;return t>=0&&(a=e[t],e.splice(t,1)),{upNextTask:a,toDoTasks:e.filter((e=>!e.isCompleted)),completedTasks:e.filter((e=>e.isCompleted))}})(),x=0===b.length&&null===g;return(0,y.tZ)(d.Ejs,{sx:{paddingX:"80px",paddingY:"32px",maxWidth:"1900px"},gap:"8px",flexDirection:"column"},(0,y.tZ)(Th,{allTasksCompleted:x}),x?(0,y.tZ)(Uh,{allTasksCompleted:x,openDialog:a}):null,g?(0,y.tZ)(y.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginTop:"16px"}},e("team_get_started_up_next_task_title")):null,(0,y.tZ)(d.T5p,{fullWidth:!0,gap:"64px",gridTemplateColumns:"2fr 1fr",gridTemplateAreas:"'tasks helpTips'"},(0,y.tZ)(d.dDn,{gridArea:"tasks"},l?Bh||(Bh=(0,y.tZ)(qr,null)):(0,y.tZ)(n.Fragment,null,(0,y.tZ)(Ph,{upNextTask:g,completedTasks:h,toDoTasks:b}),x?null:(0,y.tZ)(Uh,{allTasksCompleted:x,openDialog:a}))),(0,y.tZ)(d.dDn,{gridArea:"helpTips",sx:{paddingTop:"8px"}},(0,y.tZ)(Eh,{setContactSupportDialogIsOpen:s}))),i?(0,y.tZ)(me,{onDismiss:()=>s(!1)}):null,(0,y.tZ)(Nh,{isOpen:t,setIsOpen:a}))}),Me.$.GET_STARTED),Kh=lo((({lee:e})=>{const{data:t,status:a}=(0,Yr.k)(Xr.B,"getReport"),i=a===Re.rq.Success?t:Jr,s=a===Re.rq.Loading,[r,l]=(0,n.useState)(zo),[u,_]=(0,n.useState)(el.PURCHASE),{reportTACError:m}=V(),{verifiedOrPendingDomain:{domain:g,status:y}}=zr(),[b,h]=(0,n.useState)(null),x=a===Re.rq.Success&&0===i.passwordHealthHistory.length,S=(0,n.useCallback)((async()=>{const t=(0,tn.v0)(e.globalState);if(t)try{const e=await(new nn.Z).status({auth:t});l(e.content.team.creationDateUnix)}catch(e){m(e)}else m(new Error(Ya.N))}),[]),f=(0,n.useCallback)((async()=>{const e=await Qt.C.getDarkWebInsightsSummary();h(e)}),[]);(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacDashboard),S(),f()}),[f,S]);const v=(0,un.C)({dismissible:!0}),{translate:C}=(0,p.Z)(),{planFeature:E,planCopy:Z,isTeamSoftDiscontinued:N,isTrial:T}=(0,Se.l)(),[D,M]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{N&&T&&M(!0)}),[N,T]),(0,Qr.DX)(),(0,c.tZ)("div",{className:"page--WS_Gm4wHdt"},(0,c.tZ)(d.T5p,{fullWidth:!0,alignItems:"top",gap:"32px",gridTemplateColumns:"auto auto auto auto",gridTemplateRows:"auto auto",gridTemplateAreas:`'cards cards cards cards' '${v?"pwHealth pwHealth pwHealth upgrade":"pwHealth pwHealth pwHealth dwi"}'`},(0,c.tZ)(d.dDn,{gridArea:"cards"},(0,c.tZ)($o,{passwordHealth:i.passwordHealth,seats:i.seats,passwordHealthHistoryEmpty:x})),(0,c.tZ)(d.dDn,{gridArea:"pwHealth",sx:{height:"418px",width:"710px"}},(0,c.tZ)(pr,{isLoading:s,report:i,passwordHealthHistoryEmpty:x,creationDateUnix:r})),v?(0,c.tZ)(d.dDn,{gridArea:"upgrade",sx:{width:"282px"}},(0,c.tZ)(d.Zbd,{sx:{padding:"16px"}},Wr||(Wr=(0,c.tZ)(un.P,{dismissible:!0})))):(0,c.tZ)(d.dDn,{gridArea:"dwi"},y===Lr.Loading?Hr||(Hr=(0,c.tZ)(hr,null)):null!==g?(0,c.tZ)(Nr,{verifiedOrPendingDomain:g,dwiSummaryResponse:b}):(0,c.tZ)(Or,{dwiSummaryResponse:b}))),s?Kr||(Kr=(0,c.tZ)(qr,null)):null,D?u===el.PURCHASE?(0,c.tZ)($r,{isOpen:!0,planCopy:C(Z),setModalState:_,handleClose:()=>{M(!1)}}):(0,c.tZ)(Vr,{isOpen:!0,plan:E,setModalState:_}):null)}),Me.$.DASHBOARD),Qh=lo((({lee:e,location:t})=>{const a=(0,n.useRef)(!1),{translate:i}=(0,p.Z)(),{reportTACError:r}=V(),l=(0,Oa.V)(),u=(0,gc.v)(),{routes:_}=(0,s.Xo)(),{proposeMembers:m}=(0,wa.u)(_c.L),[g,y]=(0,n.useState)(!0),{invitePartialSuccessState:b,setInvitePartialSuccessState:h,handleInvitationResultClosed:x}=Nc(),[S,f]=(0,n.useState)(null),[C,E]=(0,n.useState)(!1),[Z,N]=(0,n.useState)({showError:!1,membersWithoutPublicKey:[]}),T=(0,n.useCallback)((()=>{const t=(0,tn.v0)(e.globalState);return t||r(new Error(Ya.N)),t}),[e.globalState,r]),D=(0,n.useCallback)((()=>{E(!0),(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1}))}),[]),M=t=>{e.dispatch(Oc.eY(t))},I=(e,t)=>{h({show:!0,invitedMembers:e,refusedMembers:t}),M(Object.keys(e))},A=(0,n.useCallback)(((t,a=[],n)=>{const s=async()=>{if(f(null),a.forEach((t=>{e.dispatch(Oc.bh(t))})),!T())return;const t=a.map((e=>e.login));try{const n=await m({proposedMemberLogins:t});if("failure"===n.tag)throw new Error(n.error);if(n.data&&iu(n.data)){const{refusedMembers:i}=n.data.content;Object.values(i).forEach((t=>{const i=a.find((e=>e.login===t));I(n.data.proposedMembers,n.data.refusedMembers),e.dispatch(Oc.S2(i))})),(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Complete,inviteCount:0,inviteFailedCount:Object.keys(i).length,inviteResentCount:t.length,inviteSuccessfulCount:t.length-Object.keys(i).length,isImport:!1,isResend:!0}))}else l.showAlert(i("team_members_invite_success_message"),d.BLW.SUCCESS),(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Complete,inviteCount:0,inviteFailedCount:0,inviteResentCount:t.length,inviteSuccessfulCount:t.length,isImport:!1,isResend:!0}))}catch({message:n="",data:s={}}){const r=i("team_members_invite_error_message_no_free_slot"),c=i("team_members_invite_error_message"),{content:{error:u=n}={}}=s,_=["no_free_slot_free_plan","no_free_slot"].includes(u)?r:c;a.forEach((t=>{e.dispatch(Oc.S2(t)),l.showAlert(_,d.BLW.ERROR)})),(0,z.Kz)(new o.UserSendManualInviteEvent({flowStep:o.FlowStep.Error,inviteCount:0,inviteFailedCount:t.length,inviteResentCount:t.length,inviteSuccessfulCount:0,isImport:!1,isResend:!0}))}},r=a.map((e=>e.login));switch(t){case"demote":return f((0,c.tZ)(Gc,{lee:e,selectedMembers:a,closeDialog:()=>f(null)}));case"promote":return f((0,c.tZ)(Uc,{lee:e,selectedMembers:a,closeDialog:()=>f(null)}));case"reassign":return f((0,c.tZ)(td,{lee:e,selectedMembers:a,newRole:n,closeDialog:()=>f(null)}));case"reactivate":case"reinvite":return void s();case"reinviteAll":return f((0,c.tZ)(zc,{resendOrReactivate:s,closeDialog:()=>f(null)}));case"revoke":return f((0,c.tZ)(Rc,{lee:e,selectedMembers:a,closeDialog:()=>f(null)}));case"generateBackupCode":return f((0,c.tZ)(kc,{memberLogin:r[0],isOpen:!0,closeBackupCodeDialog:()=>f(null)}));case"enableInviteLink":return f((0,c.tZ)(qc,{closeDialog:()=>f(null),applyActionOnMembers:A}));case"shareInviteLink":return f((0,c.tZ)(Vc,{closeDialog:()=>f(null)}))}}),[l,T,I,i]);(0,n.useEffect)((()=>{if(a.current||null===u)return;a.current=!0;const n=T();if(!n)return;const{teamId:i}=n;i&&((new nn.Z).status({auth:n}).then((t=>{var a;return e.dispatch(Oc.xF({extraFreeSlots:t.content.team.extraFreeSlots,membersNumber:t.content.team.membersNumber,isFreeTrial:t.content.team.isFreeTrial,teamName:null!=(a=t.content.team.info.name)?a:"",teamSecurityScore:t.content.team.securityIndex})),(0,kn.YY)({teamId:i})})).then((a=>{e.dispatch(Oc.Wq({members:a})),y(!1);const n=a&&1===a.length,i=t.state?.openSendInvitesDialog;if(!u&&n||i)D();else if(t.state?.openResendPendingInvitationsDialog)return void A("reinviteAll",ad(a));const s=a.filter((e=>!e.hasPublicKey)).filter((e=>"accepted"===e.status));s.length&&N({showError:!0,membersWithoutPublicKey:s})})).catch(r),(0,z.Nc)(o.PageView.TacUserList))}),[D,A,T,e,t.state?.openResendPendingInvitationsDialog,t.state?.openSendInvitesDialog,u,r,i]);const w=uc(e.state.members.valueOr([]));return(0,Qr.p_)(),(0,Qr.LD)(),(0,c.tZ)("div",{className:"page--mHbRsmxXYZ"},(0,c.tZ)(yd,{accountRoute:_.teamAccountRoutePath,companyName:e.state.teamName.valueOr("—"),takenSeats:w,totalSeats:e.state.totalSeatCount.valueOr(0),teamSecurityScore:e.state.teamSecurityScore,shouldDisplayTeamSecurityScore:!0}),(0,c.tZ)("div",{className:"container--FEPnAnU3fL"},g?(0,c.tZ)(zi.Z,{containerStyle:{minHeight:240}}):(0,c.tZ)(au,{lee:e,members:e.state.members.valueOr([]),onMembersActionSelect:A,onMembersInvite:()=>D()})),Z.showError?(0,c.tZ)($c,{membersWithoutPublicKey:Z.membersWithoutPublicKey,onClose:()=>N((e=>({...e,showError:!1})))}):null,S,(0,c.tZ)(pu,{lee:e,teamId:(0,v.ev)(e.globalState),totalSeatCount:e.state.totalSeatCount.valueOr(0),numSeatsTaken:w,excludedInviteMembers:e.state.members.valueOr([]).filter((({status:e})=>"removed"!==e)).map((({login:e})=>e)),isFreeTrial:e.state.isFreeTrial.valueOr(!0),shouldShowInviteDialog:C,handleCloseInviteDialog:()=>E(!1),handleInvitePartialSuccess:I,handleInviteCompleteSuccess:M,invitePartialSuccessState:b,handleInvitationResultClosed:x}))}),Me.$.MEMBERS),Yh=lo((({lee:e})=>{var t;const{translate:a}=(0,p.Z)(),{verifiedOrPendingDomain:{domain:i,status:s},verifiedDomains:r,updateDomainState:l,deactivateDomain:c,tryVerifyDomain:u,selectVerifiedDomain:_}=zr();return(0,n.useEffect)((()=>{(0,z.Nc)(o.PageView.TacDarkWebInsights)}),[]),(0,y.tZ)(n.Fragment,null,(0,y.tZ)("div",{sx:{px:"48px",pt:"32px",pb:"12px"}},(0,y.tZ)(y.X6,{as:"h1"},a("team_dashboard_dark_web_insights_heading")),(0,y.tZ)(Du,{activeDomain:i,verifiedDomains:r,selectVerifiedDomain:_})),(0,y.tZ)(Iu,{fullWidth:!0,mainContent:()=>(0,y.tZ)("div",null,s===Lr.Loading?(0,y.tZ)("div",{sx:Au},(0,y.tZ)(d.HoD,{size:120,color:d.colors.dashGreen00,strokeWidth:1})):null===i||s===Lr.Start?t||(t=(0,y.tZ)(Fl,{onSuccess:l,onError:l})):s===Lr.Validated?(0,y.tZ)(fu,{lee:e,domainName:i.name}):(0,y.tZ)(Zu,{domain:i,isDeactivating:s===Lr.Deactivating,handleDeactivateDomain:c,handleRetryValidateDomain:u})),secondaryContent:cl}))}),Me.$.DARK_WEB_INSIGHTS),Xh=({basePath:e,path:t})=>n.createElement(s.GB,{path:t,reducer:yh.Z,permission:e=>e.loggedIn&&e.adminAccess.hasTACAccess,redirectPath:i.TT,component:Lo},n.createElement(s.rs,null,n.createElement(s.Vy,{exact:!0,path:`${e}/`,component:Vh,additionalProps:{from:`${e}/`}}),n.createElement(s.Vy,{component:qh,path:`${e}/${Me.$.CHANGE_PLAN}`,permission:e=>$h("BILLING",e)}),n.createElement(s.Vy,{component:Wh,path:`${e}/${Me.$.ACCOUNT}`,permission:e=>$h("BILLING",e),reducer:us.ZP,redirectPath:`${e}/${Me.$.GROUPS}`}),n.createElement(s.Vy,{component:Hh,path:`${e}/${Me.$.GET_STARTED}`,permission:e=>$h("FULL",e),redirectPath:`${e}/${Me.$.ACCOUNT}`}),n.createElement(s.Vy,{component:Kh,path:`${e}/${Me.$.DASHBOARD}`,permission:e=>$h("FULL",e),redirectPath:`${e}/${Me.$.ACCOUNT}`}),n.createElement(_o,{path:`${e}/${Me.$.ACTIVITY}`}),n.createElement(k_,{path:`${e}/${Me.$.GROUPS}`,permission:e=>$h("GROUP_READ",e)}),n.createElement(s.Vy,{component:Qh,path:`${e}/${Me.$.MEMBERS}`,permission:e=>$h("FULL",e),redirectPath:`${e}/${Me.$.ACCOUNT}`,reducer:Oc.ZP}),n.createElement(s.Vy,{component:Yh,path:`${e}/${Me.$.DARK_WEB_INSIGHTS}`,permission:e=>$h("FULL",e),redirectPath:`${e}/${Me.$.DARK_WEB_INSIGHTS}`,reducer:Oc.ZP}),n.createElement(lh,{path:`${e}/${Me.$.SETTINGS}`})))},920106:(e,t,a)=>{a.d(t,{GQ:()=>u,Kq:()=>l,MP:()=>d,ZP:()=>m,d:()=>r,g7:()=>o,kE:()=>c,qs:()=>_});var n=a(158432),i=a(233377);const s=(0,n.SP)("settings-page",{allowPersistenceForMasterPassword:i.Maybe.nothing(),allowSharing:i.Maybe.nothing(),enforce2FA:i.Maybe.nothing(),cryptoForcedPayload:i.Maybe.nothing(),disableAutoLoginDomains:i.Maybe.nothing(),enableForcedDomains:i.Maybe.nothing(),enablePersonalSpace:i.Maybe.nothing(),enableRemoveForcedContent:i.Maybe.nothing(),enableVPN:i.Maybe.nothing(),forceAutomaticLogout:i.Maybe.nothing(),idpCertificate:i.Maybe.nothing(),idpSecurityGroups:i.Maybe.nothing(),idpUrl:i.Maybe.nothing(),isLoading:!0,lockOnExit:i.Maybe.nothing(),collectSensitiveDataAuditLogsEnabled:i.Maybe.nothing(),teamDomain:i.Maybe.nothing(),confirmationField:null,dialogIsVisible:!1,masterPasswordFieldValue:null,isMasterPasswordInvalid:!0,ssoEnabled:i.Maybe.nothing()},[]),o=s.action("show-confirmation-dialog",(({param:e})=>({confirmationField:e,dialogIsVisible:!0,masterPasswordFieldValue:null,isMasterPasswordInvalid:null}))),r=s.action("hide-confirmation-dialog",(()=>({confirmationField:null,dialogIsVisible:!1,masterPasswordFieldValue:null,isMasterPasswordInvalid:null}))),l=s.action("set-master-password-invalid",(({param:e})=>({isMasterPasswordInvalid:e}))),c=s.action("set-master-password-field-value",(({param:e})=>({masterPasswordFieldValue:e,isMasterPasswordInvalid:null}))),d=s.action("team-status-loaded",(({param:e})=>({allowPersistenceForMasterPassword:i.Maybe.maybe(e.allowPersistenceForMasterPassword),allowSharing:i.Maybe.maybe(e.allowSharing),enforce2FA:i.Maybe.maybe(e.enforce2FA),cryptoForcedPayload:i.Maybe.maybe(e.cryptoForcedPayload),disableAutoLoginDomains:i.Maybe.maybe(e.disableAutoLoginDomains),enableForcedDomains:i.Maybe.maybe(e.enableForcedDomains),enablePersonalSpace:i.Maybe.maybe(e.enablePersonalSpace),enableRemoveForcedContent:i.Maybe.maybe(e.enableRemoveForcedContent),enableVPN:i.Maybe.maybe(e.enableVPN),forceAutomaticLogout:i.Maybe.maybe(e.forceAutomaticLogout),idpCertificate:i.Maybe.maybe(e.idpCertificate),idpSecurityGroups:i.Maybe.maybe(e.idpSecurityGroups),idpUrl:i.Maybe.maybe(e.idpUrl),isLoading:!1,lockOnExit:i.Maybe.maybe(e.lockOnExit),collectSensitiveDataAuditLogsEnabled:i.Maybe.maybe(e.collectSensitiveDataAuditLogsEnabled),ssoEnabled:i.Maybe.maybe(e.ssoEnabled),teamDomain:i.Maybe.maybe(e.teamDomain)}))),u=s.action("setting-switch-toggled",(({param:e,state:t})=>{const a={};return a[e]=t[e].map((e=>!e)),a})),_=s.action("setting-changed",(({param:e})=>({[e.feature]:i.Maybe.maybe(e.value)}))),m=s},352116:(e,t,a)=>{a.d(t,{fV:()=>d,qc:()=>c});var n=a(696832),i=a(75034),s=a(537026),o=a(133354),r=a(796365);const l=n.createContext({currentSpaceId:null,spaceDetails:null,teamId:null,isTeamCreator:null}),c=({lee:e,children:t})=>{var a;const c=(0,s.B)(e.globalState),d=null!=(a=(0,i.xO)(e.globalState)?.details)?a:null,u=(0,i.ev)(e.globalState),{status:_,isTeamCreator:m}=(0,r.m)(),p=_===o.rq.Success&&m;return n.createElement(l.Provider,{value:{teamId:u,currentSpaceId:c,spaceDetails:d,isTeamCreator:p}},t)},d=()=>n.useContext(l)},816694:(e,t,a)=>{a.d(t,{vo:()=>i,ZP:()=>r,dV:()=>o,Kk:()=>s});const n=(0,a(158432).SP)("active-directory-settings",{activeDirectoryScript:"",activeDirectorySyncStatus:{failedSyncCount:0,lastFailedSync:null,lastSuccessfulSync:null},activeDirectorySyncType:null,isCopied:!1}),i=n.action("active-directory-settings-loaded",(({param:e})=>{var t,a,n;return{activeDirectoryScript:(a=e.activeDirectoryToken,n=e.teamId,`#################################################################################\n## dashlane-ad-sync.ps1\n##\n## For more information, please visit :\n## https://support.dashlane.com/hc/articles/115002155485\n##\n## This script will:\n## 1. Search each Group's GroupMembers\n## 2. Export all GroupMember AD User Email Address values to a temp CSV file\n## 3. Sign the data extract\n## 4. Synchronize the data with Dashlane\n#################################################################################\n\nPROCESS {\n\n##################################################################################\n## List the Group Names you'd like to extract Users from and sync with Dashlane ##\n##################################################################################\n\n$Groups = @(\n    "AGroup",\n    "AnotherGroup"\n)\n\n##################################################################################\n## Replace this with the attribute containing your employees' Dashlane logins   ##\n##################################################################################\n\n$DASHLANE_LOGIN_ATTR = "mail"\n\n#################################################################################\n##  DO NOT CHANGE THE PROCESS BELOW                                            ##\n#################################################################################\n\nImport-Module ActiveDirectory\n\nWrite-Host "Running Dashlane AD synchronization"\n\n$GroupMembers = @()\n$GroupInfos = @()\n$CSV_TEMP_PATH = $env:TEMP + "dashlane_export.csv"\n$INSTALL_TOKEN = "${a}"\n$TEAM_ID = "${n}"\n\n##################################################################################\n## Anaylzing Groups                                                                ##\n##################################################################################\n\nforeach ($Group in $Groups) {\n    Try {\n        $GroupInfo = Get-ADGroup -Identity $Group | Select Name, ObjectGUID\n        $GroupInfo | Add-Member Members @()\n\n        $Members = Get-ADGroupMember -Identity $Group | Get-ADUser -Properties Mail\n\n        # Roughly filtering out users with invalid emails.\n        # A user with an invalid email is filtered out by Dashlane servers: it will therefore not\n        # be included in the verified data, which will lead to an invalid signature check if it is\n        # included in the signed data.\n        $ValidMembers = $Members | Where-Object {($_ | Select -ExpandProperty $DASHLANE_LOGIN_ATTR) -like '*@*.*' }\n        # Lower case and trim all emails to make consistent with Dashlane servers; only need email\n        $ValidMembers = $ValidMembers | Select @{ \n            Label=$DASHLANE_LOGIN_ATTR; \n            Expression={($_ | Select -ExpandProperty $DASHLANE_LOGIN_ATTR).ToLower().Trim() } \n        }\n        # Sort the users and get rid of any potential duplicates\n        $ValidMembers = $ValidMembers | Sort-Object -Property $DASHLANE_LOGIN_ATTR | Get-Unique -AsString\n        # Get a count\n        $measure = $ValidMembers | measure\n        $count = $measure.count\n        Write-Host "Exporting $count valid members from $Group"\n\n        if ($count -gt 0) {\n            foreach ($Member in $ValidMembers) {\n                $Member | Add-Member GroupName $GroupInfo.Name\n                $Member | Add-Member GroupGUID $GroupInfo.ObjectGUID\n                $GroupMembers += $Member\n                $GroupInfo.Members += $Member\n            }\n            $GroupInfos += $GroupInfo\n        }\n    } Catch {\n        $ErrorMessage = $_.Exception.Message\n        $FailedItem = $_.Exception.GetType().FullName\n\n        Write-Host "Error: $FailedItem - $ErrorMessage"\n        Write-Host "Message: It seems there is no account on this Group: $Group."\n        Exit 2\n    }\n}\n\n##################################################################################\n## Writing temp CSV                                                             ##\n##################################################################################\n\nWrite-Host ""\nWrite-Host "Writing debug information to $CSV_TEMP_PATH"\n$GroupMembers | Export-Csv -Path $CSV_TEMP_PATH -NoTypeInformation -Encoding UTF8\n\n##################################################################################\n## Generate signature                                                           ##\n##################################################################################\n\nTry {\n    $CspParameters = New-Object -TypeName System.Security.Cryptography.CspParameters\n    $CspParameters.KeyContainerName = "DashlaneDirectorySyncKey53"\n\n    $RSA = New-Object -TypeName System.Security.Cryptography.RSACryptoServiceProvider -ArgumentList $CspParameters\n    $PublicKey = $RSA.ToXmlString($false)\n    $PublicKeyHash = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($PublicKey))\n\n    Write-Host ""\n    Write-Host "---------- Provide your Dashlane admin with this key on setup: -----------"\n    Write-Host ""\n    Write-Host $PublicKeyHash\n    Write-Host ""\n    Write-Host "--------------------------------------------------------------------------"\n    Write-Host ""\n\n    $RSAFormatter = New-Object -TypeName System.Security.Cryptography.RSAPKCS1SignatureFormatter -ArgumentList $RSA\n    $RSAFormatter.SetHashAlgorithm("SHA256")\n\n    $DataStr = $TEAM_ID\n    foreach ($GroupInfo in $GroupInfos | Sort-Object -Property ObjectGUID) {\n        $DataStr += $GroupInfo.ObjectGUID\n        $DataStr += $GroupInfo.Name\n\n        foreach ($Member in $GroupInfo.Members | Sort-Object -Property $DASHLANE_LOGIN_ATTR) {\n            $DashlaneLogin = $Member | Select -ExpandProperty $DASHLANE_LOGIN_ATTR\n            $DataStr += $DashlaneLogin\n        }\n    }\n    $DataBytes = [System.Text.Encoding]::UTF8.GetBytes($DataStr)\n    $SHA256 = New-Object -TypeName System.Security.Cryptography.SHA256CryptoServiceProvider\n    $DataHash = $SHA256.ComputeHash($DataBytes)\n\n    $SignatureBytes = $RSAFormatter.CreateSignature($DataHash)\n    $SignatureHash = [System.Convert]::ToBase64String($SignatureBytes)\n\n} Catch {\n    $ErrorMessage = $_.Exception.Message\n    $FailedItem = $_.Exception.GetType().FullName\n    Write-Host "Failed: $FailedItem - $ErrorMessage"\n    Exit 3\n}\n\n##################################################################################\n## Send data to Dashlane                                                        ##\n##################################################################################\n\n$FileContent = Get-Content $CSV_TEMP_PATH | Out-String\n$FileContentBytes = [System.Text.Encoding]::UTF8.GetBytes($FileContent)\n$FileContentEncoded = [System.Convert]::ToBase64String($FileContentBytes)\n\n[System.Net.ServicePointManager]::SecurityProtocol = [System.Net.SecurityProtocolType]::Tls12;\n\n$URL = "https://ws1.dashlane.com/1/teamPlans/syncFromDirectory"\n$Payload = @{adLogins=$FileContentEncoded;adToken=$INSTALL_TOKEN;teamId=$TEAM_ID;signature=$SignatureHash;publicKey=$PublicKeyHash}\n\nTry {\n    $Response = Invoke-WebRequest -Uri $URL -Method POST -Body $Payload\n    Write-Host "Dashlane sync responded with: $Response"\n\n} Catch {\n    $ErrorMessage = $_.Exception.Message\n    $FailedItem = $_.Exception.GetType().FullName\n    Write-Host ""\n    Write-Host "Dashlane sync error: $FailedItem - $ErrorMessage"\n}\n\n##################################################################################\n## Cleaning up temp CSV                                                         ##\n##################################################################################\n\nRemove-Item $CSV_TEMP_PATH\n\n}`),activeDirectorySyncStatus:e.activeDirectorySyncStatus||null,activeDirectorySyncType:null!=(t=e.activeDirectorySyncType)?t:null}})),s=n.action("script-copy-feedback-toggled",(({param:e})=>({isCopied:e}))),o=n.action("active-directory-sync-type-set",(({param:e})=>({activeDirectorySyncType:e}))),r=n},597198:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(158432),i=a(920106);const s=(0,n.SP)("authentication-settings",{},[i.ZP])},986081:(e,t,a)=>{a.d(t,{E4:()=>r,FC:()=>s,ZP:()=>c,a2:()=>o,k0:()=>i,qf:()=>l});const n=(0,a(158432).SP)("duo-settings",{hasDuo:!1,duoIntegrationKey:"",duoSecretKey:"",duoApiHostname:""}),i=n.action("duo-settings-loaded",(({param:e})=>({hasDuo:e.duo||!1,duoIntegrationKey:e.duoIntegrationKey||"",duoSecretKey:e.duoSecretKey||"",duoApiHostname:e.duoApiHostname||""}))),s=n.action("duo-set",(({param:e})=>({hasDuo:e}))),o=n.action("duo-integration-key-set",(({param:e})=>({duoIntegrationKey:e}))),r=n.action("duo-secret-key-set",(({param:e})=>({duoSecretKey:e}))),l=n.action("duo-api-hostname-set",(({param:e})=>({duoApiHostname:e}))),c=n},714072:(e,t,a)=>{a.d(t,{h:()=>o});var n=a(696832),i=a(46298),s=a(66941);function o(){const[e,t]=(0,n.useState)(!0),[a,o]=(0,n.useState)(null),[r,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),u=(0,n.useCallback)((async(e,t)=>{try{const a=await s.C.requestInviteLinkToken({teamUuid:e,login:t});if(a.success)return a.data;d(a.error.code)}catch{d(i.UnknownError)}return null}),[]);return{inviteLinkDataLoading:e,inviteLinkError:c,inviteLinkData:a,inviteLinkDataForAdmin:r,getInviteLinkData:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.getInviteLink({teamKey:e});if(t.success)return o(t.data),t.data;d(t.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[]),requestInviteLinkToken:u,getInviteLinkDataForAdmin:(0,n.useCallback)((async()=>{t(!0);try{const e=await s.C.getInviteLinkForAdmin({});if(e.success)return l(e.data),e.data;d(e.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[]),createInviteLink:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.createInviteLink({displayName:e});if(t.success)return t.data;d(t.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[]),changeInviteLinkTeamKey:(0,n.useCallback)((async()=>{t(!0);try{const e=await s.C.changeInviteLinkTeamKey({});if(e.success)return e.data;d(e.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[]),toggleInviteLink:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.toggleInviteLink({disabled:e});if(t.success)return t.data;d(t.error.code)}catch{d(i.UnknownError)}finally{t(!1)}return null}),[])}}},901500:(e,t,a)=>{a.d(t,{ZP:()=>o,Zn:()=>s,x:()=>i});const n=(0,a(158432).SP)("master-password-policies-settings",{recoveryEnabled:!1}),i=n.action("master-password-policies-settings-loaded",(({param:e})=>({recoveryEnabled:Boolean(e.recoveryEnabled)}))),s=n.action("set-recovery-enabled",(({param:e})=>({recoveryEnabled:e}))),o=n},622880:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(158432),i=a(920106);const s=(0,n.SP)("policies-settings",{},[i.ZP])},760797:(e,t,a)=>{a.d(t,{H:()=>s,I:()=>i});var n=a(66941);async function i(){const e=await n.C.getTeamInfo();if(e.success){const{data:{teamInfo:t,planTier:a,capabilities:n,seats:i}}=e;return{teamInfo:t,planTier:a,capabilities:n,seats:i}}{const{message:t}=e;throw new Error(`getTeamInfo: failed with error: ${t}`)}}async function s(){const e=await n.C.getLastADSyncDate();if(e.success)return{lastSyncRequestForTeamUnix:e.data.lastSyncRequestForTeam,lastSuccessfulSyncRequestForTeamUnix:e.data.lastSuccessfulSyncRequestForTeam};throw new Error(`getScimLastSyncDate: failed with error ${e.error}`)}},140857:(e,t,a)=>{let n;a.d(t,{$:()=>n}),function(e){e.ACCOUNT="account",e.ACTIVITY="activity",e.CHANGE_PLAN="account/changeplan",e.DASHBOARD="dashboard",e.GROUPS="groups",e.MEMBERS="members",e.SETTINGS="settings",e.DARK_WEB_INSIGHTS="dark-web-insights",e.GET_STARTED="get-started"}(n||(n={}))}}]);